import{a as G,b as Ne,c as Tg,d as P,e as LI,f as jc,g as jI,h as UI,i as BI,j as Ag,k as $I,l as gu,m as xg,n as Uc,o as HI,p as qI,q as Mg,r as Ke,s as io,t as er,u as Bc,v as mu,w as zI,x as GI,y as oi,z as It}from"./chunk-F2DTFGEP.js";var WI=null;var Rg=1,Ng=Symbol("SIGNAL");function Ee(n){let e=WI;return WI=n,e}var KI={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function gN(n){if(!(Fg(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===Rg)){if(!n.producerMustRecompute(n)&&!Pg(n)){n.dirty=!1,n.lastCleanEpoch=Rg;return}n.producerRecomputeValue(n),n.dirty=!1,n.lastCleanEpoch=Rg}}function QI(n){return n&&(n.nextProducerIndex=0),Ee(n)}function YI(n,e){if(Ee(e),!(!n||n.producerNode===void 0||n.producerIndexOfThis===void 0||n.producerLastReadVersion===void 0)){if(Fg(n))for(let t=n.nextProducerIndex;t<n.producerNode.length;t++)kg(n.producerNode[t],n.producerIndexOfThis[t]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function Pg(n){$c(n);for(let e=0;e<n.producerNode.length;e++){let t=n.producerNode[e],r=n.producerLastReadVersion[e];if(r!==t.version||(gN(t),r!==t.version))return!0}return!1}function ZI(n){if($c(n),Fg(n))for(let e=0;e<n.producerNode.length;e++)kg(n.producerNode[e],n.producerIndexOfThis[e]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function kg(n,e){if(mN(n),$c(n),n.liveConsumerNode.length===1)for(let r=0;r<n.producerNode.length;r++)kg(n.producerNode[r],n.producerIndexOfThis[r]);let t=n.liveConsumerNode.length-1;if(n.liveConsumerNode[e]=n.liveConsumerNode[t],n.liveConsumerIndexOfThis[e]=n.liveConsumerIndexOfThis[t],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,e<n.liveConsumerNode.length){let r=n.liveConsumerIndexOfThis[e],i=n.liveConsumerNode[e];$c(i),i.producerIndexOfThis[r]=e}}function Fg(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function $c(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}function mN(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}function yN(){throw new Error}var vN=yN;function JI(n){vN=n}function ae(n){return typeof n=="function"}function gs(n){let t=n(r=>{Error.call(r),r.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var Hc=gs(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function oo(n,e){if(n){let t=n.indexOf(e);0<=t&&n.splice(t,1)}}var et=class n{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let o of t)o.remove(this);else t.remove(this);let{initialTeardown:r}=this;if(ae(r))try{r()}catch(o){e=o instanceof Hc?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{XI(o)}catch(s){e=e??[],s instanceof Hc?e=[...e,...s.errors]:e.push(s)}}if(e)throw new Hc(e)}}add(e){var t;if(e&&e!==this)if(this.closed)XI(e);else{if(e instanceof n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}}_hasParent(e){let{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){let{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&oo(t,e)}remove(e){let{_finalizers:t}=this;t&&oo(t,e),e instanceof n&&e._removeParent(this)}};et.EMPTY=(()=>{let n=new et;return n.closed=!0,n})();var Og=et.EMPTY;function qc(n){return n instanceof et||n&&"closed"in n&&ae(n.remove)&&ae(n.add)&&ae(n.unsubscribe)}function XI(n){ae(n)?n():n.unsubscribe()}var Pn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var ms={setTimeout(n,e,...t){let{delegate:r}=ms;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){let{delegate:e}=ms;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function zc(n){ms.setTimeout(()=>{let{onUnhandledError:e}=Pn;if(e)e(n);else throw n})}function yu(){}var eC=Vg("C",void 0,void 0);function tC(n){return Vg("E",void 0,n)}function nC(n){return Vg("N",n,void 0)}function Vg(n,e,t){return{kind:n,value:e,error:t}}var so=null;function ys(n){if(Pn.useDeprecatedSynchronousErrorHandling){let e=!so;if(e&&(so={errorThrown:!1,error:null}),n(),e){let{errorThrown:t,error:r}=so;if(so=null,t)throw r}}else n()}function rC(n){Pn.useDeprecatedSynchronousErrorHandling&&so&&(so.errorThrown=!0,so.error=n)}var ao=class extends et{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,qc(e)&&e.add(this)):this.destination=EN}static create(e,t,r){return new Ar(e,t,r)}next(e){this.isStopped?jg(nC(e),this):this._next(e)}error(e){this.isStopped?jg(tC(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?jg(eC,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},_N=Function.prototype.bind;function Lg(n,e){return _N.call(n,e)}var Ug=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){Gc(r)}}error(e){let{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){Gc(r)}else Gc(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){Gc(t)}}},Ar=class extends ao{constructor(e,t,r){super();let i;if(ae(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let o;this&&Pn.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Lg(e.next,o),error:e.error&&Lg(e.error,o),complete:e.complete&&Lg(e.complete,o)}):i=e}this.destination=new Ug(i)}};function Gc(n){Pn.useDeprecatedSynchronousErrorHandling?rC(n):zc(n)}function wN(n){throw n}function jg(n,e){let{onStoppedNotification:t}=Pn;t&&ms.setTimeout(()=>t(n,e))}var EN={closed:!0,next:yu,error:wN,complete:yu};var vs=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Gt(n){return n}function Bg(...n){return $g(n)}function $g(n){return n.length===0?Gt:n.length===1?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}var me=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){let r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){let o=CN(t)?t:new Ar(t,r,i);return ys(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return r=iC(r),new r((i,o)=>{let s=new Ar({next:a=>{try{t(a)}catch(u){o(u),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(t){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(t)}[vs](){return this}pipe(...t){return $g(t)(this)}toPromise(t){return t=iC(t),new t((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return n.create=e=>new n(e),n})();function iC(n){var e;return(e=n??Pn.Promise)!==null&&e!==void 0?e:Promise}function IN(n){return n&&ae(n.next)&&ae(n.error)&&ae(n.complete)}function CN(n){return n&&n instanceof ao||IN(n)&&qc(n)}function Hg(n){return ae(n?.lift)}function he(n){return e=>{if(Hg(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function fe(n,e,t,r,i){return new qg(n,e,t,r,i)}var qg=class extends ao{constructor(e,t,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function _s(){return he((n,e)=>{let t=null;n._refCount++;let r=fe(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount){t=null;return}let i=n._connection,o=t;t=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}var ws=class extends me{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,Hg(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new et;let t=this.getSubject();e.add(this.source.subscribe(fe(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=et.EMPTY)}return e}refCount(){return _s()(this)}};var oC=gs(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var tt=(()=>{class n extends me{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let r=new Wc(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new oC}next(t){ys(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(t)}})}error(t){ys(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){ys(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:r,isStopped:i,observers:o}=this;return r||i?Og:(this.currentObservers=null,o.push(t),new et(()=>{this.currentObservers=null,oo(o,t)}))}_checkFinalizedStatuses(t){let{hasError:r,thrownError:i,isStopped:o}=this;r?t.error(i):o&&t.complete()}asObservable(){let t=new me;return t.source=this,t}}return n.create=(e,t)=>new Wc(e,t),n})(),Wc=class extends tt{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.next)===null||r===void 0||r.call(t,e)}error(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.error)===null||r===void 0||r.call(t,e)}complete(){var e,t;(t=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||t===void 0||t.call(e)}_subscribe(e){var t,r;return(r=(t=this.source)===null||t===void 0?void 0:t.subscribe(e))!==null&&r!==void 0?r:Og}};var bt=class extends tt{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){let{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var vu={now(){return(vu.delegate||Date).now()},delegate:void 0};var Kc=class extends tt{constructor(e=1/0,t=1/0,r=vu){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){let{isStopped:t,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:o,_windowTime:s}=this;t||(r.push(e),!i&&r.push(o.now()+s)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();let t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,o=i.slice();for(let s=0;s<o.length&&!e.closed;s+=r?1:2)e.next(o[s]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){let{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:i}=this,o=(i?1:2)*e;if(e<1/0&&o<r.length&&r.splice(0,r.length-o),!i){let s=t.now(),a=0;for(let u=1;u<r.length&&r[u]<=s;u+=2)a=u;a&&r.splice(0,a+1)}}};var Qc=class extends et{constructor(e,t){super()}schedule(e,t=0){return this}};var _u={setInterval(n,e,...t){let{delegate:r}=_u;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){let{delegate:e}=_u;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};var Es=class extends Qc{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,t)),this.pending=!0,this.delay=t,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,t),this}requestAsyncId(e,t,r=0){return _u.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return t;t!=null&&_u.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,t);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,oo(r,this),e!=null&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}};var Is=class n{constructor(e,t=n.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}};Is.now=vu.now;var Cs=class extends Is{constructor(e,t=Is.now){super(e,t),this.actions=[],this._active=!1}flush(e){let{actions:t}=this;if(this._active){t.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}};var wu=new Cs(Es);var Yc=class extends Es{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,t,r):(e.flush(this),0)}};var Zc=class extends Cs{};var zg=new Zc(Yc);var Wt=new me(n=>n.complete());function sC(n){return n&&ae(n.schedule)}function Gg(n){return n[n.length-1]}function Jc(n){return ae(Gg(n))?n.pop():void 0}function tr(n){return sC(Gg(n))?n.pop():void 0}function aC(n,e){return typeof Gg(n)=="number"?n.pop():e}var Xc=n=>n&&typeof n.length=="number"&&typeof n!="function";function ed(n){return ae(n?.then)}function td(n){return ae(n[vs])}function nd(n){return Symbol.asyncIterator&&ae(n?.[Symbol.asyncIterator])}function rd(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function DN(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var id=DN();function od(n){return ae(n?.[id])}function sd(n){return jI(this,arguments,function*(){let t=n.getReader();try{for(;;){let{value:r,done:i}=yield jc(t.read());if(i)return yield jc(void 0);yield yield jc(r)}}finally{t.releaseLock()}})}function ad(n){return ae(n?.getReader)}function $e(n){if(n instanceof me)return n;if(n!=null){if(td(n))return bN(n);if(Xc(n))return SN(n);if(ed(n))return TN(n);if(nd(n))return uC(n);if(od(n))return AN(n);if(ad(n))return xN(n)}throw rd(n)}function bN(n){return new me(e=>{let t=n[vs]();if(ae(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function SN(n){return new me(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}function TN(n){return new me(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,zc)})}function AN(n){return new me(e=>{for(let t of n)if(e.next(t),e.closed)return;e.complete()})}function uC(n){return new me(e=>{MN(n,e).catch(t=>e.error(t))})}function xN(n){return uC(sd(n))}function MN(n,e){var t,r,i,o;return LI(this,void 0,void 0,function*(){try{for(t=UI(n);r=yield t.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=t.return)&&(yield o.call(t))}finally{if(i)throw i.error}}e.complete()})}function on(n,e,t,r=0,i=!1){let o=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(o),!i)return o}function En(n,e=0){return he((t,r)=>{t.subscribe(fe(r,i=>on(r,n,()=>r.next(i),e),()=>on(r,n,()=>r.complete(),e),i=>on(r,n,()=>r.error(i),e)))})}function kn(n,e=0){return he((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function lC(n,e){return $e(n).pipe(kn(e),En(e))}function cC(n,e){return $e(n).pipe(kn(e),En(e))}function dC(n,e){return new me(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}function hC(n,e){return new me(t=>{let r;return on(t,e,()=>{r=n[id](),on(t,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){t.error(s);return}o?t.complete():t.next(i)},0,!0)}),()=>ae(r?.return)&&r.return()})}function ud(n,e){if(!n)throw new Error("Iterable cannot be null");return new me(t=>{on(t,e,()=>{let r=n[Symbol.asyncIterator]();on(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function fC(n,e){return ud(sd(n),e)}function pC(n,e){if(n!=null){if(td(n))return lC(n,e);if(Xc(n))return dC(n,e);if(ed(n))return cC(n,e);if(nd(n))return ud(n,e);if(od(n))return hC(n,e);if(ad(n))return fC(n,e)}throw rd(n)}function Ie(n,e){return e?pC(n,e):$e(n)}function re(...n){let e=tr(n);return Ie(n,e)}function Ds(n,e){let t=ae(n)?n:()=>n,r=i=>i.error(t());return new me(e?i=>e.schedule(r,0,i):r)}function Wg(n){return!!n&&(n instanceof me||ae(n.lift)&&ae(n.subscribe))}var xr=gs(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function ee(n,e){return he((t,r)=>{let i=0;t.subscribe(fe(r,o=>{r.next(n.call(e,o,i++))}))})}var{isArray:RN}=Array;function NN(n,e){return RN(e)?n(...e):n(e)}function ld(n){return ee(e=>NN(n,e))}var{isArray:PN}=Array,{getPrototypeOf:kN,prototype:FN,keys:ON}=Object;function cd(n){if(n.length===1){let e=n[0];if(PN(e))return{args:e,keys:null};if(VN(e)){let t=ON(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}function VN(n){return n&&typeof n=="object"&&kN(n)===FN}function dd(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function Eu(...n){let e=tr(n),t=Jc(n),{args:r,keys:i}=cd(n);if(r.length===0)return Ie([],e);let o=new me(LN(r,e,i?s=>dd(i,s):Gt));return t?o.pipe(ld(t)):o}function LN(n,e,t=Gt){return r=>{gC(e,()=>{let{length:i}=n,o=new Array(i),s=i,a=i;for(let u=0;u<i;u++)gC(e,()=>{let c=Ie(n[u],e),h=!1;c.subscribe(fe(r,f=>{o[u]=f,h||(h=!0,a--),a||r.next(t(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function gC(n,e,t){n?on(t,n,e):e()}function mC(n,e,t,r,i,o,s,a){let u=[],c=0,h=0,f=!1,m=()=>{f&&!u.length&&!c&&e.complete()},y=D=>c<r?S(D):u.push(D),S=D=>{o&&e.next(D),c++;let T=!1;$e(t(D,h++)).subscribe(fe(e,L=>{i?.(L),o?y(L):e.next(L)},()=>{T=!0},void 0,()=>{if(T)try{for(c--;u.length&&c<r;){let L=u.shift();s?on(e,s,()=>S(L)):S(L)}m()}catch(L){e.error(L)}}))};return n.subscribe(fe(e,y,()=>{f=!0,m()})),()=>{a?.()}}function ut(n,e,t=1/0){return ae(e)?ut((r,i)=>ee((o,s)=>e(r,o,i,s))($e(n(r,i))),t):(typeof e=="number"&&(t=e),he((r,i)=>mC(r,i,n,t)))}function si(n=1/0){return ut(Gt,n)}function yC(){return si(1)}function bs(...n){return yC()(Ie(n,tr(n)))}function hd(n){return new me(e=>{$e(n()).subscribe(e)})}function Kg(...n){let e=Jc(n),{args:t,keys:r}=cd(n),i=new me(o=>{let{length:s}=t;if(!s){o.complete();return}let a=new Array(s),u=s,c=s;for(let h=0;h<s;h++){let f=!1;$e(t[h]).subscribe(fe(o,m=>{f||(f=!0,c--),a[h]=m},()=>u--,void 0,()=>{(!u||!f)&&(c||o.next(r?dd(r,a):a),o.complete())}))}});return e?i.pipe(ld(e)):i}function Qg(...n){let e=tr(n),t=aC(n,1/0),r=n;return r.length?r.length===1?$e(r[0]):si(t)(Ie(r,e)):Wt}function mt(n,e){return he((t,r)=>{let i=0;t.subscribe(fe(r,o=>n.call(e,o,i++)&&r.next(o)))})}function ai(n){return he((e,t)=>{let r=null,i=!1,o;r=e.subscribe(fe(t,void 0,void 0,s=>{o=$e(n(s,ai(n)(e))),r?(r.unsubscribe(),r=null,o.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(t))})}function vC(n,e,t,r,i){return(o,s)=>{let a=t,u=e,c=0;o.subscribe(fe(s,h=>{let f=c++;u=a?n(u,h,f):(a=!0,h),r&&s.next(u)},i&&(()=>{a&&s.next(u),s.complete()})))}}function Mr(n,e){return ae(e)?ut(n,e,1):ut(n,1)}function ui(n){return he((e,t)=>{let r=!1;e.subscribe(fe(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function Rr(n){return n<=0?()=>Wt:he((e,t)=>{let r=0;e.subscribe(fe(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function Yg(n){return ee(()=>n)}function Zg(n,e=Gt){return n=n??jN,he((t,r)=>{let i,o=!0;t.subscribe(fe(r,s=>{let a=e(s);(o||!n(i,a))&&(o=!1,i=a,r.next(s))}))})}function jN(n,e){return n===e}function fd(n=UN){return he((e,t)=>{let r=!1;e.subscribe(fe(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function UN(){return new xr}function li(n){return he((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function In(n,e){let t=arguments.length>=2;return r=>r.pipe(n?mt((i,o)=>n(i,o,r)):Gt,Rr(1),t?ui(e):fd(()=>new xr))}function Ss(n){return n<=0?()=>Wt:he((e,t)=>{let r=[];e.subscribe(fe(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(let i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function Jg(n,e){let t=arguments.length>=2;return r=>r.pipe(n?mt((i,o)=>n(i,o,r)):Gt,Ss(1),t?ui(e):fd(()=>new xr))}function Iu(){return he((n,e)=>{let t,r=!1;n.subscribe(fe(e,i=>{let o=t;t=i,r&&e.next([o,i]),r=!0}))})}function uo(n,e){return he(vC(n,e,arguments.length>=2,!0))}function _C(n={}){let{connector:e=()=>new tt,resetOnError:t=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=n;return o=>{let s,a,u,c=0,h=!1,f=!1,m=()=>{a?.unsubscribe(),a=void 0},y=()=>{m(),s=u=void 0,h=f=!1},S=()=>{let D=s;y(),D?.unsubscribe()};return he((D,T)=>{c++,!f&&!h&&m();let L=u=u??e();T.add(()=>{c--,c===0&&!f&&!h&&(a=Xg(S,i))}),L.subscribe(T),!s&&c>0&&(s=new Ar({next:K=>L.next(K),error:K=>{f=!0,m(),a=Xg(y,t,K),L.error(K)},complete:()=>{h=!0,m(),a=Xg(y,r),L.complete()}}),$e(D).subscribe(s))})(o)}}function Xg(n,e,...t){if(e===!0){n();return}if(e===!1)return;let r=new Ar({next:()=>{r.unsubscribe(),n()}});return $e(e(...t)).subscribe(r)}function pd(n,e,t){let r,i=!1;return n&&typeof n=="object"?{bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:t}=n:r=n??1/0,_C({connector:()=>new Kc(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function lo(...n){let e=tr(n);return he((t,r)=>{(e?bs(n,t,e):bs(n,t)).subscribe(r)})}function Ge(n,e){return he((t,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();t.subscribe(fe(r,u=>{i?.unsubscribe();let c=0,h=o++;$e(n(u,h)).subscribe(i=fe(r,f=>r.next(e?e(u,f,h,c++):f),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function gd(n,e){return ae(e)?Ge(()=>n,e):Ge(()=>n)}function em(n){return he((e,t)=>{$e(n).subscribe(fe(t,()=>t.complete(),yu)),!t.closed&&e.subscribe(t)})}function lt(n,e,t){let r=ae(n)||e||t?{next:n,error:e,complete:t}:n;return r?he((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(fe(o,u=>{var c;(c=r.next)===null||c===void 0||c.call(r,u),o.next(u)},()=>{var u;a=!1,(u=r.complete)===null||u===void 0||u.call(r),o.complete()},u=>{var c;a=!1,(c=r.error)===null||c===void 0||c.call(r,u),o.error(u)},()=>{var u,c;a&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(c=r.finalize)===null||c===void 0||c.call(r)}))}):Gt}var BN="https://g.co/ng/security#xss",te=class extends Error{constructor(e,t){super(Wd(e,t)),this.code=e}};function Wd(n,e){return`${`NG0${Math.abs(n)}`}${e?": "+e:""}`}function Uu(n){return{toString:n}.toString()}var md="__parameters__";function $N(n){return function(...t){if(n){let r=n(...t);for(let i in r)this[i]=r[i]}}}function nD(n,e,t){return Uu(()=>{let r=$N(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(u,c,h){let f=u.hasOwnProperty(md)?u[md]:Object.defineProperty(u,md,{value:[]})[md];for(;f.length<=h;)f.push(null);return(f[h]=f[h]||[]).push(s),u}}return t&&(i.prototype=Object.create(t.prototype)),i.prototype.ngMetadataName=n,i.annotationCls=i,i})}var St=globalThis;function Oe(n){for(let e in n)if(n[e]===Oe)return e;throw Error("Could not find renamed property on target object.")}function HN(n,e){for(let t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function Qt(n){if(typeof n=="string")return n;if(Array.isArray(n))return"["+n.map(Qt).join(", ")+"]";if(n==null)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;let e=n.toString();if(e==null)return""+e;let t=e.indexOf(`
`);return t===-1?e:e.substring(0,t)}function wC(n,e){return n==null||n===""?e===null?"":e:e==null||e===""?n:n+" "+e}var qN=Oe({__forward_ref__:Oe});function ur(n){return n.__forward_ref__=ur,n.toString=function(){return Qt(this())},n}function Kt(n){return rD(n)?n():n}function rD(n){return typeof n=="function"&&n.hasOwnProperty(qN)&&n.__forward_ref__===ur}function W(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Qe(n){return{providers:n.providers||[],imports:n.imports||[]}}function Kd(n){return EC(n,oD)||EC(n,sD)}function iD(n){return Kd(n)!==null}function EC(n,e){return n.hasOwnProperty(e)?n[e]:null}function zN(n){let e=n&&(n[oD]||n[sD]);return e||null}function IC(n){return n&&(n.hasOwnProperty(CC)||n.hasOwnProperty(GN))?n[CC]:null}var oD=Oe({\u0275prov:Oe}),CC=Oe({\u0275inj:Oe}),sD=Oe({ngInjectableDef:Oe}),GN=Oe({ngInjectorDef:Oe}),z=class{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=W({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function aD(n){return n&&!!n.\u0275providers}var WN=Oe({\u0275cmp:Oe}),KN=Oe({\u0275dir:Oe}),QN=Oe({\u0275pipe:Oe}),YN=Oe({\u0275mod:Oe}),bd=Oe({\u0275fac:Oe}),Cu=Oe({__NG_ELEMENT_ID__:Oe}),DC=Oe({__NG_ENV_ID__:Oe});function bu(n){return typeof n=="string"?n:n==null?"":String(n)}function ZN(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():bu(n)}function JN(n,e){let t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new te(-200,n)}function ay(n,e){throw new te(-201,!1)}var _e=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(_e||{}),ym;function uD(){return ym}function sn(n){let e=ym;return ym=n,e}function lD(n,e,t){let r=Kd(n);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(t&_e.Optional)return null;if(e!==void 0)return e;ay(n,"Injector")}var XN={},Su=XN,vm="__NG_DI_FLAG__",Sd="ngTempTokenPath",eP="ngTokenPath",tP=/\n/gm,nP="\u0275",bC="__source",Rs;function rP(){return Rs}function ci(n){let e=Rs;return Rs=n,e}function iP(n,e=_e.Default){if(Rs===void 0)throw new te(-203,!1);return Rs===null?lD(n,void 0,e):Rs.get(n,e&_e.Optional?null:void 0,e)}function j(n,e=_e.Default){return(uD()||iP)(Kt(n),e)}function U(n,e=_e.Default){return j(n,Qd(e))}function Qd(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function _m(n){let e=[];for(let t=0;t<n.length;t++){let r=Kt(n[t]);if(Array.isArray(r)){if(r.length===0)throw new te(900,!1);let i,o=_e.Default;for(let s=0;s<r.length;s++){let a=r[s],u=oP(a);typeof u=="number"?u===-1?i=a.token:o|=u:i=a}e.push(j(i,o))}else e.push(j(r))}return e}function cD(n,e){return n[vm]=e,n.prototype[vm]=e,n}function oP(n){return n[vm]}function sP(n,e,t,r){let i=n[Sd];throw e[bC]&&i.unshift(e[bC]),n.message=aP(`
`+n.message,i,t,r),n[eP]=i,n[Sd]=null,n}function aP(n,e,t,r=null){n=n&&n.charAt(0)===`
`&&n.charAt(1)==nP?n.slice(2):n;let i=Qt(e);if(Array.isArray(e))i=e.map(Qt).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):Qt(a)))}i=`{${o.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${n.replace(tP,`
  `)}`}var Bu=cD(nD("Optional"),8);var dD=cD(nD("SkipSelf"),4);function po(n,e){let t=n.hasOwnProperty(bd);return t?n[bd]:null}function uy(n,e){n.forEach(t=>Array.isArray(t)?uy(t,e):e(t))}function hD(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function Td(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function uP(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(i===1)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;){let o=i-2;n[i]=n[o],i--}n[e]=t,n[e+1]=r}}function lP(n,e,t){let r=$u(n,e);return r>=0?n[r|1]=t:(r=~r,uP(n,r,e,t)),r}function tm(n,e){let t=$u(n,e);if(t>=0)return n[t|1]}function $u(n,e){return cP(n,e,1)}function cP(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){let o=r+(i-r>>1),s=n[o<<t];if(e===s)return o<<t;s>e?i=o:r=o+1}return~(i<<t)}var Ps={},Cn=[],ks=new z(""),fD=new z("",-1),pD=new z(""),Ad=class{get(e,t=Su){if(t===Su){let r=new Error(`NullInjectorError: No provider for ${Qt(e)}!`);throw r.name="NullInjectorError",r}return t}},gD=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(gD||{}),ir=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(ir||{}),Tt=function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n}(Tt||{});function dP(n,e,t){let r=n.length;for(;;){let i=n.indexOf(e,t);if(i===-1)return i;if(i===0||n.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||n.charCodeAt(i+o)<=32)return i}t=i+1}}function wm(n,e,t){let r=0;for(;r<t.length;){let i=t[r];if(typeof i=="number"){if(i!==0)break;r++;let o=t[r++],s=t[r++],a=t[r++];n.setAttribute(e,s,a,o)}else{let o=i,s=t[++r];fP(o)?n.setProperty(e,o,s):n.setAttribute(e,o,s),r++}}return r}function hP(n){return n===3||n===4||n===6}function fP(n){return n.charCodeAt(0)===64}function Tu(n,e){if(!(e===null||e.length===0))if(n===null||n.length===0)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?t=i:t===0||(t===-1||t===2?SC(n,t,i,null,e[++r]):SC(n,t,i,null,null))}}return n}function SC(n,e,t,r,i){let o=0,s=n.length;if(e===-1)s=-1;else for(;o<n.length;){let a=n[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<n.length;){let a=n[o];if(typeof a=="number")break;if(a===t){if(r===null){i!==null&&(n[o+1]=i);return}else if(r===n[o+1]){n[o+2]=i;return}}o++,r!==null&&o++,i!==null&&o++}s!==-1&&(n.splice(s,0,e),o=s+1),n.splice(o++,0,t),r!==null&&n.splice(o++,0,r),i!==null&&n.splice(o++,0,i)}var mD="ng-template";function pP(n,e,t,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&dP(e[i+1].toLowerCase(),t,0)!==-1)return!0}else if(ly(n))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===t)return!0}return!1}function ly(n){return n.type===4&&n.value!==mD}function gP(n,e,t){let r=n.type===4&&!t?mD:n.value;return e===r}function mP(n,e,t){let r=4,i=n.attrs,o=i!==null?_P(i):0,s=!1;for(let a=0;a<e.length;a++){let u=e[a];if(typeof u=="number"){if(!s&&!Fn(r)&&!Fn(u))return!1;if(s&&Fn(u))continue;s=!1,r=u|r&1;continue}if(!s)if(r&4){if(r=2|r&1,u!==""&&!gP(n,u,t)||u===""&&e.length===1){if(Fn(r))return!1;s=!0}}else if(r&8){if(i===null||!pP(n,i,u,t)){if(Fn(r))return!1;s=!0}}else{let c=e[++a],h=yP(u,i,ly(n),t);if(h===-1){if(Fn(r))return!1;s=!0;continue}if(c!==""){let f;if(h>o?f="":f=i[h+1].toLowerCase(),r&2&&c!==f){if(Fn(r))return!1;s=!0}}}}return Fn(r)||s}function Fn(n){return(n&1)===0}function yP(n,e,t,r){if(e===null)return-1;let i=0;if(r||!t){let o=!1;for(;i<e.length;){let s=e[i];if(s===n)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return wP(e,n)}function vP(n,e,t=!1){for(let r=0;r<e.length;r++)if(mP(n,e[r],t))return!0;return!1}function _P(n){for(let e=0;e<n.length;e++){let t=n[e];if(hP(t))return e}return n.length}function wP(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){let r=n[t];if(typeof r=="number")return-1;if(r===e)return t;t++}return-1}function TC(n,e){return n?":not("+e.trim()+")":e}function EP(n){let e=n[0],t=1,r=2,i="",o=!1;for(;t<n.length;){let s=n[t];if(typeof s=="string")if(r&2){let a=n[++t];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!Fn(s)&&(e+=TC(o,i),i=""),r=s,o=o||!Fn(r);t++}return i!==""&&(e+=TC(o,i)),e}function IP(n){return n.map(EP).join(",")}function CP(n){let e=[],t=[],r=1,i=2;for(;r<n.length;){let o=n[r];if(typeof o=="string")i===2?o!==""&&e.push(o,n[++r]):i===8&&t.push(o);else{if(!Fn(i))break;i=o}r++}return{attrs:e,classes:t}}function ct(n){return Uu(()=>{let e=ED(n),t=Ne(G({},e),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===gD.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||ir.Emulated,styles:n.styles||Cn,_:null,schemas:n.schemas||null,tView:null,id:""});ID(t);let r=n.dependencies;return t.directiveDefs=xC(r,!1),t.pipeDefs=xC(r,!0),t.id=SP(t),t})}function DP(n){return hi(n)||yD(n)}function bP(n){return n!==null}function Ye(n){return Uu(()=>({type:n.type,bootstrap:n.bootstrap||Cn,declarations:n.declarations||Cn,imports:n.imports||Cn,exports:n.exports||Cn,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function AC(n,e){if(n==null)return Ps;let t={};for(let r in n)if(n.hasOwnProperty(r)){let i=n[r],o,s,a=Tt.None;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o):(o=i,s=i),e?(t[o]=a!==Tt.None?[r,a]:r,e[o]=s):t[o]=r}return t}function _t(n){return Uu(()=>{let e=ED(n);return ID(e),e})}function Yd(n){return{type:n.type,name:n.name,factory:null,pure:n.pure!==!1,standalone:n.standalone===!0,onDestroy:n.type.prototype.ngOnDestroy||null}}function hi(n){return n[WN]||null}function yD(n){return n[KN]||null}function vD(n){return n[QN]||null}function _D(n){let e=hi(n)||yD(n)||vD(n);return e!==null?e.standalone:!1}function wD(n,e){let t=n[YN]||null;if(!t&&e===!0)throw new Error(`Type ${Qt(n)} does not have '\u0275mod' property.`);return t}function ED(n){let e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:n.inputs||Ps,exportAs:n.exportAs||null,standalone:n.standalone===!0,signals:n.signals===!0,selectors:n.selectors||Cn,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:AC(n.inputs,e),outputs:AC(n.outputs),debugInfo:null}}function ID(n){n.features?.forEach(e=>e(n))}function xC(n,e){if(!n)return null;let t=e?vD:DP;return()=>(typeof n=="function"?n():n).map(r=>t(r)).filter(bP)}function SP(n){let e=0,t=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,n.consts,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery].join("|");for(let i of t)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function Zd(n){return{\u0275providers:n}}function TP(...n){return{\u0275providers:CD(!0,n),\u0275fromNgModule:!0}}function CD(n,...e){let t=[],r=new Set,i,o=s=>{t.push(s)};return uy(e,s=>{let a=s;Em(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&DD(i,o),t}function DD(n,e){for(let t=0;t<n.length;t++){let{ngModule:r,providers:i}=n[t];cy(i,o=>{e(o,r)})}}function Em(n,e,t,r){if(n=Kt(n),!n)return!1;let i=null,o=IC(n),s=!o&&hi(n);if(!o&&!s){let u=n.ngModule;if(o=IC(u),o)i=u;else return!1}else{if(s&&!s.standalone)return!1;i=n}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let u=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let c of u)Em(c,e,t,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let c;try{uy(o.imports,h=>{Em(h,e,t,r)&&(c||=[],c.push(h))})}finally{}c!==void 0&&DD(c,e)}if(!a){let c=po(i)||(()=>new i);e({provide:i,useFactory:c,deps:Cn},i),e({provide:pD,useValue:i,multi:!0},i),e({provide:ks,useValue:()=>j(i),multi:!0},i)}let u=o.providers;if(u!=null&&!a){let c=n;cy(u,h=>{e(h,c)})}}else return!1;return i!==n&&n.providers!==void 0}function cy(n,e){for(let t of n)aD(t)&&(t=t.\u0275providers),Array.isArray(t)?cy(t,e):e(t)}var AP=Oe({provide:String,useValue:Oe});function bD(n){return n!==null&&typeof n=="object"&&AP in n}function xP(n){return!!(n&&n.useExisting)}function MP(n){return!!(n&&n.useFactory)}function Fs(n){return typeof n=="function"}function RP(n){return!!n.useClass}var Jd=new z(""),wd={},NP={},nm;function dy(){return nm===void 0&&(nm=new Ad),nm}var Vt=class{},Au=class extends Vt{get destroyed(){return this._destroyed}constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Cm(e,s=>this.processProvider(s)),this.records.set(fD,Ts(void 0,this)),i.has("environment")&&this.records.set(Vt,Ts(void 0,this));let o=this.records.get(Jd);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(pD,Cn,_e.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=Ee(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),Ee(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let t=ci(this),r=sn(void 0),i;try{return e()}finally{ci(t),sn(r)}}get(e,t=Su,r=_e.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(DC))return e[DC](this);r=Qd(r);let i,o=ci(this),s=sn(void 0);try{if(!(r&_e.SkipSelf)){let u=this.records.get(e);if(u===void 0){let c=VP(e)&&Kd(e);c&&this.injectableDefInScope(c)?u=Ts(Im(e),wd):u=null,this.records.set(e,u)}if(u!=null)return this.hydrate(e,u)}let a=r&_e.Self?dy():this.parent;return t=r&_e.Optional&&t===Su?null:t,a.get(e,t)}catch(a){if(a.name==="NullInjectorError"){if((a[Sd]=a[Sd]||[]).unshift(Qt(e)),o)throw a;return sP(a,e,"R3InjectorError",this.source)}else throw a}finally{sn(s),ci(o)}}resolveInjectorInitializers(){let e=Ee(null),t=ci(this),r=sn(void 0),i;try{let o=this.get(ks,Cn,_e.Self);for(let s of o)s()}finally{ci(t),sn(r),Ee(e)}}toString(){let e=[],t=this.records;for(let r of t.keys())e.push(Qt(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new te(205,!1)}processProvider(e){e=Kt(e);let t=Fs(e)?e:Kt(e&&e.provide),r=kP(e);if(!Fs(e)&&e.multi===!0){let i=this.records.get(t);i||(i=Ts(void 0,wd,!0),i.factory=()=>_m(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t){let r=Ee(null);try{return t.value===wd&&(t.value=NP,t.value=t.factory()),typeof t.value=="object"&&t.value&&OP(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{Ee(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let t=Kt(e.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){let t=this._onDestroyHooks.indexOf(e);t!==-1&&this._onDestroyHooks.splice(t,1)}};function Im(n){let e=Kd(n),t=e!==null?e.factory:po(n);if(t!==null)return t;if(n instanceof z)throw new te(204,!1);if(n instanceof Function)return PP(n);throw new te(204,!1)}function PP(n){if(n.length>0)throw new te(204,!1);let t=zN(n);return t!==null?()=>t.factory(n):()=>new n}function kP(n){if(bD(n))return Ts(void 0,n.useValue);{let e=SD(n);return Ts(e,wd)}}function SD(n,e,t){let r;if(Fs(n)){let i=Kt(n);return po(i)||Im(i)}else if(bD(n))r=()=>Kt(n.useValue);else if(MP(n))r=()=>n.useFactory(..._m(n.deps||[]));else if(xP(n))r=()=>j(Kt(n.useExisting));else{let i=Kt(n&&(n.useClass||n.provide));if(FP(n))r=()=>new i(..._m(n.deps));else return po(i)||Im(i)}return r}function Ts(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function FP(n){return!!n.deps}function OP(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function VP(n){return typeof n=="function"||typeof n=="object"&&n instanceof z}function Cm(n,e){for(let t of n)Array.isArray(t)?Cm(t,e):t&&aD(t)?Cm(t.\u0275providers,e):e(t)}function jn(n,e){n instanceof Au&&n.assertNotDestroyed();let t,r=ci(n),i=sn(void 0);try{return e()}finally{ci(r),sn(i)}}function TD(){return uD()!==void 0||rP()!=null}function LP(n){if(!TD())throw new te(-203,!1)}function jP(n){let e=St.ng;if(e&&e.\u0275compilerFacade)return e.\u0275compilerFacade;throw new Error("JIT compiler unavailable")}function UP(n){return typeof n=="function"}var kr=0,pe=1,se=2,Lt=3,On=4,Un=5,xu=6,Mu=7,Ot=8,Os=9,or=10,yt=11,Ru=12,MC=13,Bs=14,Vn=15,Xd=16,As=17,Vs=18,eh=19,AD=20,di=21,rm=22,go=23,an=25,xD=1;var mo=7,xd=8,Md=9,Yt=10,hy=function(n){return n[n.None=0]="None",n[n.HasTransplantedViews=2]="HasTransplantedViews",n}(hy||{});function ho(n){return Array.isArray(n)&&typeof n[xD]=="object"}function Fr(n){return Array.isArray(n)&&n[xD]===!0}function MD(n){return(n.flags&4)!==0}function th(n){return n.componentOffset>-1}function fy(n){return(n.flags&1)===1}function fi(n){return!!n.template}function BP(n){return(n[se]&512)!==0}var Dm=class{constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}};function RD(n,e,t,r){e!==null?e.applyValueToInputSignal(e,r):n[t]=r}function Or(){return ND}function ND(n){return n.type.prototype.ngOnChanges&&(n.setInput=HP),$P}Or.ngInherit=!0;function $P(){let n=kD(this),e=n?.current;if(e){let t=n.previous;if(t===Ps)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function HP(n,e,t,r,i){let o=this.declaredInputs[r],s=kD(n)||qP(n,{previous:Ps,current:null}),a=s.current||(s.current={}),u=s.previous,c=u[o];a[o]=new Dm(c&&c.currentValue,t,u===Ps),RD(n,e,i,t)}var PD="__ngSimpleChanges__";function kD(n){return n[PD]||null}function qP(n,e){return n[PD]=e}var RC=null;var nr=function(n,e,t){RC?.(n,e,t)},FD="svg",zP="math",GP=!1;function WP(){return GP}function sr(n){for(;Array.isArray(n);)n=n[kr];return n}function OD(n,e){return sr(e[n])}function Dn(n,e){return sr(e[n.index])}function py(n,e){return n.data[e]}function VD(n,e){return n[e]}function gi(n,e){let t=e[n];return ho(t)?t:t[kr]}function gy(n){return(n[se]&128)===128}function KP(n){return Fr(n[Lt])}function Rd(n,e){return e==null?null:n[e]}function LD(n){n[As]=0}function QP(n){n[se]&1024||(n[se]|=1024,gy(n)&&Nu(n))}function YP(n,e){for(;n>0;)e=e[Bs],n--;return e}function my(n){return!!(n[se]&9216||n[go]?.dirty)}function bm(n){n[or].changeDetectionScheduler?.notify(1),my(n)?Nu(n):n[se]&64&&(WP()?(n[se]|=1024,Nu(n)):n[or].changeDetectionScheduler?.notify())}function Nu(n){n[or].changeDetectionScheduler?.notify();let e=Pu(n);for(;e!==null&&!(e[se]&8192||(e[se]|=8192,!gy(e)));)e=Pu(e)}function jD(n,e){if((n[se]&256)===256)throw new te(911,!1);n[di]===null&&(n[di]=[]),n[di].push(e)}function ZP(n,e){if(n[di]===null)return;let t=n[di].indexOf(e);t!==-1&&n[di].splice(t,1)}function Pu(n){let e=n[Lt];return Fr(e)?e[Lt]:e}var ge={lFrame:WD(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function JP(){return ge.lFrame.elementDepthCount}function XP(){ge.lFrame.elementDepthCount++}function ek(){ge.lFrame.elementDepthCount--}function UD(){return ge.bindingsEnabled}function tk(){return ge.skipHydrationRootTNode!==null}function nk(n){return ge.skipHydrationRootTNode===n}function rk(){ge.skipHydrationRootTNode=null}function De(){return ge.lFrame.lView}function un(){return ge.lFrame.tView}function At(n){return ge.lFrame.contextLView=n,n[Ot]}function xt(n){return ge.lFrame.contextLView=null,n}function hn(){let n=BD();for(;n!==null&&n.type===64;)n=n.parent;return n}function BD(){return ge.lFrame.currentTNode}function ik(){let n=ge.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}function Hu(n,e){let t=ge.lFrame;t.currentTNode=n,t.isParent=e}function $D(){return ge.lFrame.isParent}function ok(){ge.lFrame.isParent=!1}function qu(){let n=ge.lFrame,e=n.bindingRootIndex;return e===-1&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function sk(){return ge.lFrame.bindingIndex}function ak(n){return ge.lFrame.bindingIndex=n}function $s(){return ge.lFrame.bindingIndex++}function HD(n){let e=ge.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function uk(){return ge.lFrame.inI18n}function lk(n,e){let t=ge.lFrame;t.bindingIndex=t.bindingRootIndex=n,Sm(e)}function ck(){return ge.lFrame.currentDirectiveIndex}function Sm(n){ge.lFrame.currentDirectiveIndex=n}function dk(n){let e=ge.lFrame.currentDirectiveIndex;return e===-1?null:n[e]}function qD(n){ge.lFrame.currentQueryIndex=n}function hk(n){let e=n[pe];return e.type===2?e.declTNode:e.type===1?n[Un]:null}function zD(n,e,t){if(t&_e.SkipSelf){let i=e,o=n;for(;i=i.parent,i===null&&!(t&_e.Host);)if(i=hk(o),i===null||(o=o[Bs],i.type&10))break;if(i===null)return!1;e=i,n=o}let r=ge.lFrame=GD();return r.currentTNode=e,r.lView=n,!0}function yy(n){let e=GD(),t=n[pe];ge.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function GD(){let n=ge.lFrame,e=n===null?null:n.child;return e===null?WD(n):e}function WD(n){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=e),e}function KD(){let n=ge.lFrame;return ge.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var QD=KD;function vy(){let n=KD();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function fk(n){return(ge.lFrame.contextLView=YP(n,ge.lFrame.contextLView))[Ot]}function mi(){return ge.lFrame.selectedIndex}function yo(n){ge.lFrame.selectedIndex=n}function _y(){let n=ge.lFrame;return py(n.tView,n.selectedIndex)}function fn(){ge.lFrame.currentNamespace=FD}function pn(){pk()}function pk(){ge.lFrame.currentNamespace=null}function gk(){return ge.lFrame.currentNamespace}var YD=!0;function wy(){return YD}function Ey(n){YD=n}function mk(n,e,t){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=ND(e);(t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s)}i&&(t.preOrderHooks??=[]).push(0-n,i),o&&((t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o))}function Iy(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){let o=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:c,ngOnDestroy:h}=o;s&&(n.contentHooks??=[]).push(-t,s),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),u&&(n.viewHooks??=[]).push(-t,u),c&&((n.viewHooks??=[]).push(t,c),(n.viewCheckHooks??=[]).push(t,c)),h!=null&&(n.destroyHooks??=[]).push(t,h)}}function Ed(n,e,t){ZD(n,e,3,t)}function Id(n,e,t,r){(n[se]&3)===t&&ZD(n,e,t,r)}function im(n,e){let t=n[se];(t&3)===e&&(t&=16383,t+=1,n[se]=t)}function ZD(n,e,t,r){let i=r!==void 0?n[As]&65535:0,o=r??-1,s=e.length-1,a=0;for(let u=i;u<s;u++)if(typeof e[u+1]=="number"){if(a=e[u],r!=null&&a>=r)break}else e[u]<0&&(n[As]+=65536),(a<o||o==-1)&&(yk(n,t,e,u),n[As]=(n[As]&4294901760)+u+2),u++}function NC(n,e){nr(4,n,e);let t=Ee(null);try{e.call(n)}finally{Ee(t),nr(5,n,e)}}function yk(n,e,t,r){let i=t[r]<0,o=t[r+1],s=i?-t[r]:t[r],a=n[s];i?n[se]>>14<n[As]>>16&&(n[se]&3)===e&&(n[se]+=16384,NC(a,o)):NC(a,o)}var Ns=-1,vo=class{constructor(e,t,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=r}};function vk(n){return n instanceof vo}function _k(n){return(n.flags&8)!==0}function wk(n){return(n.flags&16)!==0}function JD(n){return n!==Ns}function Nd(n){return n&32767}function Ek(n){return n>>16}function Pd(n,e){let t=Ek(n),r=e;for(;t>0;)r=r[Bs],t--;return r}var Tm=!0;function kd(n){let e=Tm;return Tm=n,e}var Ik=256,XD=Ik-1,eb=5,Ck=0,rr={};function Dk(n,e,t){let r;typeof t=="string"?r=t.charCodeAt(0)||0:t.hasOwnProperty(Cu)&&(r=t[Cu]),r==null&&(r=t[Cu]=Ck++);let i=r&XD,o=1<<i;e.data[n+(i>>eb)]|=o}function Fd(n,e){let t=tb(n,e);if(t!==-1)return t;let r=e[pe];r.firstCreatePass&&(n.injectorIndex=e.length,om(r.data,n),om(e,null),om(r.blueprint,null));let i=Cy(n,e),o=n.injectorIndex;if(JD(i)){let s=Nd(i),a=Pd(i,e),u=a[pe].data;for(let c=0;c<8;c++)e[o+c]=a[s+c]|u[s+c]}return e[o+8]=i,o}function om(n,e){n.push(0,0,0,0,0,0,0,0,e)}function tb(n,e){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||e[n.injectorIndex+8]===null?-1:n.injectorIndex}function Cy(n,e){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;i!==null;){if(r=sb(i),r===null)return Ns;if(t++,i=i[Bs],r.injectorIndex!==-1)return r.injectorIndex|t<<16}return Ns}function Am(n,e,t){Dk(n,e,t)}function nb(n,e,t){if(t&_e.Optional||n!==void 0)return n;ay(e,"NodeInjector")}function rb(n,e,t,r){if(t&_e.Optional&&r===void 0&&(r=null),!(t&(_e.Self|_e.Host))){let i=n[Os],o=sn(void 0);try{return i?i.get(e,r,t&_e.Optional):lD(e,r,t&_e.Optional)}finally{sn(o)}}return nb(r,e,t)}function ib(n,e,t,r=_e.Default,i){if(n!==null){if(e[se]&2048&&!(r&_e.Self)){let s=xk(n,e,t,r,rr);if(s!==rr)return s}let o=ob(n,e,t,r,rr);if(o!==rr)return o}return rb(e,t,r,i)}function ob(n,e,t,r,i){let o=Tk(t);if(typeof o=="function"){if(!zD(e,n,r))return r&_e.Host?nb(i,t,r):rb(e,t,r,i);try{let s;if(s=o(r),s==null&&!(r&_e.Optional))ay(t);else return s}finally{QD()}}else if(typeof o=="number"){let s=null,a=tb(n,e),u=Ns,c=r&_e.Host?e[Vn][Un]:null;for((a===-1||r&_e.SkipSelf)&&(u=a===-1?Cy(n,e):e[a+8],u===Ns||!kC(r,!1)?a=-1:(s=e[pe],a=Nd(u),e=Pd(u,e)));a!==-1;){let h=e[pe];if(PC(o,a,h.data)){let f=bk(a,e,t,s,r,c);if(f!==rr)return f}u=e[a+8],u!==Ns&&kC(r,e[pe].data[a+8]===c)&&PC(o,a,e)?(s=h,a=Nd(u),e=Pd(u,e)):a=-1}}return i}function bk(n,e,t,r,i,o){let s=e[pe],a=s.data[n+8],u=r==null?th(a)&&Tm:r!=s&&(a.type&3)!==0,c=i&_e.Host&&o===a,h=Sk(a,s,t,u,c);return h!==null?Ls(e,s,h,a):rr}function Sk(n,e,t,r,i){let o=n.providerIndexes,s=e.data,a=o&1048575,u=n.directiveStart,c=n.directiveEnd,h=o>>20,f=r?a:a+h,m=i?a+h:c;for(let y=f;y<m;y++){let S=s[y];if(y<u&&t===S||y>=u&&S.type===t)return y}if(i){let y=s[u];if(y&&fi(y)&&y.type===t)return u}return null}function Ls(n,e,t,r){let i=n[t],o=e.data;if(vk(i)){let s=i;s.resolving&&JN(ZN(o[t]));let a=kd(s.canSeeViewProviders);s.resolving=!0;let u,c=s.injectImpl?sn(s.injectImpl):null,h=zD(n,r,_e.Default);try{i=n[t]=s.factory(void 0,o,n,r),e.firstCreatePass&&t>=r.directiveStart&&mk(t,o[t],e)}finally{c!==null&&sn(c),kd(a),s.resolving=!1,QD()}}return i}function Tk(n){if(typeof n=="string")return n.charCodeAt(0)||0;let e=n.hasOwnProperty(Cu)?n[Cu]:void 0;return typeof e=="number"?e>=0?e&XD:Ak:e}function PC(n,e,t){let r=1<<n;return!!(t[e+(n>>eb)]&r)}function kC(n,e){return!(n&_e.Self)&&!(n&_e.Host&&e)}var fo=class{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return ib(this._tNode,this._lView,e,Qd(r),t)}};function Ak(){return new fo(hn(),De())}function yi(n){return Uu(()=>{let e=n.prototype.constructor,t=e[bd]||xm(e),r=Object.prototype,i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){let o=i[bd]||xm(i);if(o&&o!==t)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function xm(n){return rD(n)?()=>{let e=xm(Kt(n));return e&&e()}:po(n)}function xk(n,e,t,r,i){let o=n,s=e;for(;o!==null&&s!==null&&s[se]&2048&&!(s[se]&512);){let a=ob(o,s,t,r|_e.Self,rr);if(a!==rr)return a;let u=o.parent;if(!u){let c=s[AD];if(c){let h=c.get(t,rr,r);if(h!==rr)return h}u=sb(s),s=s[Bs]}o=u}return i}function sb(n){let e=n[pe],t=e.type;return t===2?e.declTNode:t===1?n[Un]:null}function FC(n,e=null,t=null,r){let i=ab(n,e,t,r);return i.resolveInjectorInitializers(),i}function ab(n,e=null,t=null,r,i=new Set){let o=[t||Cn,TP(n)];return r=r||(typeof n=="object"?void 0:Qt(n)),new Au(o,e||dy(),r||null,i)}var gn=(()=>{class n{static{this.THROW_IF_NOT_FOUND=Su}static{this.NULL=new Ad}static create(t,r){if(Array.isArray(t))return FC({name:""},r,t,"");{let i=t.name??"";return FC({name:i},t.parent,t.providers,i)}}static{this.\u0275prov=W({token:n,providedIn:"any",factory:()=>j(fD)})}static{this.__NG_ELEMENT_ID__=-1}}return n})();var Mk="ngOriginalError";function sm(n){return n[Mk]}var ar=class{constructor(){this._console=console}handleError(e){let t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&sm(e);for(;t&&sm(t);)t=sm(t);return t||null}},ub=new z("",{providedIn:"root",factory:()=>U(ar).handleError.bind(void 0)}),Dy=(()=>{class n{static{this.__NG_ELEMENT_ID__=Rk}static{this.__NG_ENV_ID__=t=>t}}return n})(),Mm=class extends Dy{constructor(e){super(),this._lView=e}onDestroy(e){return jD(this._lView,e),()=>ZP(this._lView,e)}};function Rk(){return new Mm(De())}function Nk(){return nh(hn(),De())}function nh(n,e){return new vi(Dn(n,e))}var vi=(()=>{class n{constructor(t){this.nativeElement=t}static{this.__NG_ELEMENT_ID__=Nk}}return n})();var Rm=class extends tt{constructor(e=!1){super(),this.destroyRef=void 0,this.__isAsync=e,TD()&&(this.destroyRef=U(Dy,{optional:!0})??void 0)}emit(e){let t=Ee(null);try{super.next(e)}finally{Ee(t)}}subscribe(e,t,r){let i=e,o=t||(()=>null),s=r;if(e&&typeof e=="object"){let u=e;i=u.next?.bind(u),o=u.error?.bind(u),s=u.complete?.bind(u)}this.__isAsync&&(o=am(o),i&&(i=am(i)),s&&(s=am(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof et&&e.add(a),a}};function am(n){return e=>{setTimeout(n,void 0,e)}}var nt=Rm;function lb(n){return(n.flags&128)===128}var cb=new Map,Pk=0;function kk(){return Pk++}function Fk(n){cb.set(n[eh],n)}function Ok(n){cb.delete(n[eh])}var OC="__ngContext__";function _o(n,e){ho(e)?(n[OC]=e[eh],Fk(e)):n[OC]=e}function db(n){return fb(n[Ru])}function hb(n){return fb(n[On])}function fb(n){for(;n!==null&&!Fr(n);)n=n[On];return n}var Nm;function pb(n){Nm=n}function Vk(){if(Nm!==void 0)return Nm;if(typeof document<"u")return document;throw new te(210,!1)}var rh=new z("",{providedIn:"root",factory:()=>Lk}),Lk="ng",by=new z(""),jt=new z("",{providedIn:"platform",factory:()=>"unknown"});var Sy=new z("",{providedIn:"root",factory:()=>Vk().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var jk="h",Uk="b";var Bk=()=>null;function Ty(n,e,t=!1){return Bk(n,e,t)}var gb=!1,$k=new z("",{providedIn:"root",factory:()=>gb});var Pm=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${BN})`}};function Ay(n){return n instanceof Pm?n.changingThisBreaksApplicationSecurity:n}function mb(n){return n instanceof Function?n():n}function Hk(n){return(n??U(gn)).get(jt)==="browser"}var Nr=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(Nr||{}),qk;function xy(n,e){return qk(n,e)}function xs(n,e,t,r,i){if(r!=null){let o,s=!1;Fr(r)?o=r:ho(r)&&(s=!0,r=r[kr]);let a=sr(r);n===0&&t!==null?i==null?wb(e,t,a):Od(e,t,a,i||null,!0):n===1&&t!==null?Od(e,t,a,i||null,!0):n===2?aF(e,a,s):n===3&&e.destroyNode(a),o!=null&&lF(e,n,o,t,i)}}function zk(n,e){return n.createText(e)}function Gk(n,e,t){n.setValue(e,t)}function yb(n,e,t){return n.createElement(e,t)}function Wk(n,e){vb(n,e),e[kr]=null,e[Un]=null}function Kk(n,e,t,r,i,o){r[kr]=i,r[Un]=e,oh(n,r,t,1,i,o)}function vb(n,e){e[or].changeDetectionScheduler?.notify(1),oh(n,e,e[yt],2,null,null)}function Qk(n){let e=n[Ru];if(!e)return um(n[pe],n);for(;e;){let t=null;if(ho(e))t=e[Ru];else{let r=e[Yt];r&&(t=r)}if(!t){for(;e&&!e[On]&&e!==n;)ho(e)&&um(e[pe],e),e=e[Lt];e===null&&(e=n),ho(e)&&um(e[pe],e),t=e&&e[On]}e=t}}function Yk(n,e,t,r){let i=Yt+r,o=t.length;r>0&&(t[i-1][On]=e),r<o-Yt?(e[On]=t[i],hD(t,Yt+r,e)):(t.push(e),e[On]=null),e[Lt]=t;let s=e[Xd];s!==null&&t!==s&&Zk(s,e);let a=e[Vs];a!==null&&a.insertView(n),bm(e),e[se]|=128}function Zk(n,e){let t=n[Md],i=e[Lt][Lt][Vn];e[Vn]!==i&&(n[se]|=hy.HasTransplantedViews),t===null?n[Md]=[e]:t.push(e)}function _b(n,e){let t=n[Md],r=t.indexOf(e);t.splice(r,1)}function ku(n,e){if(n.length<=Yt)return;let t=Yt+e,r=n[t];if(r){let i=r[Xd];i!==null&&i!==n&&_b(i,r),e>0&&(n[t-1][On]=r[On]);let o=Td(n,Yt+e);Wk(r[pe],r);let s=o[Vs];s!==null&&s.detachView(o[pe]),r[Lt]=null,r[On]=null,r[se]&=-129}return r}function ih(n,e){if(!(e[se]&256)){let t=e[yt];t.destroyNode&&oh(n,e,t,3,null,null),Qk(e)}}function um(n,e){if(e[se]&256)return;let t=Ee(null);try{e[se]&=-129,e[se]|=256,e[go]&&ZI(e[go]),Xk(n,e),Jk(n,e),e[pe].type===1&&e[yt].destroy();let r=e[Xd];if(r!==null&&Fr(e[Lt])){r!==e[Lt]&&_b(r,e);let i=e[Vs];i!==null&&i.detachView(n)}Ok(e)}finally{Ee(t)}}function Jk(n,e){let t=n.cleanup,r=e[Mu];if(t!==null)for(let o=0;o<t.length-1;o+=2)if(typeof t[o]=="string"){let s=t[o+3];s>=0?r[s]():r[-s].unsubscribe(),o+=2}else{let s=r[t[o+1]];t[o].call(s)}r!==null&&(e[Mu]=null);let i=e[di];if(i!==null){e[di]=null;for(let o=0;o<i.length;o++){let s=i[o];s()}}}function Xk(n,e){let t;if(n!=null&&(t=n.destroyHooks)!=null)for(let r=0;r<t.length;r+=2){let i=e[t[r]];if(!(i instanceof vo)){let o=t[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],u=o[s+1];nr(4,a,u);try{u.call(a)}finally{nr(5,a,u)}}else{nr(4,i,o);try{o.call(i)}finally{nr(5,i,o)}}}}}function eF(n,e,t){return tF(n,e.parent,t)}function tF(n,e,t){let r=e;for(;r!==null&&r.type&40;)e=r,r=e.parent;if(r===null)return t[kr];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:o}=n.data[r.directiveStart+i];if(o===ir.None||o===ir.Emulated)return null}return Dn(r,t)}}function Od(n,e,t,r,i){n.insertBefore(e,t,r,i)}function wb(n,e,t){n.appendChild(e,t)}function VC(n,e,t,r,i){r!==null?Od(n,e,t,r,i):wb(n,e,t)}function nF(n,e,t,r){n.removeChild(e,t,r)}function My(n,e){return n.parentNode(e)}function rF(n,e){return n.nextSibling(e)}function iF(n,e,t){return sF(n,e,t)}function oF(n,e,t){return n.type&40?Dn(n,t):null}var sF=oF,LC;function Ry(n,e,t,r){let i=eF(n,r,e),o=e[yt],s=r.parent||e[Un],a=iF(s,r,e);if(i!=null)if(Array.isArray(t))for(let u=0;u<t.length;u++)VC(o,i,t[u],a,!1);else VC(o,i,t,a,!1);LC!==void 0&&LC(o,r,e,t,i)}function Cd(n,e){if(e!==null){let t=e.type;if(t&3)return Dn(e,n);if(t&4)return km(-1,n[e.index]);if(t&8){let r=e.child;if(r!==null)return Cd(n,r);{let i=n[e.index];return Fr(i)?km(-1,i):sr(i)}}else{if(t&32)return xy(e,n)()||sr(n[e.index]);{let r=Eb(n,e);if(r!==null){if(Array.isArray(r))return r[0];let i=Pu(n[Vn]);return Cd(i,r)}else return Cd(n,e.next)}}}return null}function Eb(n,e){if(e!==null){let r=n[Vn][Un],i=e.projection;return r.projection[i]}return null}function km(n,e){let t=Yt+n+1;if(t<e.length){let r=e[t],i=r[pe].firstChild;if(i!==null)return Cd(r,i)}return e[mo]}function aF(n,e,t){let r=My(n,e);r&&nF(n,r,e,t)}function Ny(n,e,t,r,i,o,s){for(;t!=null;){let a=r[t.index],u=t.type;if(s&&e===0&&(a&&_o(sr(a),r),t.flags|=2),(t.flags&32)!==32)if(u&8)Ny(n,e,t.child,r,i,o,!1),xs(e,n,i,a,o);else if(u&32){let c=xy(t,r),h;for(;h=c();)xs(e,n,i,h,o);xs(e,n,i,a,o)}else u&16?uF(n,e,r,t,i,o):xs(e,n,i,a,o);t=s?t.projectionNext:t.next}}function oh(n,e,t,r,i,o){Ny(t,r,n.firstChild,e,i,o,!1)}function uF(n,e,t,r,i,o){let s=t[Vn],u=s[Un].projection[r.projection];if(Array.isArray(u))for(let c=0;c<u.length;c++){let h=u[c];xs(e,n,i,h,o)}else{let c=u,h=s[Lt];lb(r)&&(c.flags|=128),Ny(n,e,c,h,i,o,!0)}}function lF(n,e,t,r,i){let o=t[mo],s=sr(t);o!==s&&xs(e,n,r,o,i);for(let a=Yt;a<t.length;a++){let u=t[a];oh(u[pe],u,n,e,r,o)}}function cF(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let o=r.indexOf("-")===-1?void 0:Nr.DashCase;i==null?n.removeStyle(t,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Nr.Important),n.setStyle(t,r,i,o))}}function dF(n,e,t){n.setAttribute(e,"style",t)}function Ib(n,e,t){t===""?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function Cb(n,e,t){let{mergedAttrs:r,classes:i,styles:o}=t;r!==null&&wm(n,e,r),i!==null&&Ib(n,e,i),o!==null&&dF(n,e,o)}var Vr={};function Y(n=1){Db(un(),De(),mi()+n,!1)}function Db(n,e,t,r){if(!r)if((e[se]&3)===3){let o=n.preOrderCheckHooks;o!==null&&Ed(e,o,t)}else{let o=n.preOrderHooks;o!==null&&Id(e,o,0,t)}yo(t)}function Z(n,e=_e.Default){let t=De();if(t===null)return j(n,e);let r=hn();return ib(r,t,Kt(n),e)}function bb(){let n="invalid";throw new Error(n)}function Sb(n,e,t,r,i,o){let s=Ee(null);try{let a=null;i&Tt.SignalBased&&(a=e[r][Ng]),a!==null&&a.transformFn!==void 0&&(o=a.transformFn(o)),i&Tt.HasDecoratorInputTransform&&(o=n.inputTransforms[r].call(e,o)),n.setInput!==null?n.setInput(e,a,o,t,r):RD(e,a,r,o)}finally{Ee(s)}}function hF(n,e){let t=n.hostBindingOpCodes;if(t!==null)try{for(let r=0;r<t.length;r++){let i=t[r];if(i<0)yo(~i);else{let o=i,s=t[++r],a=t[++r];lk(s,o);let u=e[o];a(2,u)}}}finally{yo(-1)}}function sh(n,e,t,r,i,o,s,a,u,c,h){let f=e.blueprint.slice();return f[kr]=i,f[se]=r|4|128|8|64,(c!==null||n&&n[se]&2048)&&(f[se]|=2048),LD(f),f[Lt]=f[Bs]=n,f[Ot]=t,f[or]=s||n&&n[or],f[yt]=a||n&&n[yt],f[Os]=u||n&&n[Os]||null,f[Un]=o,f[eh]=kk(),f[xu]=h,f[AD]=c,f[Vn]=e.type==2?n[Vn]:f,f}function ah(n,e,t,r,i){let o=n.data[e];if(o===null)o=fF(n,e,t,r,i),uk()&&(o.flags|=32);else if(o.type&64){o.type=t,o.value=r,o.attrs=i;let s=ik();o.injectorIndex=s===null?-1:s.injectorIndex}return Hu(o,!0),o}function fF(n,e,t,r,i){let o=BD(),s=$D(),a=s?o:o&&o.parent,u=n.data[e]=vF(n,a,t,e,r,i);return n.firstChild===null&&(n.firstChild=u),o!==null&&(s?o.child==null&&u.parent!==null&&(o.child=u):o.next===null&&(o.next=u,u.prev=o)),u}function Tb(n,e,t,r){if(t===0)return-1;let i=e.length;for(let o=0;o<t;o++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function Ab(n,e,t,r,i){let o=mi(),s=r&2;try{yo(-1),s&&e.length>an&&Db(n,e,an,!1),nr(s?2:0,i),t(r,i)}finally{yo(o),nr(s?3:1,i)}}function xb(n,e,t){if(MD(e)){let r=Ee(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=n.data[s];if(a.contentQueries){let u=t[s];a.contentQueries(1,u,s)}}}finally{Ee(r)}}}function Mb(n,e,t){UD()&&(DF(n,e,t,Dn(t,e)),(t.flags&64)===64&&Ob(n,e,t))}function Rb(n,e,t=Dn){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?t(e,n):n[s];n[i++]=a}}}function Nb(n){let e=n.tView;return e===null||e.incompleteFirstPass?n.tView=Py(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function Py(n,e,t,r,i,o,s,a,u,c,h){let f=an+r,m=f+i,y=pF(f,m),S=typeof c=="function"?c():c;return y[pe]={type:n,blueprint:y,template:t,queries:null,viewQuery:a,declTNode:e,data:y.slice().fill(null,f),bindingStartIndex:f,expandoStartIndex:m,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:u,consts:S,incompleteFirstPass:!1,ssrId:h}}function pF(n,e){let t=[];for(let r=0;r<e;r++)t.push(r<n?null:Vr);return t}function gF(n,e,t,r){let o=r.get($k,gb)||t===ir.ShadowDom,s=n.selectRootElement(e,o);return mF(s),s}function mF(n){yF(n)}var yF=()=>null;function vF(n,e,t,r,i,o){let s=e?e.injectorIndex:-1,a=0;return tk()&&(a|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function jC(n,e,t,r,i){for(let o in e){if(!e.hasOwnProperty(o))continue;let s=e[o];if(s===void 0)continue;r??={};let a,u=Tt.None;Array.isArray(s)?(a=s[0],u=s[1]):a=s;let c=o;if(i!==null){if(!i.hasOwnProperty(o))continue;c=i[o]}n===0?UC(r,t,c,a,u):UC(r,t,c,a)}return r}function UC(n,e,t,r,i){let o;n.hasOwnProperty(t)?(o=n[t]).push(e,r):o=n[t]=[e,r],i!==void 0&&o.push(i)}function _F(n,e,t){let r=e.directiveStart,i=e.directiveEnd,o=n.data,s=e.attrs,a=[],u=null,c=null;for(let h=r;h<i;h++){let f=o[h],m=t?t.get(f):null,y=m?m.inputs:null,S=m?m.outputs:null;u=jC(0,f.inputs,h,u,y),c=jC(1,f.outputs,h,c,S);let D=u!==null&&s!==null&&!ly(e)?FF(u,h,s):null;a.push(D)}u!==null&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=u,e.outputs=c}function wF(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function Pb(n,e,t,r,i,o,s,a){let u=Dn(e,t),c=e.inputs,h;!a&&c!=null&&(h=c[r])?(ky(n,t,h,r,i),th(e)&&EF(t,e.index)):e.type&3?(r=wF(r),i=s!=null?s(i,e.value||"",r):i,o.setProperty(u,r,i)):e.type&12}function EF(n,e){let t=gi(e,n);t[se]&16||(t[se]|=64)}function kb(n,e,t,r){if(UD()){let i=r===null?null:{"":-1},o=SF(n,t),s,a;o===null?s=a=null:[s,a]=o,s!==null&&Fb(n,e,t,s,i,a),i&&TF(t,r,i)}t.mergedAttrs=Tu(t.mergedAttrs,t.attrs)}function Fb(n,e,t,r,i,o){for(let c=0;c<r.length;c++)Am(Fd(t,e),n,r[c].type);xF(t,n.data.length,r.length);for(let c=0;c<r.length;c++){let h=r[c];h.providersResolver&&h.providersResolver(h)}let s=!1,a=!1,u=Tb(n,e,r.length,null);for(let c=0;c<r.length;c++){let h=r[c];t.mergedAttrs=Tu(t.mergedAttrs,h.hostAttrs),MF(n,t,e,u,h),AF(u,h,i),h.contentQueries!==null&&(t.flags|=4),(h.hostBindings!==null||h.hostAttrs!==null||h.hostVars!==0)&&(t.flags|=64);let f=h.type.prototype;!s&&(f.ngOnChanges||f.ngOnInit||f.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),s=!0),!a&&(f.ngOnChanges||f.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),a=!0),u++}_F(n,t,o)}function IF(n,e,t,r,i){let o=i.hostBindings;if(o){let s=n.hostBindingOpCodes;s===null&&(s=n.hostBindingOpCodes=[]);let a=~e.index;CF(s)!=a&&s.push(a),s.push(t,r,o)}}function CF(n){let e=n.length;for(;e>0;){let t=n[--e];if(typeof t=="number"&&t<0)return t}return 0}function DF(n,e,t,r){let i=t.directiveStart,o=t.directiveEnd;th(t)&&RF(e,t,n.data[i+t.componentOffset]),n.firstCreatePass||Fd(t,e),_o(r,e);let s=t.initialInputs;for(let a=i;a<o;a++){let u=n.data[a],c=Ls(e,n,a,t);if(_o(c,e),s!==null&&kF(e,a-i,c,u,t,s),fi(u)){let h=gi(t.index,e);h[Ot]=Ls(e,n,a,t)}}}function Ob(n,e,t){let r=t.directiveStart,i=t.directiveEnd,o=t.index,s=ck();try{yo(o);for(let a=r;a<i;a++){let u=n.data[a],c=e[a];Sm(a),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&bF(u,c)}}finally{yo(-1),Sm(s)}}function bF(n,e){n.hostBindings!==null&&n.hostBindings(1,e)}function SF(n,e){let t=n.directiveRegistry,r=null,i=null;if(t)for(let o=0;o<t.length;o++){let s=t[o];if(vP(e,s.selectors,!1))if(r||(r=[]),fi(s))if(s.findHostDirectiveDefs!==null){let a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),r.unshift(...a,s);let u=a.length;Fm(n,e,u)}else r.unshift(s),Fm(n,e,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return r===null?null:[r,i]}function Fm(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function TF(n,e,t){if(e){let r=n.localNames=[];for(let i=0;i<e.length;i+=2){let o=t[e[i+1]];if(o==null)throw new te(-301,!1);r.push(e[i],o)}}}function AF(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;fi(e)&&(t[""]=n)}}function xF(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function MF(n,e,t,r,i){n.data[r]=i;let o=i.factory||(i.factory=po(i.type,!0)),s=new vo(o,fi(i),Z);n.blueprint[r]=s,t[r]=s,IF(n,e,r,Tb(n,t,i.hostVars,Vr),i)}function RF(n,e,t){let r=Dn(e,n),i=Nb(t),o=n[or].rendererFactory,s=16;t.signals?s=4096:t.onPush&&(s=64);let a=uh(n,sh(n,i,null,s,r,e,null,o.createRenderer(r,t),null,null,null));n[e.index]=a}function NF(n,e,t,r,i,o){let s=Dn(n,e);PF(e[yt],s,o,n.value,t,r,i)}function PF(n,e,t,r,i,o,s){if(o==null)n.removeAttribute(e,i,t);else{let a=s==null?bu(o):s(o,r||"",i);n.setAttribute(e,i,a,t)}}function kF(n,e,t,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;){let u=s[a++],c=s[a++],h=s[a++],f=s[a++];Sb(r,t,u,c,h,f)}}function FF(n,e,t){let r=null,i=0;for(;i<t.length;){let o=t[i];if(o===0){i+=4;continue}else if(o===5){i+=2;continue}if(typeof o=="number")break;if(n.hasOwnProperty(o)){r===null&&(r=[]);let s=n[o];for(let a=0;a<s.length;a+=3)if(s[a]===e){r.push(o,s[a+1],s[a+2],t[i+1]);break}}i+=2}return r}function Vb(n,e,t,r){return[n,!0,0,e,null,r,null,t,null,null]}function Lb(n,e){let t=n.contentQueries;if(t!==null){let r=Ee(null);try{for(let i=0;i<t.length;i+=2){let o=t[i],s=t[i+1];if(s!==-1){let a=n.data[s];qD(o),a.contentQueries(2,e[s],s)}}}finally{Ee(r)}}}function uh(n,e){return n[Ru]?n[MC][On]=e:n[Ru]=e,n[MC]=e,e}function Om(n,e,t){qD(0);let r=Ee(null);try{e(n,t)}finally{Ee(r)}}function OF(n){return n[Mu]||(n[Mu]=[])}function VF(n){return n.cleanup||(n.cleanup=[])}function jb(n,e){let t=n[Os],r=t?t.get(ar,null):null;r&&r.handleError(e)}function ky(n,e,t,r,i){for(let o=0;o<t.length;){let s=t[o++],a=t[o++],u=t[o++],c=e[s],h=n.data[s];Sb(h,c,r,a,u,i)}}function Ub(n,e,t){let r=OD(e,n);Gk(n[yt],r,t)}function LF(n,e){let t=gi(e,n),r=t[pe];jF(r,t);let i=t[kr];i!==null&&t[xu]===null&&(t[xu]=Ty(i,t[Os])),Fy(r,t,t[Ot])}function jF(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}function Fy(n,e,t){yy(e);try{let r=n.viewQuery;r!==null&&Om(1,r,t);let i=n.template;i!==null&&Ab(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[Vs]?.finishViewCreation(n),n.staticContentQueries&&Lb(n,e),n.staticViewQueries&&Om(2,n.viewQuery,t);let o=n.components;o!==null&&UF(e,o)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[se]&=-5,vy()}}function UF(n,e){for(let t=0;t<e.length;t++)LF(n,e[t])}function lh(n,e,t,r){let i=Ee(null);try{let o=e.tView,a=n[se]&4096?4096:16,u=sh(n,o,t,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),c=n[e.index];u[Xd]=c;let h=n[Vs];return h!==null&&(u[Vs]=h.createEmbeddedView(o)),Fy(o,u,t),u}finally{Ee(i)}}function Bb(n,e){let t=Yt+e;if(t<n.length)return n[t]}function Fu(n,e){return!e||e.firstChild===null||lb(n)}function ch(n,e,t,r=!0){let i=e[pe];if(Yk(i,e,n,t),r){let s=km(t,n),a=e[yt],u=My(a,n[mo]);u!==null&&Kk(i,n[Un],a,e,u,s)}let o=e[xu];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function $b(n,e){let t=ku(n,e);return t!==void 0&&ih(t[pe],t),t}function Vd(n,e,t,r,i=!1){for(;t!==null;){let o=e[t.index];o!==null&&r.push(sr(o)),Fr(o)&&BF(o,r);let s=t.type;if(s&8)Vd(n,e,t.child,r);else if(s&32){let a=xy(t,e),u;for(;u=a();)r.push(u)}else if(s&16){let a=Eb(e,t);if(Array.isArray(a))r.push(...a);else{let u=Pu(e[Vn]);Vd(u[pe],u,a,r,!0)}}t=i?t.projectionNext:t.next}return r}function BF(n,e){for(let t=Yt;t<n.length;t++){let r=n[t],i=r[pe].firstChild;i!==null&&Vd(r[pe],r,i,e)}n[mo]!==n[kr]&&e.push(n[mo])}var Hb=[];function $F(n){return n[go]??HF(n)}function HF(n){let e=Hb.pop()??Object.create(zF);return e.lView=n,e}function qF(n){n.lView[go]!==n&&(n.lView=null,Hb.push(n))}var zF=Ne(G({},KI),{consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{Nu(n.lView)},consumerOnSignalRead(){this.lView[go]=this}}),qb=100;function zb(n,e=!0,t=0){let r=n[or],i=r.rendererFactory,o=!1;o||i.begin?.();try{GF(n,t)}catch(s){throw e&&jb(n,s),s}finally{o||(i.end?.(),r.inlineEffectRunner?.flush())}}function GF(n,e){Vm(n,e);let t=0;for(;my(n);){if(t===qb)throw new te(103,!1);t++,Vm(n,1)}}function WF(n,e,t,r){let i=e[se];if((i&256)===256)return;let o=!1;!o&&e[or].inlineEffectRunner?.flush(),yy(e);let s=null,a=null;!o&&KF(n)&&(a=$F(e),s=QI(a));try{LD(e),ak(n.bindingStartIndex),t!==null&&Ab(n,e,t,2,r);let u=(i&3)===3;if(!o)if(u){let f=n.preOrderCheckHooks;f!==null&&Ed(e,f,null)}else{let f=n.preOrderHooks;f!==null&&Id(e,f,0,null),im(e,0)}if(QF(e),Gb(e,0),n.contentQueries!==null&&Lb(n,e),!o)if(u){let f=n.contentCheckHooks;f!==null&&Ed(e,f)}else{let f=n.contentHooks;f!==null&&Id(e,f,1),im(e,1)}hF(n,e);let c=n.components;c!==null&&Kb(e,c,0);let h=n.viewQuery;if(h!==null&&Om(2,h,r),!o)if(u){let f=n.viewCheckHooks;f!==null&&Ed(e,f)}else{let f=n.viewHooks;f!==null&&Id(e,f,2),im(e,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),e[rm]){for(let f of e[rm])f();e[rm]=null}o||(e[se]&=-73)}catch(u){throw Nu(e),u}finally{a!==null&&(YI(a,s),qF(a)),vy()}}function KF(n){return n.type!==2}function Gb(n,e){for(let t=db(n);t!==null;t=hb(t))for(let r=Yt;r<t.length;r++){let i=t[r];Wb(i,e)}}function QF(n){for(let e=db(n);e!==null;e=hb(e)){if(!(e[se]&hy.HasTransplantedViews))continue;let t=e[Md];for(let r=0;r<t.length;r++){let i=t[r],o=i[Lt];QP(i)}}}function YF(n,e,t){let r=gi(e,n);Wb(r,t)}function Wb(n,e){gy(n)&&Vm(n,e)}function Vm(n,e){let r=n[pe],i=n[se],o=n[go],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&Pg(o)),o&&(o.dirty=!1),n[se]&=-9217,s)WF(r,n,r.template,n[Ot]);else if(i&8192){Gb(n,1);let a=r.components;a!==null&&Kb(n,a,1)}}function Kb(n,e,t){for(let r=0;r<e.length;r++)YF(n,e[r],t)}function Oy(n){for(n[or].changeDetectionScheduler?.notify();n;){n[se]|=64;let e=Pu(n);if(BP(n)&&!e)return n;n=e}return null}var wo=class{get rootNodes(){let e=this._lView,t=e[pe];return Vd(t,e,t.firstChild,[])}constructor(e,t,r=!0){this._lView=e,this._cdRefInjectingView=t,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Ot]}set context(e){this._lView[Ot]=e}get destroyed(){return(this._lView[se]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Lt];if(Fr(e)){let t=e[xd],r=t?t.indexOf(this):-1;r>-1&&(ku(e,r),Td(t,r))}this._attachedToViewContainer=!1}ih(this._lView[pe],this._lView)}onDestroy(e){jD(this._lView,e)}markForCheck(){Oy(this._cdRefInjectingView||this._lView)}detach(){this._lView[se]&=-129}reattach(){bm(this._lView),this._lView[se]|=128}detectChanges(){this._lView[se]|=1024,zb(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new te(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,vb(this._lView[pe],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new te(902,!1);this._appRef=e,bm(this._lView)}},Vy=(()=>{class n{static{this.__NG_ELEMENT_ID__=XF}}return n})(),ZF=Vy,JF=class extends ZF{constructor(e,t,r){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,t){return this.createEmbeddedViewImpl(e,t)}createEmbeddedViewImpl(e,t,r){let i=lh(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:t,dehydratedView:r});return new wo(i)}};function XF(){return eO(hn(),De())}function eO(n,e){return n.type&4?new JF(e,n,nh(n,e)):null}var XG=new RegExp(`^(\\d+)*(${Uk}|${jk})*(.*)`);var tO=()=>null;function Ou(n,e){return tO(n,e)}var Ld=class{},Lm=class{},jd=class{};function nO(n){let e=Error(`No component factory found for ${Qt(n)}.`);return e[rO]=n,e}var rO="ngComponent";var jm=class{resolveComponentFactory(e){throw nO(e)}},dh=(()=>{class n{static{this.NULL=new jm}}return n})(),Vu=class{},Io=(()=>{class n{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>iO()}}return n})();function iO(){let n=De(),e=hn(),t=gi(e.index,n);return(ho(t)?t:n)[yt]}var oO=(()=>{class n{static{this.\u0275prov=W({token:n,providedIn:"root",factory:()=>null})}}return n})(),lm={};var BC=new Set;function Hs(n){BC.has(n)||(BC.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}function $C(...n){}function sO(){let n=typeof St.requestAnimationFrame=="function",e=St[n?"requestAnimationFrame":"setTimeout"],t=St[n?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&t){let r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);let i=t[Zone.__symbol__("OriginalDelegate")];i&&(t=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}var Ce=class n{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new nt(!1),this.onMicrotaskEmpty=new nt(!1),this.onStable=new nt(!1),this.onError=new nt(!1),typeof Zone>"u")throw new te(908,!1);Zone.assertZonePatched();let i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&t,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=sO().nativeRequestAnimationFrame,lO(i)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new te(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new te(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,aO,$C,$C);try{return o.runTask(s,t,r)}finally{o.cancelTask(s)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}},aO={};function Ly(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function uO(n){n.isCheckStableRunning||n.lastRequestAnimationFrameId!==-1||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(St,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,Um(n),n.isCheckStableRunning=!0,Ly(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),Um(n))}function lO(n){let e=()=>{uO(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,r,i,o,s,a)=>{if(cO(a))return t.invokeTask(i,o,s,a);try{return HC(n),t.invokeTask(i,o,s,a)}finally{(n.shouldCoalesceEventChangeDetection&&o.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&e(),qC(n)}},onInvoke:(t,r,i,o,s,a,u)=>{try{return HC(n),t.invoke(i,o,s,a,u)}finally{n.shouldCoalesceRunChangeDetection&&e(),qC(n)}},onHasTask:(t,r,i,o)=>{t.hasTask(i,o),r===i&&(o.change=="microTask"?(n._hasPendingMicrotasks=o.microTask,Um(n),Ly(n)):o.change=="macroTask"&&(n.hasPendingMacrotasks=o.macroTask))},onHandleError:(t,r,i,o)=>(t.handleError(i,o),n.runOutsideAngular(()=>n.onError.emit(o)),!1)})}function Um(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.lastRequestAnimationFrameId!==-1?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function HC(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function qC(n){n._nesting--,Ly(n)}var Bm=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new nt,this.onMicrotaskEmpty=new nt,this.onStable=new nt,this.onError=new nt}run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}};function cO(n){return!Array.isArray(n)||n.length!==1?!1:n[0].data?.__ignore_ng_zone__===!0}function dO(n="zone.js",e){return n==="noop"?new Bm:n==="zone.js"?new Ce(e):n}var Ms=function(n){return n[n.EarlyRead=0]="EarlyRead",n[n.Write=1]="Write",n[n.MixedReadWrite=2]="MixedReadWrite",n[n.Read=3]="Read",n}(Ms||{}),hO={destroy(){}};function hh(n,e){!e&&LP(hh);let t=e?.injector??U(gn);if(!Hk(t))return hO;Hs("NgAfterNextRender");let r=t.get(jy),i=r.handler??=new Hm,o=e?.phase??Ms.MixedReadWrite,s=()=>{i.unregister(u),a()},a=t.get(Dy).onDestroy(s),u=jn(t,()=>new $m(o,()=>{s(),n()}));return i.register(u),{destroy:s}}var $m=class{constructor(e,t){this.phase=e,this.callbackFn=t,this.zone=U(Ce),this.errorHandler=U(ar,{optional:!0}),U(Ld,{optional:!0})?.notify(1)}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(e){this.errorHandler?.handleError(e)}}},Hm=class{constructor(){this.executingCallbacks=!1,this.buckets={[Ms.EarlyRead]:new Set,[Ms.Write]:new Set,[Ms.MixedReadWrite]:new Set,[Ms.Read]:new Set},this.deferredCallbacks=new Set}register(e){(this.executingCallbacks?this.deferredCallbacks:this.buckets[e.phase]).add(e)}unregister(e){this.buckets[e.phase].delete(e),this.deferredCallbacks.delete(e)}execute(){this.executingCallbacks=!0;for(let e of Object.values(this.buckets))for(let t of e)t.invoke();this.executingCallbacks=!1;for(let e of this.deferredCallbacks)this.buckets[e.phase].add(e);this.deferredCallbacks.clear()}destroy(){for(let e of Object.values(this.buckets))e.clear();this.deferredCallbacks.clear()}},jy=(()=>{class n{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){let t=[...this.internalCallbacks];this.internalCallbacks.length=0;for(let r of t)r()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}static{this.\u0275prov=W({token:n,providedIn:"root",factory:()=>new n})}}return n})();function qm(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=wC(i,a);else if(o==2){let u=a,c=e[++s];r=wC(r,u+": "+c+";")}}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}var Ud=class extends dh{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let t=hi(e);return new js(t,this.ngModule)}};function zC(n){let e=[];for(let t in n){if(!n.hasOwnProperty(t))continue;let r=n[t];r!==void 0&&e.push({propName:Array.isArray(r)?r[0]:r,templateName:t})}return e}function fO(n){let e=n.toLowerCase();return e==="svg"?FD:e==="math"?zP:null}var zm=class{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){r=Qd(r);let i=this.injector.get(e,lm,r);return i!==lm||t===lm?i:this.parentInjector.get(e,t,r)}},js=class extends jd{get inputs(){let e=this.componentDef,t=e.inputTransforms,r=zC(e.inputs);if(t!==null)for(let i of r)t.hasOwnProperty(i.propName)&&(i.transform=t[i.propName]);return r}get outputs(){return zC(this.componentDef.outputs)}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=IP(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}create(e,t,r,i){let o=Ee(null);try{i=i||this.ngModule;let s=i instanceof Vt?i:i?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let a=s?new zm(e,s):e,u=a.get(Vu,null);if(u===null)throw new te(407,!1);let c=a.get(oO,null),h=a.get(jy,null),f=a.get(Ld,null),m={rendererFactory:u,sanitizer:c,inlineEffectRunner:null,afterRenderEventManager:h,changeDetectionScheduler:f},y=u.createRenderer(null,this.componentDef),S=this.componentDef.selectors[0][0]||"div",D=r?gF(y,r,this.componentDef.encapsulation,a):yb(y,S,fO(S)),T=512;this.componentDef.signals?T|=4096:this.componentDef.onPush||(T|=16);let L=null;D!==null&&(L=Ty(D,a,!0));let K=Py(0,null,null,1,0,null,null,null,null,null,null),F=sh(null,K,null,T,null,null,m,y,a,null,L);yy(F);let J,oe;try{let ne=this.componentDef,E,v=null;ne.findHostDirectiveDefs?(E=[],v=new Map,ne.findHostDirectiveDefs(ne,E,v),E.push(ne)):E=[ne];let w=pO(F,D),I=gO(w,D,ne,E,F,m,y);oe=py(K,an),D&&vO(y,ne,D,r),t!==void 0&&_O(oe,this.ngContentSelectors,t),J=yO(I,ne,E,v,F,[wO]),Fy(K,F,null)}finally{vy()}return new Gm(this.componentType,J,nh(oe,F),F,oe)}finally{Ee(o)}}},Gm=class extends Lm{constructor(e,t,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=t,this.hostView=this.changeDetectorRef=new wo(i,void 0,!1),this.componentType=e}setInput(e,t){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;let o=this._rootLView;ky(o[pe],o,i,e,t),this.previousInputValues.set(e,t);let s=gi(this._tNode.index,o);Oy(s)}}get injector(){return new fo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function pO(n,e){let t=n[pe],r=an;return n[r]=e,ah(t,r,2,"#host",null)}function gO(n,e,t,r,i,o,s){let a=i[pe];mO(r,n,e,s);let u=null;e!==null&&(u=Ty(e,i[Os]));let c=o.rendererFactory.createRenderer(e,t),h=16;t.signals?h=4096:t.onPush&&(h=64);let f=sh(i,Nb(t),null,h,i[n.index],n,o,c,null,null,u);return a.firstCreatePass&&Fm(a,n,r.length-1),uh(i,f),i[n.index]=f}function mO(n,e,t,r){for(let i of n)e.mergedAttrs=Tu(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(qm(e,e.mergedAttrs,!0),t!==null&&Cb(r,t,e))}function yO(n,e,t,r,i,o){let s=hn(),a=i[pe],u=Dn(s,i);Fb(a,i,s,t,null,r);for(let h=0;h<t.length;h++){let f=s.directiveStart+h,m=Ls(i,a,f,s);_o(m,i)}Ob(a,i,s),u&&_o(u,i);let c=Ls(i,a,s.directiveStart+s.componentOffset,s);if(n[Ot]=i[Ot]=c,o!==null)for(let h of o)h(c,e);return xb(a,s,i),c}function vO(n,e,t,r){if(r)wm(n,t,["ng-version","17.3.12"]);else{let{attrs:i,classes:o}=CP(e.selectors[0]);i&&wm(n,t,i),o&&o.length>0&&Ib(n,t,o.join(" "))}}function _O(n,e,t){let r=n.projection=[];for(let i=0;i<e.length;i++){let o=t[i];r.push(o!=null?Array.from(o):null)}}function wO(){let n=hn();Iy(De()[pe],n)}var zu=(()=>{class n{static{this.__NG_ELEMENT_ID__=EO}}return n})();function EO(){let n=hn();return CO(n,De())}var IO=zu,Qb=class extends IO{constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return nh(this._hostTNode,this._hostLView)}get injector(){return new fo(this._hostTNode,this._hostLView)}get parentInjector(){let e=Cy(this._hostTNode,this._hostLView);if(JD(e)){let t=Pd(e,this._hostLView),r=Nd(e),i=t[pe].data[r+8];return new fo(i,t)}else return new fo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let t=GC(this._lContainer);return t!==null&&t[e]||null}get length(){return this._lContainer.length-Yt}createEmbeddedView(e,t,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=Ou(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(t||{},o,s);return this.insertImpl(a,i,Fu(this._hostTNode,s)),a}createComponent(e,t,r,i,o){let s=e&&!UP(e),a;if(s)a=t;else{let S=t||{};a=S.index,r=S.injector,i=S.projectableNodes,o=S.environmentInjector||S.ngModuleRef}let u=s?e:new js(hi(e)),c=r||this.parentInjector;if(!o&&u.ngModule==null){let D=(s?c:this.parentInjector).get(Vt,null);D&&(o=D)}let h=hi(u.componentType??{}),f=Ou(this._lContainer,h?.id??null),m=f?.firstChild??null,y=u.create(c,i,m,o);return this.insertImpl(y.hostView,a,Fu(this._hostTNode,f)),y}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,r){let i=e._lView;if(KP(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let u=i[Lt],c=new Qb(u,u[Un],u[Lt]);c.detach(c.indexOf(e))}}let o=this._adjustIndex(t),s=this._lContainer;return ch(s,i,o,r),e.attachToViewContainerRef(),hD(cm(s),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){let t=GC(this._lContainer);return t!==null?t.indexOf(e):-1}remove(e){let t=this._adjustIndex(e,-1),r=ku(this._lContainer,t);r&&(Td(cm(this._lContainer),t),ih(r[pe],r))}detach(e){let t=this._adjustIndex(e,-1),r=ku(this._lContainer,t);return r&&Td(cm(this._lContainer),t)!=null?new wo(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function GC(n){return n[xd]}function cm(n){return n[xd]||(n[xd]=[])}function CO(n,e){let t,r=e[n.index];return Fr(r)?t=r:(t=Vb(r,e,null,n),e[n.index]=t,uh(e,t)),bO(t,e,n,r),new Qb(t,n,e)}function DO(n,e){let t=n[yt],r=t.createComment(""),i=Dn(e,n),o=My(t,i);return Od(t,o,r,rF(t,i),!1),r}var bO=AO,SO=()=>!1;function TO(n,e,t){return SO(n,e,t)}function AO(n,e,t,r){if(n[mo])return;let i;t.type&8?i=sr(r):i=DO(e,t),n[mo]=i}function xO(n){return typeof n=="function"&&n[Ng]!==void 0}function Yb(n){return xO(n)&&typeof n.set=="function"}function MO(n){let e=[],t=new Map;function r(i){let o=t.get(i);if(!o){let s=n(i);t.set(i,o=s.then(kO))}return o}return Bd.forEach((i,o)=>{let s=[];i.templateUrl&&s.push(r(i.templateUrl).then(c=>{i.template=c}));let a=typeof i.styles=="string"?[i.styles]:i.styles||[];if(i.styles=a,i.styleUrl&&i.styleUrls?.length)throw new Error("@Component cannot define both `styleUrl` and `styleUrls`. Use `styleUrl` if the component has one stylesheet, or `styleUrls` if it has multiple");if(i.styleUrls?.length){let c=i.styles.length,h=i.styleUrls;i.styleUrls.forEach((f,m)=>{a.push(""),s.push(r(f).then(y=>{a[c+m]=y,h.splice(h.indexOf(f),1),h.length==0&&(i.styleUrls=void 0)}))})}else i.styleUrl&&s.push(r(i.styleUrl).then(c=>{a.push(c),i.styleUrl=void 0}));let u=Promise.all(s).then(()=>FO(o));e.push(u)}),NO(),Promise.all(e).then(()=>{})}var Bd=new Map,RO=new Set;function NO(){let n=Bd;return Bd=new Map,n}function PO(){return Bd.size===0}function kO(n){return typeof n=="string"?n:n.text()}function FO(n){RO.delete(n)}function OO(n){return Object.getPrototypeOf(n.prototype).constructor}function bn(n){let e=OO(n.type),t=!0,r=[n];for(;e;){let i;if(fi(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new te(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);let s=n;s.inputs=yd(n.inputs),s.inputTransforms=yd(n.inputTransforms),s.declaredInputs=yd(n.declaredInputs),s.outputs=yd(n.outputs);let a=i.hostBindings;a&&BO(n,a);let u=i.viewQuery,c=i.contentQueries;if(u&&jO(n,u),c&&UO(n,c),VO(n,i),HN(n.outputs,i.outputs),fi(i)&&i.data.animation){let h=n.data;h.animation=(h.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(n),a===bn&&(t=!1)}}e=Object.getPrototypeOf(e)}LO(r)}function VO(n,e){for(let t in e.inputs){if(!e.inputs.hasOwnProperty(t)||n.inputs.hasOwnProperty(t))continue;let r=e.inputs[t];if(r!==void 0&&(n.inputs[t]=r,n.declaredInputs[t]=e.declaredInputs[t],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;n.inputTransforms??={},n.inputTransforms[i]=e.inputTransforms[i]}}}function LO(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){let i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Tu(i.hostAttrs,t=Tu(t,i.hostAttrs))}}function yd(n){return n===Ps?{}:n===Cn?[]:n}function jO(n,e){let t=n.viewQuery;t?n.viewQuery=(r,i)=>{e(r,i),t(r,i)}:n.viewQuery=e}function UO(n,e){let t=n.contentQueries;t?n.contentQueries=(r,i,o)=>{e(r,i,o),t(r,i,o)}:n.contentQueries=e}function BO(n,e){let t=n.hostBindings;t?n.hostBindings=(r,i)=>{e(r,i),t(r,i)}:n.hostBindings=e}var pi=class{},Lu=class{};var $d=class extends pi{constructor(e,t,r){super(),this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Ud(this);let i=wD(e);this._bootstrapComponents=mb(i.bootstrap),this._r3Injector=ab(e,t,[{provide:pi,useValue:this},{provide:dh,useValue:this.componentFactoryResolver},...r],Qt(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Hd=class extends Lu{constructor(e){super(),this.moduleType=e}create(e){return new $d(this.moduleType,e,[])}};function $O(n,e,t){return new $d(n,e,t)}var Wm=class extends pi{constructor(e){super(),this.componentFactoryResolver=new Ud(this),this.instance=null;let t=new Au([...e.providers,{provide:pi,useValue:this},{provide:dh,useValue:this.componentFactoryResolver}],e.parent||dy(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function fh(n,e,t=null){return new Wm({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}var Co=(()=>{class n{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new bt(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function Uy(n,e,t){return n[e]=t}function Ln(n,e,t){let r=n[e];return Object.is(r,t)?!1:(n[e]=t,!0)}function By(n,e,t,r){let i=Ln(n,e,t);return Ln(n,e+1,r)||i}function HO(n,e,t,r,i){let o=By(n,e,t,r);return Ln(n,e+2,i)||o}function qO(n){return(n.flags&32)===32}function zO(n,e,t,r,i,o,s,a,u){let c=e.consts,h=ah(e,n,4,s||null,Rd(c,a));kb(e,t,h,Rd(c,u)),Iy(e,h);let f=h.tView=Py(2,h,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c,null);return e.queries!==null&&(e.queries.template(e,h),f.queries=e.queries.embeddedTView(h)),h}function vt(n,e,t,r,i,o,s,a){let u=De(),c=un(),h=n+an,f=c.firstCreatePass?zO(h,c,u,e,t,r,i,o,s):c.data[h];Hu(f,!1);let m=GO(c,u,f,n);wy()&&Ry(c,u,m,f),_o(m,u);let y=Vb(m,u,m,f);return u[h]=y,uh(u,y),TO(y,f,u),fy(f)&&Mb(c,u,f),s!=null&&Rb(u,f,a),vt}var GO=WO;function WO(n,e,t,r){return Ey(!0),e[yt].createComment("")}function ph(n,e,t,r){let i=De(),o=$s();if(Ln(i,o,e)){let s=un(),a=_y();NF(a,i,n,e,t,r)}return ph}function KO(n,e,t,r){return Ln(n,$s(),t)?e+bu(t)+r:Vr}function QO(n,e,t,r,i,o){let s=sk(),a=By(n,s,t,i);return HD(2),a?e+bu(t)+r+bu(i)+o:Vr}function vd(n,e){return n<<17|e<<2}function Eo(n){return n>>17&32767}function YO(n){return(n&2)==2}function ZO(n,e){return n&131071|e<<17}function Km(n){return n|2}function Us(n){return(n&131068)>>2}function dm(n,e){return n&-131069|e<<2}function JO(n){return(n&1)===1}function Qm(n){return n|1}function XO(n,e,t,r,i,o){let s=o?e.classBindings:e.styleBindings,a=Eo(s),u=Us(s);n[r]=t;let c=!1,h;if(Array.isArray(t)){let f=t;h=f[1],(h===null||$u(f,h)>0)&&(c=!0)}else h=t;if(i)if(u!==0){let m=Eo(n[a+1]);n[r+1]=vd(m,a),m!==0&&(n[m+1]=dm(n[m+1],r)),n[a+1]=ZO(n[a+1],r)}else n[r+1]=vd(a,0),a!==0&&(n[a+1]=dm(n[a+1],r)),a=r;else n[r+1]=vd(u,0),a===0?a=r:n[u+1]=dm(n[u+1],r),u=r;c&&(n[r+1]=Km(n[r+1])),WC(n,h,r,!0),WC(n,h,r,!1),eV(e,h,n,r,o),s=vd(a,u),o?e.classBindings=s:e.styleBindings=s}function eV(n,e,t,r,i){let o=i?n.residualClasses:n.residualStyles;o!=null&&typeof e=="string"&&$u(o,e)>=0&&(t[r+1]=Qm(t[r+1]))}function WC(n,e,t,r){let i=n[t+1],o=e===null,s=r?Eo(i):Us(i),a=!1;for(;s!==0&&(a===!1||o);){let u=n[s],c=n[s+1];tV(u,e)&&(a=!0,n[s+1]=r?Qm(c):Km(c)),s=r?Eo(c):Us(c)}a&&(n[t+1]=r?Km(i):Qm(i))}function tV(n,e){return n===null||e==null||(Array.isArray(n)?n[1]:n)===e?!0:Array.isArray(n)&&typeof e=="string"?$u(n,e)>=0:!1}function ye(n,e,t){let r=De(),i=$s();if(Ln(r,i,e)){let o=un(),s=_y();Pb(o,s,r,n,e,r[yt],t,!1)}return ye}function KC(n,e,t,r,i){let o=e.inputs,s=i?"class":"style";ky(n,t,o[s],s,r)}function gh(n,e){return nV(n,e,null,!0),gh}function nV(n,e,t,r){let i=De(),o=un(),s=HD(2);if(o.firstUpdatePass&&iV(o,n,s,r),e!==Vr&&Ln(i,s,e)){let a=o.data[mi()];lV(o,a,i,i[yt],n,i[s+1]=cV(e,t),r,s)}}function rV(n,e){return e>=n.expandoStartIndex}function iV(n,e,t,r){let i=n.data;if(i[t+1]===null){let o=i[mi()],s=rV(n,t);dV(o,r)&&e===null&&!s&&(e=!1),e=oV(i,o,e,r),XO(i,o,e,t,s,r)}}function oV(n,e,t,r){let i=dk(n),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(t=hm(null,n,e,t,r),t=ju(t,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||n[s]!==i)if(t=hm(i,n,e,t,r),o===null){let u=sV(n,e,r);u!==void 0&&Array.isArray(u)&&(u=hm(null,n,e,u[1],r),u=ju(u,e.attrs,r),aV(n,e,r,u))}else o=uV(n,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),t}function sV(n,e,t){let r=t?e.classBindings:e.styleBindings;if(Us(r)!==0)return n[Eo(r)]}function aV(n,e,t,r){let i=t?e.classBindings:e.styleBindings;n[Eo(i)]=r}function uV(n,e,t){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=n[o].hostAttrs;r=ju(r,s,t)}return ju(r,e.attrs,t)}function hm(n,e,t,r,i){let o=null,s=t.directiveEnd,a=t.directiveStylingLast;for(a===-1?a=t.directiveStart:a++;a<s&&(o=e[a],r=ju(r,o.hostAttrs,i),o!==n);)a++;return n!==null&&(t.directiveStylingLast=a),r}function ju(n,e,t){let r=t?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(n)||(n=n===void 0?[]:["",n]),lP(n,s,t?!0:e[++o]))}return n===void 0?null:n}function lV(n,e,t,r,i,o,s,a){if(!(e.type&3))return;let u=n.data,c=u[a+1],h=JO(c)?QC(u,e,t,i,Us(c),s):void 0;if(!qd(h)){qd(o)||YO(c)&&(o=QC(u,null,t,i,a,s));let f=OD(mi(),t);cF(r,s,f,i,o)}}function QC(n,e,t,r,i,o){let s=e===null,a;for(;i>0;){let u=n[i],c=Array.isArray(u),h=c?u[1]:u,f=h===null,m=t[i+1];m===Vr&&(m=f?Cn:void 0);let y=f?tm(m,r):h===r?m:void 0;if(c&&!qd(y)&&(y=tm(u,r)),qd(y)&&(a=y,s))return a;let S=n[i+1];i=s?Eo(S):Us(S)}if(e!==null){let u=o?e.residualClasses:e.residualStyles;u!=null&&(a=tm(u,r))}return a}function qd(n){return n!==void 0}function cV(n,e){return n==null||n===""||(typeof e=="string"?n=n+e:typeof n=="object"&&(n=Qt(Ay(n)))),n}function dV(n,e){return(n.flags&(e?8:16))!==0}var Ym=class{destroy(e){}updateValue(e,t){}swap(e,t){let r=Math.min(e,t),i=Math.max(e,t),o=this.detach(i);if(i-r>1){let s=this.detach(r);this.attach(r,o),this.attach(i,s)}else this.attach(r,o)}move(e,t){this.attach(t,this.detach(e))}};function fm(n,e,t,r,i){return n===t&&Object.is(e,r)?1:Object.is(i(n,e),i(t,r))?-1:0}function hV(n,e,t){let r,i,o=0,s=n.length-1;if(Array.isArray(e)){let a=e.length-1;for(;o<=s&&o<=a;){let u=n.at(o),c=e[o],h=fm(o,u,o,c,t);if(h!==0){h<0&&n.updateValue(o,c),o++;continue}let f=n.at(s),m=e[a],y=fm(s,f,a,m,t);if(y!==0){y<0&&n.updateValue(s,m),s--,a--;continue}let S=t(o,u),D=t(s,f),T=t(o,c);if(Object.is(T,D)){let L=t(a,m);Object.is(L,S)?(n.swap(o,s),n.updateValue(s,m),a--,s--):n.move(s,o),n.updateValue(o,c),o++;continue}if(r??=new zd,i??=ZC(n,o,s,t),Zm(n,r,o,T))n.updateValue(o,c),o++,s++;else if(i.has(T))r.set(S,n.detach(o)),s--;else{let L=n.create(o,e[o]);n.attach(o,L),o++,s++}}for(;o<=a;)YC(n,r,t,o,e[o]),o++}else if(e!=null){let a=e[Symbol.iterator](),u=a.next();for(;!u.done&&o<=s;){let c=n.at(o),h=u.value,f=fm(o,c,o,h,t);if(f!==0)f<0&&n.updateValue(o,h),o++,u=a.next();else{r??=new zd,i??=ZC(n,o,s,t);let m=t(o,h);if(Zm(n,r,o,m))n.updateValue(o,h),o++,s++,u=a.next();else if(!i.has(m))n.attach(o,n.create(o,h)),o++,s++,u=a.next();else{let y=t(o,c);r.set(y,n.detach(o)),s--}}}for(;!u.done;)YC(n,r,t,n.length,u.value),u=a.next()}for(;o<=s;)n.destroy(n.detach(s--));r?.forEach(a=>{n.destroy(a)})}function Zm(n,e,t,r){return e!==void 0&&e.has(r)?(n.attach(t,e.get(r)),e.delete(r),!0):!1}function YC(n,e,t,r,i){if(Zm(n,e,r,t(r,i)))n.updateValue(r,i);else{let o=n.create(r,i);n.attach(r,o)}}function ZC(n,e,t,r){let i=new Set;for(let o=e;o<=t;o++)i.add(r(o,n.at(o)));return i}var zd=class{constructor(){this.kvMap=new Map,this._vMap=void 0}has(e){return this.kvMap.has(e)}delete(e){if(!this.has(e))return!1;let t=this.kvMap.get(e);return this._vMap!==void 0&&this._vMap.has(t)?(this.kvMap.set(e,this._vMap.get(t)),this._vMap.delete(t)):this.kvMap.delete(e),!0}get(e){return this.kvMap.get(e)}set(e,t){if(this.kvMap.has(e)){let r=this.kvMap.get(e);this._vMap===void 0&&(this._vMap=new Map);let i=this._vMap;for(;i.has(r);)r=i.get(r);i.set(r,t)}else this.kvMap.set(e,t)}forEach(e){for(let[t,r]of this.kvMap)if(e(r,t),this._vMap!==void 0){let i=this._vMap;for(;i.has(r);)r=i.get(r),e(r,t)}}};function Bn(n,e,t){Hs("NgControlFlow");let r=De(),i=$s(),o=ty(r,an+n),s=0;if(Ln(r,i,e)){let a=Ee(null);try{if($b(o,s),e!==-1){let u=ny(r[pe],an+e),c=Ou(o,u.tView.ssrId),h=lh(r,u,t,{dehydratedView:c});ch(o,h,s,Fu(u,c))}}finally{Ee(a)}}else{let a=Bb(o,s);a!==void 0&&(a[Ot]=t)}}var Jm=class{constructor(e,t,r){this.lContainer=e,this.$implicit=t,this.$index=r}get $count(){return this.lContainer.length-Yt}};function $n(n){return n}var Xm=class{constructor(e,t,r){this.hasEmptyBlock=e,this.trackByFn=t,this.liveCollection=r}};function Hn(n,e,t,r,i,o,s,a,u,c,h,f,m){Hs("NgControlFlow");let y=u!==void 0,S=De(),D=a?s.bind(S[Vn][Ot]):s,T=new Xm(y,D);S[an+n]=T,vt(n+1,e,t,r,i,o),y&&vt(n+2,u,c,h,f,m)}var ey=class extends Ym{constructor(e,t,r){super(),this.lContainer=e,this.hostLView=t,this.templateTNode=r,this.needsIndexUpdate=!1}get length(){return this.lContainer.length-Yt}at(e){return this.getLView(e)[Ot].$implicit}attach(e,t){let r=t[xu];this.needsIndexUpdate||=e!==this.length,ch(this.lContainer,t,e,Fu(this.templateTNode,r))}detach(e){return this.needsIndexUpdate||=e!==this.length-1,fV(this.lContainer,e)}create(e,t){let r=Ou(this.lContainer,this.templateTNode.tView.ssrId);return lh(this.hostLView,this.templateTNode,new Jm(this.lContainer,t,e),{dehydratedView:r})}destroy(e){ih(e[pe],e)}updateValue(e,t){this.getLView(e)[Ot].$implicit=t}reset(){this.needsIndexUpdate=!1}updateIndexes(){if(this.needsIndexUpdate)for(let e=0;e<this.length;e++)this.getLView(e)[Ot].$index=e}getLView(e){return pV(this.lContainer,e)}};function qn(n){let e=Ee(null),t=mi();try{let r=De(),i=r[pe],o=r[t];if(o.liveCollection===void 0){let a=t+1,u=ty(r,a),c=ny(i,a);o.liveCollection=new ey(u,r,c)}else o.liveCollection.reset();let s=o.liveCollection;if(hV(s,n,o.trackByFn),s.updateIndexes(),o.hasEmptyBlock){let a=$s(),u=s.length===0;if(Ln(r,a,u)){let c=t+2,h=ty(r,c);if(u){let f=ny(i,c),m=Ou(h,f.tView.ssrId),y=lh(r,f,void 0,{dehydratedView:m});ch(h,y,0,Fu(f,m))}else $b(h,0)}}}finally{Ee(e)}}function ty(n,e){return n[e]}function fV(n,e){return ku(n,e)}function pV(n,e){return Bb(n,e)}function ny(n,e){return py(n,e)}function gV(n,e,t,r,i,o){let s=e.consts,a=Rd(s,i),u=ah(e,n,2,r,a);return kb(e,t,u,Rd(s,o)),u.attrs!==null&&qm(u,u.attrs,!1),u.mergedAttrs!==null&&qm(u,u.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,u),u}function R(n,e,t,r){let i=De(),o=un(),s=an+n,a=i[yt],u=o.firstCreatePass?gV(s,o,i,e,t,r):o.data[s],c=mV(o,i,u,a,e,n);i[s]=c;let h=fy(u);return Hu(u,!0),Cb(a,c,u),!qO(u)&&wy()&&Ry(o,i,c,u),JP()===0&&_o(c,i),XP(),h&&(Mb(o,i,u),xb(o,u,i)),r!==null&&Rb(i,u),R}function k(){let n=hn();$D()?ok():(n=n.parent,Hu(n,!1));let e=n;nk(e)&&rk(),ek();let t=un();return t.firstCreatePass&&(Iy(t,n),MD(n)&&t.queries.elementEnd(n)),e.classesWithoutHost!=null&&_k(e)&&KC(t,e,De(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&wk(e)&&KC(t,e,De(),e.stylesWithoutHost,!1),k}function ve(n,e,t,r){return R(n,e,t,r),k(),ve}var mV=(n,e,t,r,i,o)=>(Ey(!0),yb(r,i,gk()));function Zt(){return De()}var co=void 0;function yV(n){let e=n,t=Math.floor(Math.abs(n)),r=n.toString().replace(/^[^.]*\.?/,"").length;return t===1&&r===0?1:5}var vV=["en",[["a","p"],["AM","PM"],co],[["AM","PM"],co,co],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],co,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],co,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",co,"{1} 'at' {0}",co],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",yV],pm={};function Sn(n){let e=_V(n),t=JC(e);if(t)return t;let r=e.split("-")[0];if(t=JC(r),t)return t;if(r==="en")return vV;throw new te(701,!1)}function JC(n){return n in pm||(pm[n]=St.ng&&St.ng.common&&St.ng.common.locales&&St.ng.common.locales[n]),pm[n]}var rt=function(n){return n[n.LocaleId=0]="LocaleId",n[n.DayPeriodsFormat=1]="DayPeriodsFormat",n[n.DayPeriodsStandalone=2]="DayPeriodsStandalone",n[n.DaysFormat=3]="DaysFormat",n[n.DaysStandalone=4]="DaysStandalone",n[n.MonthsFormat=5]="MonthsFormat",n[n.MonthsStandalone=6]="MonthsStandalone",n[n.Eras=7]="Eras",n[n.FirstDayOfWeek=8]="FirstDayOfWeek",n[n.WeekendRange=9]="WeekendRange",n[n.DateFormat=10]="DateFormat",n[n.TimeFormat=11]="TimeFormat",n[n.DateTimeFormat=12]="DateTimeFormat",n[n.NumberSymbols=13]="NumberSymbols",n[n.NumberFormats=14]="NumberFormats",n[n.CurrencyCode=15]="CurrencyCode",n[n.CurrencySymbol=16]="CurrencySymbol",n[n.CurrencyName=17]="CurrencyName",n[n.Currencies=18]="Currencies",n[n.Directionality=19]="Directionality",n[n.PluralCase=20]="PluralCase",n[n.ExtraData=21]="ExtraData",n}(rt||{});function _V(n){return n.toLowerCase().replace(/_/g,"-")}var Gd="en-US";var wV=Gd;function EV(n){typeof n=="string"&&(wV=n.toLowerCase().replace(/_/g,"-"))}function ce(n,e,t,r){let i=De(),o=un(),s=hn();return Zb(o,i,i[yt],s,n,e,r),ce}function IV(n,e,t,r){let i=n.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===t&&i[o+1]===r){let a=e[Mu],u=i[o+2];return a.length>u?a[u]:null}typeof s=="string"&&(o+=2)}return null}function Zb(n,e,t,r,i,o,s){let a=fy(r),c=n.firstCreatePass&&VF(n),h=e[Ot],f=OF(e),m=!0;if(r.type&3||s){let D=Dn(r,e),T=s?s(D):D,L=f.length,K=s?J=>s(sr(J[r.index])):r.index,F=null;if(!s&&a&&(F=IV(n,e,i,r.index)),F!==null){let J=F.__ngLastListenerFn__||F;J.__ngNextListenerFn__=o,F.__ngLastListenerFn__=o,m=!1}else{o=eD(r,e,h,o,!1);let J=t.listen(T,i,o);f.push(o,J),c&&c.push(i,K,L,L+1)}}else o=eD(r,e,h,o,!1);let y=r.outputs,S;if(m&&y!==null&&(S=y[i])){let D=S.length;if(D)for(let T=0;T<D;T+=2){let L=S[T],K=S[T+1],oe=e[L][K].subscribe(o),ne=f.length;f.push(o,oe),c&&c.push(i,r.index,ne,-(ne+1))}}}function XC(n,e,t,r){let i=Ee(null);try{return nr(6,e,t),t(r)!==!1}catch(o){return jb(n,o),!1}finally{nr(7,e,t),Ee(i)}}function eD(n,e,t,r,i){return function o(s){if(s===Function)return r;let a=n.componentOffset>-1?gi(n.index,e):e;Oy(a);let u=XC(e,t,r,s),c=o.__ngNextListenerFn__;for(;c;)u=XC(e,t,c,s)&&u,c=c.__ngNextListenerFn__;return i&&u===!1&&s.preventDefault(),u}}function Te(n=1){return fk(n)}function CV(n,e,t,r){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=r}function B(n,e=""){let t=De(),r=un(),i=n+an,o=r.firstCreatePass?ah(r,i,1,e,null):r.data[i],s=DV(r,t,o,e,n);t[i]=s,wy()&&Ry(r,t,s,o),Hu(o,!1)}var DV=(n,e,t,r,i)=>(Ey(!0),zk(e[yt],r));function Jt(n){return Lr("",n,""),Jt}function Lr(n,e,t){let r=De(),i=KO(r,n,e,t);return i!==Vr&&Ub(r,mi(),i),Lr}function $y(n,e,t,r,i){let o=De(),s=QO(o,n,e,t,r,i);return s!==Vr&&Ub(o,mi(),s),$y}function lr(n,e,t){Yb(e)&&(e=e());let r=De(),i=$s();if(Ln(r,i,e)){let o=un(),s=_y();Pb(o,s,r,n,e,r[yt],t,!1)}return lr}function jr(n,e){let t=Yb(n);return t&&n.set(e),t}function cr(n,e){let t=De(),r=un(),i=hn();return Zb(r,t,t[yt],i,n,e),cr}function bV(n,e,t){let r=un();if(r.firstCreatePass){let i=fi(n);ry(t,r.data,r.blueprint,i,!0),ry(e,r.data,r.blueprint,i,!1)}}function ry(n,e,t,r,i){if(n=Kt(n),Array.isArray(n))for(let o=0;o<n.length;o++)ry(n[o],e,t,r,i);else{let o=un(),s=De(),a=hn(),u=Fs(n)?n:Kt(n.provide),c=SD(n),h=a.providerIndexes&1048575,f=a.directiveStart,m=a.providerIndexes>>20;if(Fs(n)||!n.multi){let y=new vo(c,i,Z),S=mm(u,e,i?h:h+m,f);S===-1?(Am(Fd(a,s),o,u),gm(o,n,e.length),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(y),s.push(y)):(t[S]=y,s[S]=y)}else{let y=mm(u,e,h+m,f),S=mm(u,e,h,h+m),D=y>=0&&t[y],T=S>=0&&t[S];if(i&&!T||!i&&!D){Am(Fd(a,s),o,u);let L=AV(i?TV:SV,t.length,i,r,c);!i&&T&&(t[S].providerFactory=L),gm(o,n,e.length,0),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(L),s.push(L)}else{let L=Jb(t[i?S:y],c,!i&&r);gm(o,n,y>-1?y:S,L)}!i&&r&&T&&t[S].componentProviders++}}}function gm(n,e,t,r){let i=Fs(e),o=RP(e);if(i||o){let u=(o?Kt(e.useClass):e).prototype.ngOnDestroy;if(u){let c=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){let h=c.indexOf(t);h===-1?c.push(t,[r,u]):c[h+1].push(r,u)}else c.push(t,u)}}}function Jb(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function mm(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function SV(n,e,t,r){return iy(this.multi,[])}function TV(n,e,t,r){let i=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=Ls(t,t[pe],this.providerFactory.index,r);o=a.slice(0,s),iy(i,o);for(let u=s;u<a.length;u++)o.push(a[u])}else o=[],iy(i,o);return o}function iy(n,e){for(let t=0;t<n.length;t++){let r=n[t];e.push(r())}return e}function AV(n,e,t,r,i){let o=new vo(n,t,Z);return o.multi=[],o.index=e,o.componentProviders=0,Jb(o,i,r&&!t),o}function _i(n,e=[]){return t=>{t.providersResolver=(r,i)=>bV(r,i?i(n):n,e)}}var xV=(()=>{class n{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let r=CD(!1,t.type),i=r.length>0?fh([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=W({token:n,providedIn:"environment",factory:()=>new n(j(Vt))})}}return n})();function Xb(n){Hs("NgStandalone"),n.getStandaloneInjector=e=>e.get(xV).getOrCreateStandaloneInjector(n)}function Gu(n,e,t,r){return tS(De(),qu(),n,e,t,r)}function wi(n,e,t,r,i){return nS(De(),qu(),n,e,t,r,i)}function eS(n,e,t,r,i,o){return MV(De(),qu(),n,e,t,r,i,o)}function Hy(n,e){let t=n[e];return t===Vr?void 0:t}function tS(n,e,t,r,i,o){let s=e+t;return Ln(n,s,i)?Uy(n,s+1,o?r.call(o,i):r(i)):Hy(n,s+1)}function nS(n,e,t,r,i,o,s){let a=e+t;return By(n,a,i,o)?Uy(n,a+2,s?r.call(s,i,o):r(i,o)):Hy(n,a+2)}function MV(n,e,t,r,i,o,s,a){let u=e+t;return HO(n,u,i,o,s)?Uy(n,u+3,a?r.call(a,i,o,s):r(i,o,s)):Hy(n,u+3)}function mh(n,e){let t=un(),r,i=n+an;t.firstCreatePass?(r=RV(e,t.pipeRegistry),t.data[i]=r,r.onDestroy&&(t.destroyHooks??=[]).push(i,r.onDestroy)):r=t.data[i];let o=r.factory||(r.factory=po(r.type,!0)),s,a=sn(Z);try{let u=kd(!1),c=o();return kd(u),CV(t,De(),i,c),c}finally{sn(a)}}function RV(n,e){if(e)for(let t=e.length-1;t>=0;t--){let r=e[t];if(n===r.name)return r}}function rS(n,e,t){let r=n+an,i=De(),o=VD(i,r);return oS(i,r)?tS(i,qu(),e,o.transform,t,o):o.transform(t)}function iS(n,e,t,r){let i=n+an,o=De(),s=VD(o,i);return oS(o,i)?nS(o,qu(),e,s.transform,t,r,s):s.transform(t,r)}function oS(n,e){return n[pe].data[e].pure}var _d=null;function NV(n){_d!==null&&(n.defaultEncapsulation!==_d.defaultEncapsulation||n.preserveWhitespaces!==_d.preserveWhitespaces)||(_d=n)}var Pr=class{constructor(e){this.full=e;let t=e.split(".");this.major=t[0],this.minor=t[1],this.patch=t.slice(2).join(".")}},sS=new Pr("17.3.12"),yh=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"platform"})}}return n})();var qy=new z(""),Wu=new z(""),vh=(()=>{class n{constructor(t,r,i){this._ngZone=t,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,zy||(PV(i),i.addToWindow(r)),this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ce.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&this._pendingCount===0&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;this._callbacks.length!==0;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb()}});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>r.updateCb&&r.updateCb(t)?(clearTimeout(r.timeoutId),!1):!0)}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,r,i){let o=-1;r&&r>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==o),t()},r)),this._callbacks.push({doneCb:t,timeoutId:o,updateCb:i})}whenStable(t,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(t){this.registry.registerApplication(t,this)}unregisterApplication(t){this.registry.unregisterApplication(t)}findProviders(t,r,i){return[]}static{this.\u0275fac=function(r){return new(r||n)(j(Ce),j(_h),j(Wu))}}static{this.\u0275prov=W({token:n,factory:n.\u0275fac})}}return n})(),_h=(()=>{class n{constructor(){this._applications=new Map}registerApplication(t,r){this._applications.set(t,r)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,r=!0){return zy?.findTestabilityInTree(this,t,r)??null}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"platform"})}}return n})();function PV(n){zy=n}var zy;function Do(n){return!!n&&typeof n.then=="function"}function aS(n){return!!n&&typeof n.subscribe=="function"}var wh=new z(""),uS=(()=>{class n{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r}),this.appInits=U(wh,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let t=[];for(let i of this.appInits){let o=i();if(Do(o))t.push(o);else if(aS(o)){let s=new Promise((a,u)=>{o.subscribe({complete:a,error:u})});t.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),t.length===0&&r(),this.initialized=!0}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Eh=new z("");function kV(){JI(()=>{throw new te(600,!1)})}function FV(n){return n.isBoundToModule}function OV(n,e,t){try{let r=t();return Do(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}function lS(n,e){return Array.isArray(e)?e.reduce(lS,n):G(G({},n),e)}var bo=(()=>{class n{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=U(ub),this.afterRenderEffectManager=U(jy),this.externalTestViews=new Set,this.beforeRender=new tt,this.afterTick=new tt,this.componentTypes=[],this.components=[],this.isStable=U(Co).hasPendingTasks.pipe(ee(t=>!t)),this._injector=U(Vt)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(t,r){let i=t instanceof jd;if(!this._injector.get(uS).done){let m=!i&&_D(t),y=!1;throw new te(405,y)}let s;i?s=t:s=this._injector.get(dh).resolveComponentFactory(t),this.componentTypes.push(s.componentType);let a=FV(s)?void 0:this._injector.get(pi),u=r||s.selector,c=s.create(gn.NULL,[],u,a),h=c.location.nativeElement,f=c.injector.get(qy,null);return f?.registerApplication(h),c.onDestroy(()=>{this.detachView(c.hostView),Dd(this.components,c),f?.unregisterApplication(h)}),this._loadComponent(c),c}tick(){this._tick(!0)}_tick(t){if(this._runningTick)throw new te(101,!1);let r=Ee(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(t)}catch(i){this.internalErrorHandler(i)}finally{this.afterTick.next(),this._runningTick=!1,Ee(r)}}detectChangesInAttachedViews(t){let r=0,i=this.afterRenderEffectManager;for(;;){if(r===qb)throw new te(103,!1);if(t){let o=r===0;this.beforeRender.next(o);for(let{_lView:s,notifyErrorHandler:a}of this._views)VV(s,o,a)}if(r++,i.executeInternalCallbacks(),![...this.externalTestViews.keys(),...this._views].some(({_lView:o})=>oy(o))&&(i.execute(),![...this.externalTestViews.keys(),...this._views].some(({_lView:o})=>oy(o))))break}}attachView(t){let r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){let r=t;Dd(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);let r=this._injector.get(Eh,[]);[...this._bootstrapListeners,...r].forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>Dd(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new te(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function Dd(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function VV(n,e,t){!e&&!oy(n)||LV(n,t,e)}function oy(n){return my(n)}function LV(n,e,t){let r;t?(r=0,n[se]|=1024):n[se]&64?r=0:r=1,zb(n,e,r)}var sy=class{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}},Ih=(()=>{class n{compileModuleSync(t){return new Hd(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let r=this.compileModuleSync(t),i=wD(t),o=mb(i.declarations).reduce((s,a)=>{let u=hi(a);return u&&s.push(new js(u)),s},[]);return new sy(r,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),jV=new z("");function UV(n,e,t){let r=new Hd(t);return Promise.resolve(r)}function tD(n){for(let e=n.length-1;e>=0;e--)if(n[e]!==void 0)return n[e]}var BV=(()=>{class n{constructor(){this.zone=U(Ce),this.applicationRef=U(bo)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function $V(n){return[{provide:Ce,useFactory:n},{provide:ks,multi:!0,useFactory:()=>{let e=U(BV,{optional:!0});return()=>e.initialize()}},{provide:ks,multi:!0,useFactory:()=>{let e=U(zV);return()=>{e.initialize()}}},{provide:ub,useFactory:HV}]}function HV(){let n=U(Ce),e=U(ar);return t=>n.runOutsideAngular(()=>e.handleError(t))}function qV(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}var zV=(()=>{class n{constructor(){this.subscription=new et,this.initialized=!1,this.zone=U(Ce),this.pendingTasks=U(Co)}initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Ce.assertNotInAngularZone(),queueMicrotask(()=>{t!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Ce.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function GV(){return typeof $localize<"u"&&$localize.locale||Gd}var Ch=new z("",{providedIn:"root",factory:()=>U(Ch,_e.Optional|_e.SkipSelf)||GV()});var cS=new z(""),dS=(()=>{class n{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,r){let i=dO(r?.ngZone,qV({eventCoalescing:r?.ngZoneEventCoalescing,runCoalescing:r?.ngZoneRunCoalescing}));return i.run(()=>{let o=$O(t.moduleType,this.injector,$V(()=>i)),s=o.injector.get(ar,null);return i.runOutsideAngular(()=>{let a=i.onError.subscribe({next:u=>{s.handleError(u)}});o.onDestroy(()=>{Dd(this._modules,o),a.unsubscribe()})}),OV(s,i,()=>{let a=o.injector.get(uS);return a.runInitializers(),a.donePromise.then(()=>{let u=o.injector.get(Ch,Gd);return EV(u||Gd),this._moduleDoBootstrap(o),o})})})}bootstrapModule(t,r=[]){let i=lS({},r);return UV(this.injector,i,t).then(o=>this.bootstrapModuleFactory(o,i))}_moduleDoBootstrap(t){let r=t.injector.get(bo);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(i=>r.bootstrap(i));else if(t.instance.ngDoBootstrap)t.instance.ngDoBootstrap(r);else throw new te(-403,!1);this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new te(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());let t=this._injector.get(cS,null);t&&(t.forEach(r=>r()),t.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static{this.\u0275fac=function(r){return new(r||n)(j(gn))}}static{this.\u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"platform"})}}return n})(),Du=null,hS=new z("");function WV(n){if(Du&&!Du.get(hS,!1))throw new te(400,!1);kV(),Du=n;let e=n.get(dS);return YV(n),e}function Gy(n,e,t=[]){let r=`Platform: ${e}`,i=new z(r);return(o=[])=>{let s=fS();if(!s||s.injector.get(hS,!1)){let a=[...t,...o,{provide:i,useValue:!0}];n?n(a):WV(KV(a,r))}return QV(i)}}function KV(n=[],e){return gn.create({name:e,providers:[{provide:Jd,useValue:"platform"},{provide:cS,useValue:new Set([()=>Du=null])},...n]})}function QV(n){let e=fS();if(!e)throw new te(401,!1);return e}function fS(){return Du?.get(dS)??null}function YV(n){n.get(by,null)?.forEach(t=>t())}function Wy(){return!1}var So=(()=>{class n{static{this.__NG_ELEMENT_ID__=ZV}}return n})();function ZV(n){return JV(hn(),De(),(n&16)===16)}function JV(n,e,t){if(th(n)&&!t){let r=gi(n.index,e);return new wo(r,r)}else if(n.type&47){let r=e[Vn];return new wo(r,e)}return null}var pS=Gy(null,"core",[]),gS=(()=>{class n{constructor(t){}static{this.\u0275fac=function(r){return new(r||n)(j(bo))}}static{this.\u0275mod=Ye({type:n})}static{this.\u0275inj=Qe({})}}return n})();function Ku(n){return typeof n=="boolean"?n:n!=null&&n!=="false"}function mS(n){let e=hi(n);if(!e)return null;let t=new js(e);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var IS=null;function dr(){return IS}function CS(n){IS??=n}var Nh=class{};var Ut=new z(""),tv=(()=>{class n{historyGo(t){throw new Error("")}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=W({token:n,factory:()=>U(tL),providedIn:"platform"})}}return n})(),DS=new z(""),tL=(()=>{class n extends tv{constructor(){super(),this._doc=U(Ut),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return dr().getBaseHref(this._doc)}onPopState(t){let r=dr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){let r=dr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=W({token:n,factory:()=>new n,providedIn:"platform"})}}return n})();function nv(n,e){if(n.length==0)return e;if(e.length==0)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,t==2?n+e.substring(1):t==1?n+e:n+"/"+e}function yS(n){let e=n.match(/#|\?|$/),t=e&&e.index||n.length,r=t-(n[t-1]==="/"?1:0);return n.slice(0,r)+n.slice(t)}function Br(n){return n&&n[0]!=="?"?"?"+n:n}var To=(()=>{class n{historyGo(t){throw new Error("")}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=W({token:n,factory:()=>U(rv),providedIn:"root"})}}return n})(),bS=new z(""),rv=(()=>{class n extends To{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??U(Ut).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return nv(this._baseHref,t)}path(t=!1){let r=this._platformLocation.pathname+Br(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+Br(o));this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+Br(o));this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static{this.\u0275fac=function(r){return new(r||n)(j(tv),j(bS,8))}}static{this.\u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),SS=(()=>{class n extends To{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(t){let r=nv(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+Br(o));s.length==0&&(s=this._platformLocation.pathname),this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+Br(o));s.length==0&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static{this.\u0275fac=function(r){return new(r||n)(j(tv),j(bS,8))}}static{this.\u0275prov=W({token:n,factory:n.\u0275fac})}}return n})(),zs=(()=>{class n{constructor(t){this._subject=new nt,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;let r=this._locationStrategy.getBaseHref();this._basePath=iL(yS(vS(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Br(r))}normalize(t){return n.stripTrailingSlash(rL(this._basePath,vS(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Br(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Br(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}static{this.normalizeQueryParams=Br}static{this.joinWithSlash=nv}static{this.stripTrailingSlash=yS}static{this.\u0275fac=function(r){return new(r||n)(j(To))}}static{this.\u0275prov=W({token:n,factory:()=>nL(),providedIn:"root"})}}return n})();function nL(){return new zs(j(To))}function rL(n,e){if(!n||!e.startsWith(n))return e;let t=e.substring(n.length);return t===""||["/",";","?","#"].includes(t[0])?t:e}function vS(n){return n.replace(/\/index.html$/,"")}function iL(n){if(new RegExp("^(https?:)?//").test(n)){let[,t]=n.split(/\/\/[^\/]+/);return t}return n}var Xt=function(n){return n[n.Format=0]="Format",n[n.Standalone=1]="Standalone",n}(Xt||{}),Ve=function(n){return n[n.Narrow=0]="Narrow",n[n.Abbreviated=1]="Abbreviated",n[n.Wide=2]="Wide",n[n.Short=3]="Short",n}(Ve||{}),mn=function(n){return n[n.Short=0]="Short",n[n.Medium=1]="Medium",n[n.Long=2]="Long",n[n.Full=3]="Full",n}(mn||{}),Ei={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function oL(n){return Sn(n)[rt.LocaleId]}function sL(n,e,t){let r=Sn(n),i=[r[rt.DayPeriodsFormat],r[rt.DayPeriodsStandalone]],o=Tn(i,e);return Tn(o,t)}function aL(n,e,t){let r=Sn(n),i=[r[rt.DaysFormat],r[rt.DaysStandalone]],o=Tn(i,e);return Tn(o,t)}function uL(n,e,t){let r=Sn(n),i=[r[rt.MonthsFormat],r[rt.MonthsStandalone]],o=Tn(i,e);return Tn(o,t)}function lL(n,e){let r=Sn(n)[rt.Eras];return Tn(r,e)}function Dh(n,e){let t=Sn(n);return Tn(t[rt.DateFormat],e)}function bh(n,e){let t=Sn(n);return Tn(t[rt.TimeFormat],e)}function Sh(n,e){let r=Sn(n)[rt.DateTimeFormat];return Tn(r,e)}function kh(n,e){let t=Sn(n),r=t[rt.NumberSymbols][e];if(typeof r>"u"){if(e===Ei.CurrencyDecimal)return t[rt.NumberSymbols][Ei.Decimal];if(e===Ei.CurrencyGroup)return t[rt.NumberSymbols][Ei.Group]}return r}function TS(n){if(!n[rt.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[rt.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function cL(n){let e=Sn(n);return TS(e),(e[rt.ExtraData][2]||[]).map(r=>typeof r=="string"?Ky(r):[Ky(r[0]),Ky(r[1])])}function dL(n,e,t){let r=Sn(n);TS(r);let i=[r[rt.ExtraData][0],r[rt.ExtraData][1]],o=Tn(i,e)||[];return Tn(o,t)||[]}function Tn(n,e){for(let t=e;t>-1;t--)if(typeof n[t]<"u")return n[t];throw new Error("Locale data API: locale data undefined")}function Ky(n){let[e,t]=n.split(":");return{hours:+e,minutes:+t}}var hL=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Th={},fL=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/,$r=function(n){return n[n.Short=0]="Short",n[n.ShortGMT=1]="ShortGMT",n[n.Long=2]="Long",n[n.Extended=3]="Extended",n}($r||{}),Re=function(n){return n[n.FullYear=0]="FullYear",n[n.Month=1]="Month",n[n.Date=2]="Date",n[n.Hours=3]="Hours",n[n.Minutes=4]="Minutes",n[n.Seconds=5]="Seconds",n[n.FractionalSeconds=6]="FractionalSeconds",n[n.Day=7]="Day",n}(Re||{}),Me=function(n){return n[n.DayPeriods=0]="DayPeriods",n[n.Days=1]="Days",n[n.Months=2]="Months",n[n.Eras=3]="Eras",n}(Me||{});function pL(n,e,t,r){let i=CL(n);e=Ur(t,e)||e;let s=[],a;for(;e;)if(a=fL.exec(e),a){s=s.concat(a.slice(1));let h=s.pop();if(!h)break;e=h}else{s.push(e);break}let u=i.getTimezoneOffset();r&&(u=xS(r,u),i=IL(i,r,!0));let c="";return s.forEach(h=>{let f=wL(h);c+=f?f(i,t,u):h==="''"?"'":h.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),c}function Ph(n,e,t){let r=new Date(0);return r.setFullYear(n,e,t),r.setHours(0,0,0),r}function Ur(n,e){let t=oL(n);if(Th[t]??={},Th[t][e])return Th[t][e];let r="";switch(e){case"shortDate":r=Dh(n,mn.Short);break;case"mediumDate":r=Dh(n,mn.Medium);break;case"longDate":r=Dh(n,mn.Long);break;case"fullDate":r=Dh(n,mn.Full);break;case"shortTime":r=bh(n,mn.Short);break;case"mediumTime":r=bh(n,mn.Medium);break;case"longTime":r=bh(n,mn.Long);break;case"fullTime":r=bh(n,mn.Full);break;case"short":let i=Ur(n,"shortTime"),o=Ur(n,"shortDate");r=Ah(Sh(n,mn.Short),[i,o]);break;case"medium":let s=Ur(n,"mediumTime"),a=Ur(n,"mediumDate");r=Ah(Sh(n,mn.Medium),[s,a]);break;case"long":let u=Ur(n,"longTime"),c=Ur(n,"longDate");r=Ah(Sh(n,mn.Long),[u,c]);break;case"full":let h=Ur(n,"fullTime"),f=Ur(n,"fullDate");r=Ah(Sh(n,mn.Full),[h,f]);break}return r&&(Th[t][e]=r),r}function Ah(n,e){return e&&(n=n.replace(/\{([^}]+)}/g,function(t,r){return e!=null&&r in e?e[r]:t})),n}function zn(n,e,t="-",r,i){let o="";(n<0||i&&n<=0)&&(i?n=-n+1:(n=-n,o=t));let s=String(n);for(;s.length<e;)s="0"+s;return r&&(s=s.slice(s.length-e)),o+s}function gL(n,e){return zn(n,3).substring(0,e)}function dt(n,e,t=0,r=!1,i=!1){return function(o,s){let a=mL(n,o);if((t>0||a>-t)&&(a+=t),n===Re.Hours)a===0&&t===-12&&(a=12);else if(n===Re.FractionalSeconds)return gL(a,e);let u=kh(s,Ei.MinusSign);return zn(a,e,u,r,i)}}function mL(n,e){switch(n){case Re.FullYear:return e.getFullYear();case Re.Month:return e.getMonth();case Re.Date:return e.getDate();case Re.Hours:return e.getHours();case Re.Minutes:return e.getMinutes();case Re.Seconds:return e.getSeconds();case Re.FractionalSeconds:return e.getMilliseconds();case Re.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}function je(n,e,t=Xt.Format,r=!1){return function(i,o){return yL(i,o,n,e,t,r)}}function yL(n,e,t,r,i,o){switch(t){case Me.Months:return uL(e,i,r)[n.getMonth()];case Me.Days:return aL(e,i,r)[n.getDay()];case Me.DayPeriods:let s=n.getHours(),a=n.getMinutes();if(o){let c=cL(e),h=dL(e,i,r),f=c.findIndex(m=>{if(Array.isArray(m)){let[y,S]=m,D=s>=y.hours&&a>=y.minutes,T=s<S.hours||s===S.hours&&a<S.minutes;if(y.hours<S.hours){if(D&&T)return!0}else if(D||T)return!0}else if(m.hours===s&&m.minutes===a)return!0;return!1});if(f!==-1)return h[f]}return sL(e,i,r)[s<12?0:1];case Me.Eras:return lL(e,r)[n.getFullYear()<=0?0:1];default:let u=t;throw new Error(`unexpected translation type ${u}`)}}function xh(n){return function(e,t,r){let i=-1*r,o=kh(t,Ei.MinusSign),s=i>0?Math.floor(i/60):Math.ceil(i/60);switch(n){case $r.Short:return(i>=0?"+":"")+zn(s,2,o)+zn(Math.abs(i%60),2,o);case $r.ShortGMT:return"GMT"+(i>=0?"+":"")+zn(s,1,o);case $r.Long:return"GMT"+(i>=0?"+":"")+zn(s,2,o)+":"+zn(Math.abs(i%60),2,o);case $r.Extended:return r===0?"Z":(i>=0?"+":"")+zn(s,2,o)+":"+zn(Math.abs(i%60),2,o);default:throw new Error(`Unknown zone width "${n}"`)}}}var vL=0,Rh=4;function _L(n){let e=Ph(n,vL,1).getDay();return Ph(n,0,1+(e<=Rh?Rh:Rh+7)-e)}function AS(n){let e=n.getDay(),t=e===0?-3:Rh-e;return Ph(n.getFullYear(),n.getMonth(),n.getDate()+t)}function Qy(n,e=!1){return function(t,r){let i;if(e){let o=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,s=t.getDate();i=1+Math.floor((s+o)/7)}else{let o=AS(t),s=_L(o.getFullYear()),a=o.getTime()-s.getTime();i=1+Math.round(a/6048e5)}return zn(i,n,kh(r,Ei.MinusSign))}}function Mh(n,e=!1){return function(t,r){let o=AS(t).getFullYear();return zn(o,n,kh(r,Ei.MinusSign),e)}}var Yy={};function wL(n){if(Yy[n])return Yy[n];let e;switch(n){case"G":case"GG":case"GGG":e=je(Me.Eras,Ve.Abbreviated);break;case"GGGG":e=je(Me.Eras,Ve.Wide);break;case"GGGGG":e=je(Me.Eras,Ve.Narrow);break;case"y":e=dt(Re.FullYear,1,0,!1,!0);break;case"yy":e=dt(Re.FullYear,2,0,!0,!0);break;case"yyy":e=dt(Re.FullYear,3,0,!1,!0);break;case"yyyy":e=dt(Re.FullYear,4,0,!1,!0);break;case"Y":e=Mh(1);break;case"YY":e=Mh(2,!0);break;case"YYY":e=Mh(3);break;case"YYYY":e=Mh(4);break;case"M":case"L":e=dt(Re.Month,1,1);break;case"MM":case"LL":e=dt(Re.Month,2,1);break;case"MMM":e=je(Me.Months,Ve.Abbreviated);break;case"MMMM":e=je(Me.Months,Ve.Wide);break;case"MMMMM":e=je(Me.Months,Ve.Narrow);break;case"LLL":e=je(Me.Months,Ve.Abbreviated,Xt.Standalone);break;case"LLLL":e=je(Me.Months,Ve.Wide,Xt.Standalone);break;case"LLLLL":e=je(Me.Months,Ve.Narrow,Xt.Standalone);break;case"w":e=Qy(1);break;case"ww":e=Qy(2);break;case"W":e=Qy(1,!0);break;case"d":e=dt(Re.Date,1);break;case"dd":e=dt(Re.Date,2);break;case"c":case"cc":e=dt(Re.Day,1);break;case"ccc":e=je(Me.Days,Ve.Abbreviated,Xt.Standalone);break;case"cccc":e=je(Me.Days,Ve.Wide,Xt.Standalone);break;case"ccccc":e=je(Me.Days,Ve.Narrow,Xt.Standalone);break;case"cccccc":e=je(Me.Days,Ve.Short,Xt.Standalone);break;case"E":case"EE":case"EEE":e=je(Me.Days,Ve.Abbreviated);break;case"EEEE":e=je(Me.Days,Ve.Wide);break;case"EEEEE":e=je(Me.Days,Ve.Narrow);break;case"EEEEEE":e=je(Me.Days,Ve.Short);break;case"a":case"aa":case"aaa":e=je(Me.DayPeriods,Ve.Abbreviated);break;case"aaaa":e=je(Me.DayPeriods,Ve.Wide);break;case"aaaaa":e=je(Me.DayPeriods,Ve.Narrow);break;case"b":case"bb":case"bbb":e=je(Me.DayPeriods,Ve.Abbreviated,Xt.Standalone,!0);break;case"bbbb":e=je(Me.DayPeriods,Ve.Wide,Xt.Standalone,!0);break;case"bbbbb":e=je(Me.DayPeriods,Ve.Narrow,Xt.Standalone,!0);break;case"B":case"BB":case"BBB":e=je(Me.DayPeriods,Ve.Abbreviated,Xt.Format,!0);break;case"BBBB":e=je(Me.DayPeriods,Ve.Wide,Xt.Format,!0);break;case"BBBBB":e=je(Me.DayPeriods,Ve.Narrow,Xt.Format,!0);break;case"h":e=dt(Re.Hours,1,-12);break;case"hh":e=dt(Re.Hours,2,-12);break;case"H":e=dt(Re.Hours,1);break;case"HH":e=dt(Re.Hours,2);break;case"m":e=dt(Re.Minutes,1);break;case"mm":e=dt(Re.Minutes,2);break;case"s":e=dt(Re.Seconds,1);break;case"ss":e=dt(Re.Seconds,2);break;case"S":e=dt(Re.FractionalSeconds,1);break;case"SS":e=dt(Re.FractionalSeconds,2);break;case"SSS":e=dt(Re.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=xh($r.Short);break;case"ZZZZZ":e=xh($r.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=xh($r.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=xh($r.Long);break;default:return null}return Yy[n]=e,e}function xS(n,e){n=n.replace(/:/g,"");let t=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(t)?e:t}function EL(n,e){return n=new Date(n.getTime()),n.setMinutes(n.getMinutes()+e),n}function IL(n,e,t){let r=t?-1:1,i=n.getTimezoneOffset(),o=xS(e,i);return EL(n,r*(o-i))}function CL(n){if(_S(n))return n;if(typeof n=="number"&&!isNaN(n))return new Date(n);if(typeof n=="string"){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){let[i,o=1,s=1]=n.split("-").map(a=>+a);return Ph(i,o-1,s)}let t=parseFloat(n);if(!isNaN(n-t))return new Date(t);let r;if(r=n.match(hL))return DL(r)}let e=new Date(n);if(!_S(e))throw new Error(`Unable to convert "${n}" into a date`);return e}function DL(n){let e=new Date(0),t=0,r=0,i=n[8]?e.setUTCFullYear:e.setFullYear,o=n[8]?e.setUTCHours:e.setHours;n[9]&&(t=Number(n[9]+n[10]),r=Number(n[9]+n[11])),i.call(e,Number(n[1]),Number(n[2])-1,Number(n[3]));let s=Number(n[4]||0)-t,a=Number(n[5]||0)-r,u=Number(n[6]||0),c=Math.floor(parseFloat("0."+(n[7]||0))*1e3);return o.call(e,s,a,u,c),e}function _S(n){return n instanceof Date&&!isNaN(n.valueOf())}function Fh(n,e){e=encodeURIComponent(e);for(let t of n.split(";")){let r=t.indexOf("="),[i,o]=r==-1?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var Zy=/\s+/,wS=[],Gs=(()=>{class n{constructor(t,r){this._ngEl=t,this._renderer=r,this.initialClasses=wS,this.stateMap=new Map}set klass(t){this.initialClasses=t!=null?t.trim().split(Zy):wS}set ngClass(t){this.rawClass=typeof t=="string"?t.trim().split(Zy):t}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(let r of t)this._updateState(r,!0);else if(t!=null)for(let r of Object.keys(t))this._updateState(r,!!t[r]);this._applyStateDiff()}_updateState(t,r){let i=this.stateMap.get(t);i!==void 0?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(t,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let t of this.stateMap){let r=t[0],i=t[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(t,r){t=t.trim(),t.length>0&&t.split(Zy).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static{this.\u0275fac=function(r){return new(r||n)(Z(vi),Z(Io))}}static{this.\u0275dir=_t({type:n,selectors:[["","ngClass",""]],inputs:{klass:[Tt.None,"class","klass"],ngClass:"ngClass"},standalone:!0})}}return n})();var Ii=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new Jy,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){ES("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){ES("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}static{this.\u0275fac=function(r){return new(r||n)(Z(zu),Z(Vy))}}static{this.\u0275dir=_t({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return n})(),Jy=class{constructor(){this.$implicit=null,this.ngIf=null}};function ES(n,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${n} must be a TemplateRef, but received '${Qt(e)}'.`)}function bL(n,e){return new te(2100,!1)}var SL="mediumDate",TL=new z(""),AL=new z(""),MS=(()=>{class n{constructor(t,r,i){this.locale=t,this.defaultTimezone=r,this.defaultOptions=i}transform(t,r,i,o){if(t==null||t===""||t!==t)return null;try{let s=r??this.defaultOptions?.dateFormat??SL,a=i??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return pL(t,s,o||this.locale,a)}catch(s){throw bL(n,s.message)}}static{this.\u0275fac=function(r){return new(r||n)(Z(Ch,16),Z(TL,24),Z(AL,24))}}static{this.\u0275pipe=Yd({name:"date",type:n,pure:!0,standalone:!0})}}return n})();var RS=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Ye({type:n})}static{this.\u0275inj=Qe({})}}return n})(),iv="browser",xL="server";function ML(n){return n===iv}function Ci(n){return n===xL}var NS=(()=>{class n{static{this.\u0275prov=W({token:n,providedIn:"root",factory:()=>ML(U(jt))?new Xy(U(Ut),window):new ev})}}return n})(),Xy=class{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){let t=RL(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){let t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}};function RL(n,e){let t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if(typeof n.createTreeWalker=="function"&&n.body&&typeof n.body.attachShadow=="function"){let r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let o=i.shadowRoot;if(o){let s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}i=r.nextNode()}}return null}var ev=class{setOffset(e){}getScrollPosition(){return[0,0]}scrollToPosition(e){}scrollToAnchor(e){}setHistoryScrollRestoration(e){}},qs=class{};var Yu=class{},Vh=class{},Ao=class n{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(t=>{let r=t.indexOf(":");if(r>0){let i=t.slice(0,r),o=i.toLowerCase(),s=t.slice(r+1).trim();this.maybeSetNormalizedName(i,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((t,r)=>{this.setHeaderEntries(r,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([t,r])=>{this.setHeaderEntries(t,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof n?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){let t=new n;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof n?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){let t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,t);let i=(e.op==="a"?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":let o=e.value;if(!o)this.headers.delete(t),this.normalizedNames.delete(t);else{let s=this.headers.get(t);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,s)}break}}setHeaderEntries(e,t){let r=(Array.isArray(t)?t:[t]).map(o=>o.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}};var sv=class{encodeKey(e){return PS(e)}encodeValue(e){return PS(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function kL(n,e){let t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{let o=i.indexOf("="),[s,a]=o==-1?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,o)),e.decodeValue(i.slice(o+1))],u=t.get(s)||[];u.push(a),t.set(s,u)}),t}var FL=/%(\d[a-f0-9])/gi,OL={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function PS(n){return encodeURIComponent(n).replace(FL,(e,t)=>OL[t]??e)}function Oh(n){return`${n}`}var bi=class n{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new sv,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=kL(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{let r=e.fromObject[t],i=Array.isArray(r)?r.map(Oh):[Oh(r)];this.map.set(t,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){let t=[];return Object.keys(e).forEach(r=>{let i=e[r];Array.isArray(i)?i.forEach(o=>{t.push({param:r,value:o,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let t=new n({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let t=(e.op==="a"?this.map.get(e.param):void 0)||[];t.push(Oh(e.value)),this.map.set(e.param,t);break;case"d":if(e.value!==void 0){let r=this.map.get(e.param)||[],i=r.indexOf(Oh(e.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var av=class{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function VL(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function kS(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function FS(n){return typeof Blob<"u"&&n instanceof Blob}function OS(n){return typeof FormData<"u"&&n instanceof FormData}function LL(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}var Qu=class n{constructor(e,t,r,i){this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase();let o;if(VL(this.method)||i?(this.body=r!==void 0?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new Ao,this.context??=new av,!this.params)this.params=new bi,this.urlWithParams=t;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=t;else{let a=t.indexOf("?"),u=a===-1?"?":a<t.length-1?"&":"";this.urlWithParams=t+u+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||kS(this.body)||FS(this.body)||OS(this.body)||LL(this.body)?this.body:this.body instanceof bi?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||OS(this.body)?null:FS(this.body)?this.body.type||null:kS(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof bi?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(e={}){let t=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,o=e.transferCache??this.transferCache,s=e.body!==void 0?e.body:this.body,a=e.withCredentials??this.withCredentials,u=e.reportProgress??this.reportProgress,c=e.headers||this.headers,h=e.params||this.params,f=e.context??this.context;return e.setHeaders!==void 0&&(c=Object.keys(e.setHeaders).reduce((m,y)=>m.set(y,e.setHeaders[y]),c)),e.setParams&&(h=Object.keys(e.setParams).reduce((m,y)=>m.set(y,e.setParams[y]),h)),new n(t,r,s,{params:h,headers:c,context:f,reportProgress:u,responseType:i,withCredentials:a,transferCache:o})}},Ws=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(Ws||{}),Zu=class{constructor(e,t=Uh.Ok,r="OK"){this.headers=e.headers||new Ao,this.status=e.status!==void 0?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},uv=class n extends Zu{constructor(e={}){super(e),this.type=Ws.ResponseHeader}clone(e={}){return new n({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},Lh=class n extends Zu{constructor(e={}){super(e),this.type=Ws.Response,this.body=e.body!==void 0?e.body:null}clone(e={}){return new n({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},jh=class extends Zu{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},Uh=function(n){return n[n.Continue=100]="Continue",n[n.SwitchingProtocols=101]="SwitchingProtocols",n[n.Processing=102]="Processing",n[n.EarlyHints=103]="EarlyHints",n[n.Ok=200]="Ok",n[n.Created=201]="Created",n[n.Accepted=202]="Accepted",n[n.NonAuthoritativeInformation=203]="NonAuthoritativeInformation",n[n.NoContent=204]="NoContent",n[n.ResetContent=205]="ResetContent",n[n.PartialContent=206]="PartialContent",n[n.MultiStatus=207]="MultiStatus",n[n.AlreadyReported=208]="AlreadyReported",n[n.ImUsed=226]="ImUsed",n[n.MultipleChoices=300]="MultipleChoices",n[n.MovedPermanently=301]="MovedPermanently",n[n.Found=302]="Found",n[n.SeeOther=303]="SeeOther",n[n.NotModified=304]="NotModified",n[n.UseProxy=305]="UseProxy",n[n.Unused=306]="Unused",n[n.TemporaryRedirect=307]="TemporaryRedirect",n[n.PermanentRedirect=308]="PermanentRedirect",n[n.BadRequest=400]="BadRequest",n[n.Unauthorized=401]="Unauthorized",n[n.PaymentRequired=402]="PaymentRequired",n[n.Forbidden=403]="Forbidden",n[n.NotFound=404]="NotFound",n[n.MethodNotAllowed=405]="MethodNotAllowed",n[n.NotAcceptable=406]="NotAcceptable",n[n.ProxyAuthenticationRequired=407]="ProxyAuthenticationRequired",n[n.RequestTimeout=408]="RequestTimeout",n[n.Conflict=409]="Conflict",n[n.Gone=410]="Gone",n[n.LengthRequired=411]="LengthRequired",n[n.PreconditionFailed=412]="PreconditionFailed",n[n.PayloadTooLarge=413]="PayloadTooLarge",n[n.UriTooLong=414]="UriTooLong",n[n.UnsupportedMediaType=415]="UnsupportedMediaType",n[n.RangeNotSatisfiable=416]="RangeNotSatisfiable",n[n.ExpectationFailed=417]="ExpectationFailed",n[n.ImATeapot=418]="ImATeapot",n[n.MisdirectedRequest=421]="MisdirectedRequest",n[n.UnprocessableEntity=422]="UnprocessableEntity",n[n.Locked=423]="Locked",n[n.FailedDependency=424]="FailedDependency",n[n.TooEarly=425]="TooEarly",n[n.UpgradeRequired=426]="UpgradeRequired",n[n.PreconditionRequired=428]="PreconditionRequired",n[n.TooManyRequests=429]="TooManyRequests",n[n.RequestHeaderFieldsTooLarge=431]="RequestHeaderFieldsTooLarge",n[n.UnavailableForLegalReasons=451]="UnavailableForLegalReasons",n[n.InternalServerError=500]="InternalServerError",n[n.NotImplemented=501]="NotImplemented",n[n.BadGateway=502]="BadGateway",n[n.ServiceUnavailable=503]="ServiceUnavailable",n[n.GatewayTimeout=504]="GatewayTimeout",n[n.HttpVersionNotSupported=505]="HttpVersionNotSupported",n[n.VariantAlsoNegotiates=506]="VariantAlsoNegotiates",n[n.InsufficientStorage=507]="InsufficientStorage",n[n.LoopDetected=508]="LoopDetected",n[n.NotExtended=510]="NotExtended",n[n.NetworkAuthenticationRequired=511]="NetworkAuthenticationRequired",n}(Uh||{});function ov(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials,transferCache:n.transferCache}}var jL=(()=>{class n{constructor(t){this.handler=t}request(t,r,i={}){let o;if(t instanceof Qu)o=t;else{let u;i.headers instanceof Ao?u=i.headers:u=new Ao(i.headers);let c;i.params&&(i.params instanceof bi?c=i.params:c=new bi({fromObject:i.params})),o=new Qu(t,r,i.body!==void 0?i.body:null,{headers:u,context:i.context,params:c,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache})}let s=re(o).pipe(Mr(u=>this.handler.handle(u)));if(t instanceof Qu||i.observe==="events")return s;let a=s.pipe(mt(u=>u instanceof Lh));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(ee(u=>{if(u.body!==null&&!(u.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return u.body}));case"blob":return a.pipe(ee(u=>{if(u.body!==null&&!(u.body instanceof Blob))throw new Error("Response is not a Blob.");return u.body}));case"text":return a.pipe(ee(u=>{if(u.body!==null&&typeof u.body!="string")throw new Error("Response is not a string.");return u.body}));case"json":default:return a.pipe(ee(u=>u.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:new bi().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,ov(i,r))}post(t,r,i={}){return this.request("POST",t,ov(i,r))}put(t,r,i={}){return this.request("PUT",t,ov(i,r))}static{this.\u0275fac=function(r){return new(r||n)(j(Yu))}}static{this.\u0275prov=W({token:n,factory:n.\u0275fac})}}return n})();function US(n,e){return e(n)}function UL(n,e){return(t,r)=>e.intercept(t,{handle:i=>n(i,r)})}function BL(n,e,t){return(r,i)=>jn(t,()=>e(r,o=>n(o,i)))}var $L=new z(""),lv=new z(""),HL=new z(""),qL=new z("");function zL(){let n=null;return(e,t)=>{n===null&&(n=(U($L,{optional:!0})??[]).reduceRight(UL,US));let r=U(Co),i=r.add();return n(e,t).pipe(li(()=>r.remove(i)))}}var VS=(()=>{class n extends Yu{constructor(t,r){super(),this.backend=t,this.injector=r,this.chain=null,this.pendingTasks=U(Co);let i=U(qL,{optional:!0});this.backend=i??t}handle(t){if(this.chain===null){let i=Array.from(new Set([...this.injector.get(lv),...this.injector.get(HL,[])]));this.chain=i.reduceRight((o,s)=>BL(o,s,this.injector),US)}let r=this.pendingTasks.add();return this.chain(t,i=>this.backend.handle(i)).pipe(li(()=>this.pendingTasks.remove(r)))}static{this.\u0275fac=function(r){return new(r||n)(j(Vh),j(Vt))}}static{this.\u0275prov=W({token:n,factory:n.\u0275fac})}}return n})();var GL=/^\)\]\}',?\n/;function WL(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}var LS=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if(t.method==="JSONP")throw new te(-2800,!1);let r=this.xhrFactory;return(r.\u0275loadImpl?Ie(r.\u0275loadImpl()):re(null)).pipe(Ge(()=>new me(o=>{let s=r.build();if(s.open(t.method,t.urlWithParams),t.withCredentials&&(s.withCredentials=!0),t.headers.forEach((D,T)=>s.setRequestHeader(D,T.join(","))),t.headers.has("Accept")||s.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){let D=t.detectContentTypeHeader();D!==null&&s.setRequestHeader("Content-Type",D)}if(t.responseType){let D=t.responseType.toLowerCase();s.responseType=D!=="json"?D:"text"}let a=t.serializeBody(),u=null,c=()=>{if(u!==null)return u;let D=s.statusText||"OK",T=new Ao(s.getAllResponseHeaders()),L=WL(s)||t.url;return u=new uv({headers:T,status:s.status,statusText:D,url:L}),u},h=()=>{let{headers:D,status:T,statusText:L,url:K}=c(),F=null;T!==Uh.NoContent&&(F=typeof s.response>"u"?s.responseText:s.response),T===0&&(T=F?Uh.Ok:0);let J=T>=200&&T<300;if(t.responseType==="json"&&typeof F=="string"){let oe=F;F=F.replace(GL,"");try{F=F!==""?JSON.parse(F):null}catch(ne){F=oe,J&&(J=!1,F={error:ne,text:F})}}J?(o.next(new Lh({body:F,headers:D,status:T,statusText:L,url:K||void 0})),o.complete()):o.error(new jh({error:F,headers:D,status:T,statusText:L,url:K||void 0}))},f=D=>{let{url:T}=c(),L=new jh({error:D,status:s.status||0,statusText:s.statusText||"Unknown Error",url:T||void 0});o.error(L)},m=!1,y=D=>{m||(o.next(c()),m=!0);let T={type:Ws.DownloadProgress,loaded:D.loaded};D.lengthComputable&&(T.total=D.total),t.responseType==="text"&&s.responseText&&(T.partialText=s.responseText),o.next(T)},S=D=>{let T={type:Ws.UploadProgress,loaded:D.loaded};D.lengthComputable&&(T.total=D.total),o.next(T)};return s.addEventListener("load",h),s.addEventListener("error",f),s.addEventListener("timeout",f),s.addEventListener("abort",f),t.reportProgress&&(s.addEventListener("progress",y),a!==null&&s.upload&&s.upload.addEventListener("progress",S)),s.send(a),o.next({type:Ws.Sent}),()=>{s.removeEventListener("error",f),s.removeEventListener("abort",f),s.removeEventListener("load",h),s.removeEventListener("timeout",f),t.reportProgress&&(s.removeEventListener("progress",y),a!==null&&s.upload&&s.upload.removeEventListener("progress",S)),s.readyState!==s.DONE&&s.abort()}})))}static{this.\u0275fac=function(r){return new(r||n)(j(qs))}}static{this.\u0275prov=W({token:n,factory:n.\u0275fac})}}return n})(),BS=new z(""),KL="XSRF-TOKEN",QL=new z("",{providedIn:"root",factory:()=>KL}),YL="X-XSRF-TOKEN",ZL=new z("",{providedIn:"root",factory:()=>YL}),Bh=class{},JL=(()=>{class n{constructor(t,r,i){this.doc=t,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=Fh(t,this.cookieName),this.lastCookieString=t),this.lastToken}static{this.\u0275fac=function(r){return new(r||n)(j(Ut),j(jt),j(QL))}}static{this.\u0275prov=W({token:n,factory:n.\u0275fac})}}return n})();function XL(n,e){let t=n.url.toLowerCase();if(!U(BS)||n.method==="GET"||n.method==="HEAD"||t.startsWith("http://")||t.startsWith("https://"))return e(n);let r=U(Bh).getToken(),i=U(ZL);return r!=null&&!n.headers.has(i)&&(n=n.clone({headers:n.headers.set(i,r)})),e(n)}var $S=function(n){return n[n.Interceptors=0]="Interceptors",n[n.LegacyInterceptors=1]="LegacyInterceptors",n[n.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",n[n.NoXsrfProtection=3]="NoXsrfProtection",n[n.JsonpSupport=4]="JsonpSupport",n[n.RequestsMadeViaParent=5]="RequestsMadeViaParent",n[n.Fetch=6]="Fetch",n}($S||{});function e2(n,e){return{\u0275kind:n,\u0275providers:e}}function t2(...n){let e=[jL,LS,VS,{provide:Yu,useExisting:VS},{provide:Vh,useExisting:LS},{provide:lv,useValue:XL,multi:!0},{provide:BS,useValue:!0},{provide:Bh,useClass:JL}];for(let t of n)e.push(...t.\u0275providers);return Zd(e)}var jS=new z("");function n2(){return e2($S.LegacyInterceptors,[{provide:jS,useFactory:zL},{provide:lv,useExisting:jS,multi:!0}])}var HS=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Ye({type:n})}static{this.\u0275inj=Qe({providers:[t2(n2())]})}}return n})();var hv=class extends Nh{constructor(){super(...arguments),this.supportsDOMEvents=!0}},fv=class n extends hv{static makeCurrent(){CS(new n)}onAndCancel(e,t,r){return e.addEventListener(t,r),()=>{e.removeEventListener(t,r)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=r2();return t==null?null:i2(t)}resetBaseElement(){Ju=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Fh(document.cookie,e)}},Ju=null;function r2(){return Ju=Ju||document.querySelector("base"),Ju?Ju.getAttribute("href"):null}function i2(n){return new URL(n,document.baseURI).pathname}var pv=class{addToWindow(e){St.getAngularTestability=(r,i=!0)=>{let o=e.findTestabilityInTree(r,i);if(o==null)throw new te(5103,!1);return o},St.getAllAngularTestabilities=()=>e.getAllTestabilities(),St.getAllAngularRootElements=()=>e.getAllRootElements();let t=r=>{let i=St.getAllAngularTestabilities(),o=i.length,s=function(){o--,o==0&&r()};i.forEach(a=>{a.whenStable(s)})};St.frameworkStabilizers||(St.frameworkStabilizers=[]),St.frameworkStabilizers.push(t)}findTestabilityInTree(e,t,r){if(t==null)return null;let i=e.getTestability(t);return i??(r?dr().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},o2=(()=>{class n{build(){return new XMLHttpRequest}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=W({token:n,factory:n.\u0275fac})}}return n})(),gv=new z(""),WS=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(o=>o.supports(t)),!r)throw new te(5101,!1);return this._eventNameToPlugin.set(t,r),r}static{this.\u0275fac=function(r){return new(r||n)(j(gv),j(Ce))}}static{this.\u0275prov=W({token:n,factory:n.\u0275fac})}}return n})(),$h=class{constructor(e){this._doc=e}},cv="ng-app-id",KS=(()=>{class n{constructor(t,r,i,o={}){this.doc=t,this.appId=r,this.nonce=i,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Ci(o),this.resetHostNodes()}addStyles(t){for(let r of t)this.changeUsageCount(r,1)===1&&this.onStyleAdded(r)}removeStyles(t){for(let r of t)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){let t=this.styleNodesInDOM;t&&(t.forEach(r=>r.remove()),t.clear());for(let r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(let r of this.getAllStyles())this.addStyleToHost(t,r)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(let r of this.hostNodes)this.addStyleToHost(r,t)}onStyleRemoved(t){let r=this.styleRef;r.get(t)?.elements?.forEach(i=>i.remove()),r.delete(t)}collectServerRenderedStyles(){let t=this.doc.head?.querySelectorAll(`style[${cv}="${this.appId}"]`);if(t?.length){let r=new Map;return t.forEach(i=>{i.textContent!=null&&r.set(i.textContent,i)}),r}return null}changeUsageCount(t,r){let i=this.styleRef;if(i.has(t)){let o=i.get(t);return o.usage+=r,o.usage}return i.set(t,{usage:r,elements:[]}),r}getStyleElement(t,r){let i=this.styleNodesInDOM,o=i?.get(r);if(o?.parentNode===t)return i.delete(r),o.removeAttribute(cv),o;{let s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=r,this.platformIsServer&&s.setAttribute(cv,this.appId),t.appendChild(s),s}}addStyleToHost(t,r){let i=this.getStyleElement(t,r),o=this.styleRef,s=o.get(r)?.elements;s?s.push(i):o.set(r,{elements:[i],usage:1})}resetHostNodes(){let t=this.hostNodes;t.clear(),t.add(this.doc.head)}static{this.\u0275fac=function(r){return new(r||n)(j(Ut),j(rh),j(Sy,8),j(jt))}}static{this.\u0275prov=W({token:n,factory:n.\u0275fac})}}return n})(),dv={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},yv=/%COMP%/g,QS="%COMP%",s2=`_nghost-${QS}`,a2=`_ngcontent-${QS}`,u2=!0,l2=new z("",{providedIn:"root",factory:()=>u2});function c2(n){return a2.replace(yv,n)}function d2(n){return s2.replace(yv,n)}function YS(n,e){return e.map(t=>t.replace(yv,n))}var qS=(()=>{class n{constructor(t,r,i,o,s,a,u,c=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=u,this.nonce=c,this.rendererByCompId=new Map,this.platformIsServer=Ci(a),this.defaultRenderer=new Xu(t,s,u,this.platformIsServer)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===ir.ShadowDom&&(r=Ne(G({},r),{encapsulation:ir.Emulated}));let i=this.getOrCreateRenderer(t,r);return i instanceof Hh?i.applyToHost(t):i instanceof el&&i.applyStyles(),i}getOrCreateRenderer(t,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,u=this.eventManager,c=this.sharedStylesHost,h=this.removeStylesOnCompDestroy,f=this.platformIsServer;switch(r.encapsulation){case ir.Emulated:o=new Hh(u,c,r,this.appId,h,s,a,f);break;case ir.ShadowDom:return new mv(u,c,t,r,s,a,this.nonce,f);default:o=new el(u,c,r,h,s,a,f);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(r){return new(r||n)(j(WS),j(KS),j(rh),j(l2),j(Ut),j(jt),j(Ce),j(Sy))}}static{this.\u0275prov=W({token:n,factory:n.\u0275fac})}}return n})(),Xu=class{constructor(e,t,r,i){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,t){return t?this.doc.createElementNS(dv[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(zS(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(zS(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new te(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;let o=dv[i];o?e.setAttributeNS(o,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){let i=dv[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(Nr.DashCase|Nr.Important)?e.style.setProperty(t,r,i&Nr.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&Nr.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e!=null&&(e[t]=r)}setValue(e,t){e.nodeValue=t}listen(e,t,r){if(typeof e=="string"&&(e=dr().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${t}`);return this.eventManager.addEventListener(e,t,this.decoratePreventDefault(r))}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))===!1&&t.preventDefault()}}};function zS(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var mv=class extends Xu{constructor(e,t,r,i,o,s,a,u){super(e,o,s,u),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let c=YS(i.id,i.styles);for(let h of c){let f=document.createElement("style");a&&f.setAttribute("nonce",a),f.textContent=h,this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},el=class extends Xu{constructor(e,t,r,i,o,s,a,u){super(e,o,s,a),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i,this.styles=u?YS(u,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},Hh=class extends el{constructor(e,t,r,i,o,s,a,u){let c=i+"-"+r.id;super(e,t,r,o,s,a,u,c),this.contentAttr=c2(c),this.hostAttr=d2(c)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}},h2=(()=>{class n extends $h{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}static{this.\u0275fac=function(r){return new(r||n)(j(Ut))}}static{this.\u0275prov=W({token:n,factory:n.\u0275fac})}}return n})(),GS=["alt","control","meta","shift"],f2={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},p2={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},g2=(()=>{class n extends $h{constructor(t){super(t)}supports(t){return n.parseEventName(t)!=null}addEventListener(t,r,i){let o=n.parseEventName(r),s=n.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>dr().onAndCancel(t,o.domEventName,s))}static parseEventName(t){let r=t.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=n._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),GS.forEach(c=>{let h=r.indexOf(c);h>-1&&(r.splice(h,1),s+=c+".")}),s+=o,r.length!=0||o.length===0)return null;let u={};return u.domEventName=i,u.fullKey=s,u}static matchEventFullKeyCode(t,r){let i=f2[t.key]||t.key,o="";return r.indexOf("code.")>-1&&(i=t.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),GS.forEach(s=>{if(s!==i){let a=p2[s];a(t)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(t,r,i){return o=>{n.matchEventFullKeyCode(o,t)&&i.runGuarded(()=>r(o))}}static _normalizeKey(t){return t==="esc"?"escape":t}static{this.\u0275fac=function(r){return new(r||n)(j(Ut))}}static{this.\u0275prov=W({token:n,factory:n.\u0275fac})}}return n})();function m2(){fv.makeCurrent()}function y2(){return new ar}function v2(){return pb(document),document}var _2=[{provide:jt,useValue:iv},{provide:by,useValue:m2,multi:!0},{provide:Ut,useFactory:v2,deps:[]}],ZS=Gy(pS,"browser",_2),w2=new z(""),E2=[{provide:Wu,useClass:pv,deps:[]},{provide:qy,useClass:vh,deps:[Ce,_h,Wu]},{provide:vh,useClass:vh,deps:[Ce,_h,Wu]}],I2=[{provide:Jd,useValue:"root"},{provide:ar,useFactory:y2,deps:[]},{provide:gv,useClass:h2,multi:!0,deps:[Ut,Ce,jt]},{provide:gv,useClass:g2,multi:!0,deps:[Ut]},qS,KS,WS,{provide:Vu,useExisting:qS},{provide:qs,useClass:o2,deps:[]},[]],JS=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:rh,useValue:t.appId}]}}static{this.\u0275fac=function(r){return new(r||n)(j(w2,12))}}static{this.\u0275mod=Ye({type:n})}static{this.\u0275inj=Qe({providers:[...I2,...E2],imports:[RS,gS]})}}return n})();var XS=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static{this.\u0275fac=function(r){return new(r||n)(j(Ut))}}static{this.\u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var lT=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static{this.\u0275fac=function(r){return new(r||n)(Z(Io),Z(vi))}}static{this.\u0275dir=_t({type:n})}}return n})(),Iv=(()=>{class n extends lT{static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=yi(n)))(i||n)}})()}static{this.\u0275dir=_t({type:n,features:[bn]})}}return n})(),il=new z(""),C2={provide:il,useExisting:ur(()=>ol),multi:!0},ol=(()=>{class n extends Iv{writeValue(t){this.setProperty("checked",t)}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=yi(n)))(i||n)}})()}static{this.\u0275dir=_t({type:n,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(r,i){r&1&&ce("change",function(s){return i.onChange(s.target.checked)})("blur",function(){return i.onTouched()})},features:[_i([C2]),bn]})}}return n})(),D2={provide:il,useExisting:ur(()=>Ti),multi:!0};function b2(){let n=dr()?dr().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var S2=new z(""),Ti=(()=>{class n extends lT{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!b2())}writeValue(t){let r=t??"";this.setProperty("value",r)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static{this.\u0275fac=function(r){return new(r||n)(Z(Io),Z(vi),Z(S2,8))}}static{this.\u0275dir=_t({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&ce("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},features:[_i([D2]),bn]})}}return n})();function Si(n){return n==null||(typeof n=="string"||Array.isArray(n))&&n.length===0}function cT(n){return n!=null&&typeof n.length=="number"}var Jh=new z(""),Cv=new z(""),T2=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,Hr=class{static min(e){return A2(e)}static max(e){return x2(e)}static required(e){return dT(e)}static requiredTrue(e){return M2(e)}static email(e){return R2(e)}static minLength(e){return N2(e)}static maxLength(e){return P2(e)}static pattern(e){return k2(e)}static nullValidator(e){return zh(e)}static compose(e){return yT(e)}static composeAsync(e){return _T(e)}};function A2(n){return e=>{if(Si(e.value)||Si(n))return null;let t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}function x2(n){return e=>{if(Si(e.value)||Si(n))return null;let t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}function dT(n){return Si(n.value)?{required:!0}:null}function M2(n){return n.value===!0?null:{required:!0}}function R2(n){return Si(n.value)||T2.test(n.value)?null:{email:!0}}function N2(n){return e=>Si(e.value)||!cT(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}function P2(n){return e=>cT(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}function k2(n){if(!n)return zh;let e,t;return typeof n=="string"?(t="",n.charAt(0)!=="^"&&(t+="^"),t+=n,n.charAt(n.length-1)!=="$"&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(Si(r.value))return null;let i=r.value;return e.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}function zh(n){return null}function hT(n){return n!=null}function fT(n){return Do(n)?Ie(n):n}function pT(n){let e={};return n.forEach(t=>{e=t!=null?G(G({},e),t):e}),Object.keys(e).length===0?null:e}function gT(n,e){return e.map(t=>t(n))}function F2(n){return!n.validate}function mT(n){return n.map(e=>F2(e)?e:t=>e.validate(t))}function yT(n){if(!n)return null;let e=n.filter(hT);return e.length==0?null:function(t){return pT(gT(t,e))}}function vT(n){return n!=null?yT(mT(n)):null}function _T(n){if(!n)return null;let e=n.filter(hT);return e.length==0?null:function(t){let r=gT(t,e).map(fT);return Kg(r).pipe(ee(pT))}}function wT(n){return n!=null?_T(mT(n)):null}function tT(n,e){return n===null?[e]:Array.isArray(n)?[...n,e]:[n,e]}function ET(n){return n._rawValidators}function IT(n){return n._rawAsyncValidators}function vv(n){return n?Array.isArray(n)?n:[n]:[]}function Gh(n,e){return Array.isArray(n)?n.includes(e):n===e}function nT(n,e){let t=vv(e);return vv(n).forEach(i=>{Gh(t,i)||t.push(i)}),t}function rT(n,e){return vv(e).filter(t=>!Gh(n,t))}var Wh=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=vT(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=wT(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return this.control?this.control.hasError(e,t):!1}getError(e,t){return this.control?this.control.getError(e,t):null}},xo=class extends Wh{get formDirective(){return null}get path(){return null}},Mo=class extends Wh{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},Kh=class{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}},O2={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},_W=Ne(G({},O2),{"[class.ng-submitted]":"isSubmitted"}),hr=(()=>{class n extends Kh{constructor(t){super(t)}static{this.\u0275fac=function(r){return new(r||n)(Z(Mo,2))}}static{this.\u0275dir=_t({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&gh("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[bn]})}}return n})(),Xh=(()=>{class n extends Kh{constructor(t){super(t)}static{this.\u0275fac=function(r){return new(r||n)(Z(xo,10))}}static{this.\u0275dir=_t({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&gh("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[bn]})}}return n})();var tl="VALID",qh="INVALID",Ks="PENDING",nl="DISABLED";function Dv(n){return(ef(n)?n.validators:n)||null}function V2(n){return Array.isArray(n)?vT(n):n||null}function bv(n,e){return(ef(e)?e.asyncValidators:n)||null}function L2(n){return Array.isArray(n)?wT(n):n||null}function ef(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function CT(n,e,t){let r=n.controls;if(!(e?Object.keys(r):r).length)throw new te(1e3,"");if(!r[t])throw new te(1001,"")}function DT(n,e,t){n._forEachChild((r,i)=>{if(t[i]===void 0)throw new te(1002,"")})}var Qs=class{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===tl}get invalid(){return this.status===qh}get pending(){return this.status==Ks}get disabled(){return this.status===nl}get enabled(){return this.status!==nl}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(nT(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(nT(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(rT(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(rT(e,this._rawAsyncValidators))}hasValidator(e){return Gh(this._rawValidators,e)}hasAsyncValidator(e){return Gh(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Ks,e.emitEvent!==!1&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=nl,this.errors=null,this._forEachChild(r=>{r.disable(Ne(G({},e),{onlySelf:!0}))}),this._updateValue(),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Ne(G({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=tl,this._forEachChild(r=>{r.enable(Ne(G({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Ne(G({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===tl||this.status===Ks)&&this._runAsyncValidator(e.emitEvent)),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?nl:tl}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Ks,this._hasOwnPendingAsyncValidator=!0;let t=fT(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(t.emitEvent!==!1)}get(e){let t=e;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){let r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new nt,this.statusChanges=new nt}_calculateStatus(){return this._allControlsDisabled()?nl:this.errors?qh:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Ks)?Ks:this._anyControlsHaveStatus(qh)?qh:tl}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){ef(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let t=this._parent&&this._parent.dirty;return!e&&!!t&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=V2(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=L2(this._rawAsyncValidators)}},Qh=class extends Qs{constructor(e,t,r){super(Dv(t),bv(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){DT(this,!0,e),Object.keys(e).forEach(r=>{CT(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>r._syncPendingControls()?!0:t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{let r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,o)=>{r=t(r,i,o)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var _v=class extends Qh{};var tf=new z("CallSetDisabledState",{providedIn:"root",factory:()=>nf}),nf="always";function bT(n,e){return[...e.path,n]}function wv(n,e,t=nf){Sv(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||t==="always")&&e.valueAccessor.setDisabledState?.(n.disabled),U2(n,e),$2(n,e),B2(n,e),j2(n,e)}function iT(n,e,t=!0){let r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),Zh(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function Yh(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function j2(n,e){if(e.valueAccessor.setDisabledState){let t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}function Sv(n,e){let t=ET(n);e.validator!==null?n.setValidators(tT(t,e.validator)):typeof t=="function"&&n.setValidators([t]);let r=IT(n);e.asyncValidator!==null?n.setAsyncValidators(tT(r,e.asyncValidator)):typeof r=="function"&&n.setAsyncValidators([r]);let i=()=>n.updateValueAndValidity();Yh(e._rawValidators,i),Yh(e._rawAsyncValidators,i)}function Zh(n,e){let t=!1;if(n!==null){if(e.validator!==null){let i=ET(n);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.validator);o.length!==i.length&&(t=!0,n.setValidators(o))}}if(e.asyncValidator!==null){let i=IT(n);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.asyncValidator);o.length!==i.length&&(t=!0,n.setAsyncValidators(o))}}}let r=()=>{};return Yh(e._rawValidators,r),Yh(e._rawAsyncValidators,r),t}function U2(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&ST(n,e)})}function B2(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&ST(n,e),n.updateOn!=="submit"&&n.markAsTouched()})}function ST(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function $2(n,e){let t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}function H2(n,e){n==null,Sv(n,e)}function q2(n,e){return Zh(n,e)}function TT(n,e){if(!n.hasOwnProperty("model"))return!1;let t=n.model;return t.isFirstChange()?!0:!Object.is(e,t.currentValue)}function z2(n){return Object.getPrototypeOf(n.constructor)===Iv}function G2(n,e){n._syncPendingControls(),e.forEach(t=>{let r=t.control;r.updateOn==="submit"&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function AT(n,e){if(!e)return null;Array.isArray(e);let t,r,i;return e.forEach(o=>{o.constructor===Ti?t=o:z2(o)?r=o:i=o}),i||r||t||null}function W2(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function oT(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function sT(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var rl=class extends Qs{constructor(e=null,t,r){super(Dv(t),bv(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),ef(t)&&(t.nonNullable||t.initialValueIsDefault)&&(sT(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){oT(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){oT(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){sT(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var K2=n=>n instanceof rl;var Q2={provide:Mo,useExisting:ur(()=>Ro)},aT=Promise.resolve(),Ro=(()=>{class n extends Mo{constructor(t,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this.control=new rl,this._registered=!1,this.name="",this.update=new nt,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=AT(this,o)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){let r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),TT(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){wv(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(t){aT.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){let r=t.isDisabled.currentValue,i=r!==0&&Ku(r);aT.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?bT(t,this._parent):[t]}static{this.\u0275fac=function(r){return new(r||n)(Z(xo,9),Z(Jh,10),Z(Cv,10),Z(il,10),Z(So,8),Z(tf,8))}}static{this.\u0275dir=_t({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[Tt.None,"disabled","isDisabled"],model:[Tt.None,"ngModel","model"],options:[Tt.None,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[_i([Q2]),bn,Or]})}}return n})(),rf=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=_t({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return n})(),Y2={provide:il,useExisting:ur(()=>Tv),multi:!0},Tv=(()=>{class n extends Iv{writeValue(t){let r=t??"";this.setProperty("value",r)}registerOnChange(t){this.onChange=r=>{t(r==""?null:parseFloat(r))}}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=yi(n)))(i||n)}})()}static{this.\u0275dir=_t({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,i){r&1&&ce("input",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},features:[_i([Y2]),bn]})}}return n})();var xT=new z("");var Z2={provide:xo,useExisting:ur(()=>sl)},sl=(()=>{class n extends xo{constructor(t,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new nt,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Zh(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){let r=this.form.get(t.path);return wv(r,t,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){iT(t.control||null,t,!1),W2(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this.submitted=!0,G2(this.form,this.directives),this.ngSubmit.emit(t),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{let r=t.control,i=this.form.get(t.path);r!==i&&(iT(r||null,t),K2(i)&&(wv(i,t,this.callSetDisabledState),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){let r=this.form.get(t.path);H2(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){let r=this.form.get(t.path);r&&q2(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Sv(this.form,this),this._oldForm&&Zh(this._oldForm,this)}_checkFormPresent(){this.form}static{this.\u0275fac=function(r){return new(r||n)(Z(Jh,10),Z(Cv,10),Z(tf,8))}}static{this.\u0275dir=_t({type:n,selectors:[["","formGroup",""]],hostBindings:function(r,i){r&1&&ce("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{form:[Tt.None,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[_i([Z2]),bn,Or]})}}return n})();var J2={provide:Mo,useExisting:ur(()=>al)},al=(()=>{class n extends Mo{set isDisabled(t){}static{this._ngModelWarningSentOnce=!1}constructor(t,r,i,o,s){super(),this._ngModelWarningConfig=s,this._added=!1,this.name=null,this.update=new nt,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=AT(this,o)}ngOnChanges(t){this._added||this._setUpControl(),TT(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return bT(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static{this.\u0275fac=function(r){return new(r||n)(Z(xo,13),Z(Jh,10),Z(Cv,10),Z(il,10),Z(xT,8))}}static{this.\u0275dir=_t({type:n,selectors:[["","formControlName",""]],inputs:{name:[Tt.None,"formControlName","name"],isDisabled:[Tt.None,"disabled","isDisabled"],model:[Tt.None,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[_i([J2]),bn,Or]})}}return n})();var X2=(()=>{class n{constructor(){this._validator=zh}ngOnChanges(t){if(this.inputName in t){let r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):zh,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return t!=null}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=_t({type:n,features:[Or]})}}return n})();var ej={provide:Jh,useExisting:ur(()=>No),multi:!0};var No=(()=>{class n extends X2{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=Ku,this.createValidator=t=>dT}enabled(t){return t}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=yi(n)))(i||n)}})()}static{this.\u0275dir=_t({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){r&2&&ph("required",i._enabled?"":null)},inputs:{required:"required"},features:[_i([ej]),bn]})}}return n})();var MT=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Ye({type:n})}static{this.\u0275inj=Qe({})}}return n})(),Ev=class extends Qs{constructor(e,t,r){super(Dv(t),bv(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),t&&(this.controls.splice(i,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){DT(this,!1,e),e.forEach((r,i)=>{CT(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,r)=>r._syncPendingControls()?!0:t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(let e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}};function uT(n){return!!n&&(n.asyncValidators!==void 0||n.validators!==void 0||n.updateOn!==void 0)}var of=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){let t=new n;return t.useNonNullable=!0,t}group(t,r=null){let i=this._reduceControls(t),o={};return uT(r)?o=r:r!==null&&(o.validators=r.validator,o.asyncValidators=r.asyncValidator),new Qh(i,o)}record(t,r=null){let i=this._reduceControls(t);return new _v(i,r)}control(t,r,i){let o={};return this.useNonNullable?(uT(r)?o=r:(o.validators=r,o.asyncValidators=i),new rl(t,Ne(G({},o),{nonNullable:!0}))):new rl(t,r,i)}array(t,r,i){let o=t.map(s=>this._createControl(s));return new Ev(o,r,i)}_reduceControls(t){let r={};return Object.keys(t).forEach(i=>{r[i]=this._createControl(t[i])}),r}_createControl(t){if(t instanceof rl)return t;if(t instanceof Qs)return t;if(Array.isArray(t)){let r=t[0],i=t.length>1?t[1]:null,o=t.length>2?t[2]:null;return this.control(r,i,o)}else return this.control(t)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var RT=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:tf,useValue:t.callSetDisabledState??nf}]}}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Ye({type:n})}static{this.\u0275inj=Qe({imports:[MT]})}}return n})(),NT=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:xT,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:tf,useValue:t.callSetDisabledState??nf}]}}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Ye({type:n})}static{this.\u0275inj=Qe({imports:[MT]})}}return n})();var de="primary",Cl=Symbol("RouteTitle"),Nv=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function ea(n){return new Nv(n)}function tj(n,e,t){let r=t.path.split("/");if(r.length>n.length||t.pathMatch==="full"&&(e.hasChildren()||r.length<n.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=n[o];if(s.startsWith(":"))i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function nj(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!fr(n[t],e[t]))return!1;return!0}function fr(n,e){let t=n?Pv(n):void 0,r=e?Pv(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let o=0;o<t.length;o++)if(i=t[o],!BT(n[i],e[i]))return!1;return!0}function Pv(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function BT(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;let t=[...n].sort(),r=[...e].sort();return t.every((i,o)=>r[o]===i)}else return n===e}function $T(n){return n.length>0?n[n.length-1]:null}function Ri(n){return Wg(n)?n:Do(n)?Ie(Promise.resolve(n)):re(n)}var rj={exact:qT,subset:zT},HT={exact:ij,subset:oj,ignored:()=>!0};function PT(n,e,t){return rj[t.paths](n.root,e.root,t.matrixParams)&&HT[t.queryParams](n.queryParams,e.queryParams)&&!(t.fragment==="exact"&&n.fragment!==e.fragment)}function ij(n,e){return fr(n,e)}function qT(n,e,t){if(!ko(n.segments,e.segments)||!uf(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!n.children[r]||!qT(n.children[r],e.children[r],t))return!1;return!0}function oj(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>BT(n[t],e[t]))}function zT(n,e,t){return GT(n,e,e.segments,t)}function GT(n,e,t,r){if(n.segments.length>t.length){let i=n.segments.slice(0,t.length);return!(!ko(i,t)||e.hasChildren()||!uf(i,t,r))}else if(n.segments.length===t.length){if(!ko(n.segments,t)||!uf(n.segments,t,r))return!1;for(let i in e.children)if(!n.children[i]||!zT(n.children[i],e.children[i],r))return!1;return!0}else{let i=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!ko(n.segments,i)||!uf(n.segments,i,r)||!n.children[de]?!1:GT(n.children[de],e,o,r)}}function uf(n,e,t){return e.every((r,i)=>HT[t](n[i].parameters,r.parameters))}var Ai=class{constructor(e=new Pe([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap??=ea(this.queryParams),this._queryParamMap}toString(){return uj.serialize(this)}},Pe=class{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return lf(this)}},Po=class{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=ea(this.parameters),this._parameterMap}toString(){return KT(this)}};function sj(n,e){return ko(n,e)&&n.every((t,r)=>fr(t.parameters,e[r].parameters))}function ko(n,e){return n.length!==e.length?!1:n.every((t,r)=>t.path===e[r].path)}function aj(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===de&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==de&&(t=t.concat(e(i,r)))}),t}var Dl=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=W({token:n,factory:()=>new gl,providedIn:"root"})}}return n})(),gl=class{parse(e){let t=new Fv(e);return new Ai(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${ll(e.root,!0)}`,r=dj(e.queryParams),i=typeof e.fragment=="string"?`#${lj(e.fragment)}`:"";return`${t}${r}${i}`}},uj=new gl;function lf(n){return n.segments.map(e=>KT(e)).join("/")}function ll(n,e){if(!n.hasChildren())return lf(n);if(e){let t=n.children[de]?ll(n.children[de],!1):"",r=[];return Object.entries(n.children).forEach(([i,o])=>{i!==de&&r.push(`${i}:${ll(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}else{let t=aj(n,(r,i)=>i===de?[ll(n.children[de],!1)]:[`${i}:${ll(r,!1)}`]);return Object.keys(n.children).length===1&&n.children[de]!=null?`${lf(n)}/${t[0]}`:`${lf(n)}/(${t.join("//")})`}}function WT(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function sf(n){return WT(n).replace(/%3B/gi,";")}function lj(n){return encodeURI(n)}function kv(n){return WT(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function cf(n){return decodeURIComponent(n)}function kT(n){return cf(n.replace(/\+/g,"%20"))}function KT(n){return`${kv(n.path)}${cj(n.parameters)}`}function cj(n){return Object.entries(n).map(([e,t])=>`;${kv(e)}=${kv(t)}`).join("")}function dj(n){let e=Object.entries(n).map(([t,r])=>Array.isArray(r)?r.map(i=>`${sf(t)}=${sf(i)}`).join("&"):`${sf(t)}=${sf(r)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}var hj=/^[^\/()?;#]+/;function Av(n){let e=n.match(hj);return e?e[0]:""}var fj=/^[^\/()?;=#]+/;function pj(n){let e=n.match(fj);return e?e[0]:""}var gj=/^[^=?&#]+/;function mj(n){let e=n.match(gj);return e?e[0]:""}var yj=/^[^&#]+/;function vj(n){let e=n.match(yj);return e?e[0]:""}var Fv=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Pe([],{}):new Pe([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[de]=new Pe(e,t)),r}parseSegment(){let e=Av(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new te(4009,!1);return this.capture(e),new Po(cf(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=pj(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let i=Av(this.remaining);i&&(r=i,this.capture(r))}e[cf(t)]=cf(r)}parseQueryParam(e){let t=mj(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let s=vj(this.remaining);s&&(r=s,this.capture(r))}let i=kT(t),o=kT(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Av(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new te(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=de);let s=this.parseChildren();t[o]=Object.keys(s).length===1?s[de]:new Pe([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new te(4011,!1)}};function QT(n){return n.segments.length>0?new Pe([],{[de]:n}):n}function YT(n){let e={};for(let[r,i]of Object.entries(n.children)){let o=YT(i);if(r===de&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let t=new Pe(n.segments,e);return _j(t)}function _j(n){if(n.numberOfChildren===1&&n.children[de]){let e=n.children[de];return new Pe(n.segments.concat(e.segments),e.children)}return n}function ta(n){return n instanceof Ai}function wj(n,e,t=null,r=null){let i=ZT(n);return JT(i,e,t,r)}function ZT(n){let e;function t(o){let s={};for(let u of o.children){let c=t(u);s[u.outlet]=c}let a=new Pe(o.url,s);return o===n&&(e=a),a}let r=t(n.root),i=QT(r);return e??i}function JT(n,e,t,r){let i=n;for(;i.parent;)i=i.parent;if(e.length===0)return xv(i,i,i,t,r);let o=Ej(e);if(o.toRoot())return xv(i,i,new Pe([],{}),t,r);let s=Ij(o,i,n),a=s.processChildren?hl(s.segmentGroup,s.index,o.commands):eA(s.segmentGroup,s.index,o.commands);return xv(i,s.segmentGroup,a,t,r)}function df(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function ml(n){return typeof n=="object"&&n!=null&&n.outlets}function xv(n,e,t,r,i){let o={};r&&Object.entries(r).forEach(([u,c])=>{o[u]=Array.isArray(c)?c.map(h=>`${h}`):`${c}`});let s;n===e?s=t:s=XT(n,e,t);let a=QT(YT(s));return new Ai(a,o,i)}function XT(n,e,t){let r={};return Object.entries(n.children).forEach(([i,o])=>{o===e?r[i]=t:r[i]=XT(o,e,t)}),new Pe(n.segments,r)}var hf=class{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&df(r[0]))throw new te(4003,!1);let i=r.find(ml);if(i&&i!==$T(r))throw new te(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function Ej(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new hf(!0,0,n);let e=0,t=!1,r=n.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([u,c])=>{a[u]=typeof c=="string"?c.split("/"):c}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,u)=>{u==0&&a==="."||(u==0&&a===""?t=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new hf(t,e,r)}var Js=class{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}};function Ij(n,e,t){if(n.isAbsolute)return new Js(e,!0,0);if(!t)return new Js(e,!1,NaN);if(t.parent===null)return new Js(t,!0,0);let r=df(n.commands[0])?0:1,i=t.segments.length-1+r;return Cj(t,i,n.numberOfDoubleDots)}function Cj(n,e,t){let r=n,i=e,o=t;for(;o>i;){if(o-=i,r=r.parent,!r)throw new te(4005,!1);i=r.segments.length}return new Js(r,!1,i-o)}function Dj(n){return ml(n[0])?n[0].outlets:{[de]:n}}function eA(n,e,t){if(n??=new Pe([],{}),n.segments.length===0&&n.hasChildren())return hl(n,e,t);let r=bj(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){let o=new Pe(n.segments.slice(0,r.pathIndex),{});return o.children[de]=new Pe(n.segments.slice(r.pathIndex),n.children),hl(o,0,i)}else return r.match&&i.length===0?new Pe(n.segments,{}):r.match&&!n.hasChildren()?Ov(n,e,t):r.match?hl(n,0,i):Ov(n,e,t)}function hl(n,e,t){if(t.length===0)return new Pe(n.segments,{});{let r=Dj(t),i={};if(Object.keys(r).some(o=>o!==de)&&n.children[de]&&n.numberOfChildren===1&&n.children[de].segments.length===0){let o=hl(n.children[de],e,t);return new Pe(n.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=eA(n.children[o],e,s))}),Object.entries(n.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new Pe(n.segments,i)}}function bj(n,e,t){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return o;let s=n.segments[i],a=t[r];if(ml(a))break;let u=`${a}`,c=r<t.length-1?t[r+1]:null;if(i>0&&u===void 0)break;if(u&&c&&typeof c=="object"&&c.outlets===void 0){if(!OT(u,c,s))return o;r+=2}else{if(!OT(u,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function Ov(n,e,t){let r=n.segments.slice(0,e),i=0;for(;i<t.length;){let o=t[i];if(ml(o)){let u=Sj(o.outlets);return new Pe(r,u)}if(i===0&&df(t[0])){let u=n.segments[e];r.push(new Po(u.path,FT(t[0]))),i++;continue}let s=ml(o)?o.outlets[de]:`${o}`,a=i<t.length-1?t[i+1]:null;s&&a&&df(a)?(r.push(new Po(s,FT(a))),i+=2):(r.push(new Po(s,{})),i++)}return new Pe(r,{})}function Sj(n){let e={};return Object.entries(n).forEach(([t,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[t]=Ov(new Pe([],{}),0,r))}),e}function FT(n){let e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function OT(n,e,t){return n==t.path&&fr(e,t.parameters)}var fl="imperative",Ct=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(Ct||{}),An=class{constructor(e,t){this.id=e,this.url=t}},na=class extends An{constructor(e,t,r="imperative",i=null){super(e,t),this.type=Ct.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},qr=class extends An{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=Ct.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},vn=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n}(vn||{}),ff=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}(ff||{}),xi=class extends An{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=Ct.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Mi=class extends An{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=Ct.NavigationSkipped}},yl=class extends An{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=Ct.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},pf=class extends An{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=Ct.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Vv=class extends An{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=Ct.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Lv=class extends An{constructor(e,t,r,i,o){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=Ct.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},jv=class extends An{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=Ct.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Uv=class extends An{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=Ct.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Bv=class{constructor(e){this.route=e,this.type=Ct.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},$v=class{constructor(e){this.route=e,this.type=Ct.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Hv=class{constructor(e){this.snapshot=e,this.type=Ct.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},qv=class{constructor(e){this.snapshot=e,this.type=Ct.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},zv=class{constructor(e){this.snapshot=e,this.type=Ct.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Gv=class{constructor(e){this.snapshot=e,this.type=Ct.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},gf=class{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=Ct.Scroll}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},vl=class{},_l=class{constructor(e){this.url=e}};var Wv=class{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new bl,this.attachRef=null}},bl=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){let i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){let r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new Wv,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),mf=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=Kv(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){let t=Kv(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=Qv(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Qv(e,this._root).map(t=>t.value)}};function Kv(n,e){if(n===e.value)return e;for(let t of e.children){let r=Kv(n,t);if(r)return r}return null}function Qv(n,e){if(n===e.value)return[e];for(let t of e.children){let r=Qv(n,t);if(r.length)return r.unshift(e),r}return[]}var yn=class{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};function Zs(n){let e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}var yf=class extends mf{constructor(e,t){super(e),this.snapshot=t,o_(this,e)}toString(){return this.snapshot.toString()}};function tA(n){let e=Tj(n),t=new bt([new Po("",{})]),r=new bt({}),i=new bt({}),o=new bt({}),s=new bt(""),a=new ra(t,r,o,s,i,de,n,e.root);return a.snapshot=e.root,new yf(new yn(a,[]),e)}function Tj(n){let e={},t={},r={},i="",o=new wl([],e,r,i,t,de,n,null,{});return new vf("",new yn(o,[]))}var ra=class{constructor(e,t,r,i,o,s,a,u){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(ee(c=>c[Cl]))??re(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(ee(e=>ea(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(ee(e=>ea(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function i_(n,e,t="emptyOnly"){let r,{routeConfig:i}=n;return e!==null&&(t==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:G(G({},e.params),n.params),data:G(G({},e.data),n.data),resolve:G(G(G(G({},n.data),e.data),i?.data),n._resolvedData)}:r={params:G({},n.params),data:G({},n.data),resolve:G(G({},n.data),n._resolvedData??{})},i&&rA(i)&&(r.resolve[Cl]=i.title),r}var wl=class{get title(){return this.data?.[Cl]}constructor(e,t,r,i,o,s,a,u,c){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=u,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=ea(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=ea(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},vf=class extends mf{constructor(e,t){super(t),this.url=e,o_(this,t)}toString(){return nA(this._root)}};function o_(n,e){e.value._routerState=n,e.children.forEach(t=>o_(n,t))}function nA(n){let e=n.children.length>0?` { ${n.children.map(nA).join(", ")} } `:"";return`${n.value}${e}`}function Mv(n){if(n.snapshot){let e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,fr(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),fr(e.params,t.params)||n.paramsSubject.next(t.params),nj(e.url,t.url)||n.urlSubject.next(t.url),fr(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function Yv(n,e){let t=fr(n.params,e.params)&&sj(n.url,e.url),r=!n.parent!=!e.parent;return t&&!r&&(!n.parent||Yv(n.parent,e.parent))}function rA(n){return typeof n.title=="string"||n.title===null}var Aj=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=de,this.activateEvents=new nt,this.deactivateEvents=new nt,this.attachEvents=new nt,this.detachEvents=new nt,this.parentContexts=U(bl),this.location=U(zu),this.changeDetector=U(So),this.environmentInjector=U(Vt),this.inputBinder=U(Cf,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){let{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new te(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new te(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new te(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new te(4013,!1);this._activatedRoute=t;let i=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,u=new Zv(t,a,i.injector);this.activated=i.createComponent(s,{index:i.length,injector:u,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=_t({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Or]})}}return n})(),Zv=class n{__ngOutletInjector(e){return new n(this.route,this.childContexts,e)}constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===ra?this.route:e===bl?this.childContexts:this.parent.get(e,t)}},Cf=new z(""),VT=(()=>{class n{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){let{activatedRoute:r}=t,i=Eu([r.queryParams,r.params,r.data]).pipe(Ge(([o,s,a],u)=>(a=G(G(G({},o),s),a),u===0?re(a):Promise.resolve(a)))).subscribe(o=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(t);return}let s=mS(r.component);if(!s){this.unsubscribeFromRouteData(t);return}for(let{templateName:a}of s.inputs)t.activatedComponentRef.setInput(a,o[a])});this.outletDataSubscriptions.set(t,i)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=W({token:n,factory:n.\u0275fac})}}return n})();function xj(n,e,t){let r=El(n,e._root,t?t._root:void 0);return new yf(r,e)}function El(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){let r=t.value;r._futureSnapshot=e.value;let i=Mj(n,e,t);return new yn(r,i)}else{if(n.shouldAttach(e.value)){let o=n.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>El(n,a)),s}}let r=Rj(e.value),i=e.children.map(o=>El(n,o));return new yn(r,i)}}function Mj(n,e,t){return e.children.map(r=>{for(let i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return El(n,r,i);return El(n,r)})}function Rj(n){return new ra(new bt(n.url),new bt(n.params),new bt(n.queryParams),new bt(n.fragment),new bt(n.data),n.outlet,n.component,n)}var iA="ngNavigationCancelingError";function oA(n,e){let{redirectTo:t,navigationBehaviorOptions:r}=ta(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=sA(!1,vn.Redirect);return i.url=t,i.navigationBehaviorOptions=r,i}function sA(n,e){let t=new Error(`NavigationCancelingError: ${n||""}`);return t[iA]=!0,t.cancellationCode=e,t}function Nj(n){return aA(n)&&ta(n.url)}function aA(n){return!!n&&n[iA]}var Pj=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275cmp=ct({type:n,selectors:[["ng-component"]],standalone:!0,features:[Xb],decls:1,vars:0,template:function(r,i){r&1&&ve(0,"router-outlet")},dependencies:[Aj],encapsulation:2})}}return n})();function kj(n,e){return n.providers&&!n._injector&&(n._injector=fh(n.providers,e,`Route: ${n.path}`)),n._injector??e}function s_(n){let e=n.children&&n.children.map(s_),t=e?Ne(G({},n),{children:e}):G({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==de&&(t.component=Pj),t}function pr(n){return n.outlet||de}function Fj(n,e){let t=n.filter(r=>pr(r)===e);return t.push(...n.filter(r=>pr(r)!==e)),t}function Sl(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){let t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var Oj=(n,e,t,r)=>ee(i=>(new Jv(e,i.targetRouterState,i.currentRouterState,t,r).activate(n),i)),Jv=class{constructor(e,t,r,i,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),Mv(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){let i=Zs(t);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,r);else o&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=Zs(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=Zs(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){let i=Zs(t);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new Gv(o.value.snapshot))}),e.children.length&&this.forwardEvent(new qv(e.value.snapshot))}activateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(Mv(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),Mv(a.route.value),this.activateChildRoutes(e,null,s.children)}else{let a=Sl(i.snapshot);s.attachRef=null,s.route=i,s.injector=a,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}}else this.activateChildRoutes(e,null,r)}},_f=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Xs=class{constructor(e,t){this.component=e,this.route=t}};function Vj(n,e,t){let r=n._root,i=e?e._root:null;return cl(r,i,t,[r.value])}function Lj(n){let e=n.routeConfig?n.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:n,guards:e}}function oa(n,e){let t=Symbol(),r=e.get(n,t);return r===t?typeof n=="function"&&!iD(n)?n:e.get(n):r}function cl(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=Zs(e);return n.children.forEach(s=>{jj(s,o[s.value.outlet],t,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>pl(a,t.getContext(s),i)),i}function jj(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=n.value,s=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let u=Uj(s,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new _f(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?cl(n,e,a?a.children:null,r,i):cl(n,e,t,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Xs(a.outlet.component,s))}else s&&pl(e,a,i),i.canActivateChecks.push(new _f(r)),o.component?cl(n,null,a?a.children:null,r,i):cl(n,null,t,r,i);return i}function Uj(n,e,t){if(typeof t=="function")return t(n,e);switch(t){case"pathParamsChange":return!ko(n.url,e.url);case"pathParamsOrQueryParamsChange":return!ko(n.url,e.url)||!fr(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Yv(n,e)||!fr(n.queryParams,e.queryParams);case"paramsChange":default:return!Yv(n,e)}}function pl(n,e,t){let r=Zs(n),i=n.value;Object.entries(r).forEach(([o,s])=>{i.component?e?pl(s,e.children.getContext(o),t):pl(s,null,t):pl(s,e,t)}),i.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new Xs(e.outlet.component,i)):t.canDeactivateChecks.push(new Xs(null,i)):t.canDeactivateChecks.push(new Xs(null,i))}function Tl(n){return typeof n=="function"}function Bj(n){return typeof n=="boolean"}function $j(n){return n&&Tl(n.canLoad)}function Hj(n){return n&&Tl(n.canActivate)}function qj(n){return n&&Tl(n.canActivateChild)}function zj(n){return n&&Tl(n.canDeactivate)}function Gj(n){return n&&Tl(n.canMatch)}function uA(n){return n instanceof xr||n?.name==="EmptyError"}var af=Symbol("INITIAL_VALUE");function ia(){return Ge(n=>Eu(n.map(e=>e.pipe(Rr(1),lo(af)))).pipe(ee(e=>{for(let t of e)if(t!==!0){if(t===af)return af;if(t===!1||t instanceof Ai)return t}return!0}),mt(e=>e!==af),Rr(1)))}function Wj(n,e){return ut(t=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return s.length===0&&o.length===0?re(Ne(G({},t),{guardsResult:!0})):Kj(s,r,i,n).pipe(ut(a=>a&&Bj(a)?Qj(r,o,n,e):re(a)),ee(a=>Ne(G({},t),{guardsResult:a})))})}function Kj(n,e,t,r){return Ie(n).pipe(ut(i=>eU(i.component,i.route,t,e,r)),In(i=>i!==!0,!0))}function Qj(n,e,t,r){return Ie(e).pipe(Mr(i=>bs(Zj(i.route.parent,r),Yj(i.route,r),Xj(n,i.path,t),Jj(n,i.route,t))),In(i=>i!==!0,!0))}function Yj(n,e){return n!==null&&e&&e(new zv(n)),re(!0)}function Zj(n,e){return n!==null&&e&&e(new Hv(n)),re(!0)}function Jj(n,e,t){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return re(!0);let i=r.map(o=>hd(()=>{let s=Sl(e)??t,a=oa(o,s),u=Hj(a)?a.canActivate(e,n):jn(s,()=>a(e,n));return Ri(u).pipe(In())}));return re(i).pipe(ia())}function Xj(n,e,t){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>Lj(s)).filter(s=>s!==null).map(s=>hd(()=>{let a=s.guards.map(u=>{let c=Sl(s.node)??t,h=oa(u,c),f=qj(h)?h.canActivateChild(r,n):jn(c,()=>h(r,n));return Ri(f).pipe(In())});return re(a).pipe(ia())}));return re(o).pipe(ia())}function eU(n,e,t,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return re(!0);let s=o.map(a=>{let u=Sl(e)??i,c=oa(a,u),h=zj(c)?c.canDeactivate(n,e,t,r):jn(u,()=>c(n,e,t,r));return Ri(h).pipe(In())});return re(s).pipe(ia())}function tU(n,e,t,r){let i=e.canLoad;if(i===void 0||i.length===0)return re(!0);let o=i.map(s=>{let a=oa(s,n),u=$j(a)?a.canLoad(e,t):jn(n,()=>a(e,t));return Ri(u)});return re(o).pipe(ia(),lA(r))}function lA(n){return Bg(lt(e=>{if(ta(e))throw oA(n,e)}),ee(e=>e===!0))}function nU(n,e,t,r){let i=e.canMatch;if(!i||i.length===0)return re(!0);let o=i.map(s=>{let a=oa(s,n),u=Gj(a)?a.canMatch(e,t):jn(n,()=>a(e,t));return Ri(u)});return re(o).pipe(ia(),lA(r))}var Il=class{constructor(e){this.segmentGroup=e||null}},wf=class extends Error{constructor(e){super(),this.urlTree=e}};function Ys(n){return Ds(new Il(n))}function rU(n){return Ds(new te(4e3,!1))}function iU(n){return Ds(sA(!1,vn.GuardRejected))}var Xv=class{constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return re(r);if(i.numberOfChildren>1||!i.children[de])return rU(e.redirectTo);i=i.children[de]}}applyRedirectCommands(e,t,r){let i=this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r);if(t.startsWith("/"))throw new wf(i);return i}applyRedirectCreateUrlTree(e,t,r,i){let o=this.createSegmentGroup(e,t.root,r,i);return new Ai(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o.startsWith(":")){let a=o.substring(1);r[i]=t[a]}else r[i]=o}),r}createSegmentGroup(e,t,r,i){let o=this.createSegments(e,t.segments,r,i),s={};return Object.entries(t.children).forEach(([a,u])=>{s[a]=this.createSegmentGroup(e,u,r,i)}),new Pe(o,s)}createSegments(e,t,r,i){return t.map(o=>o.path.startsWith(":")?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,t,r){let i=r[t.path.substring(1)];if(!i)throw new te(4001,!1);return i}findOrReturn(e,t){let r=0;for(let i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}},e_={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function oU(n,e,t,r,i){let o=a_(n,e,t);return o.matched?(r=kj(e,r),nU(r,e,t,i).pipe(ee(s=>s===!0?o:G({},e_)))):re(o)}function a_(n,e,t){if(e.path==="**")return sU(t);if(e.path==="")return e.pathMatch==="full"&&(n.hasChildren()||t.length>0)?G({},e_):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let i=(e.matcher||tj)(t,n,e);if(!i)return G({},e_);let o={};Object.entries(i.posParams??{}).forEach(([a,u])=>{o[a]=u.path});let s=i.consumed.length>0?G(G({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function sU(n){return{matched:!0,parameters:n.length>0?$T(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function LT(n,e,t,r){return t.length>0&&lU(n,t,r)?{segmentGroup:new Pe(e,uU(r,new Pe(t,n.children))),slicedSegments:[]}:t.length===0&&cU(n,t,r)?{segmentGroup:new Pe(n.segments,aU(n,t,r,n.children)),slicedSegments:t}:{segmentGroup:new Pe(n.segments,n.children),slicedSegments:t}}function aU(n,e,t,r){let i={};for(let o of t)if(Df(n,e,o)&&!r[pr(o)]){let s=new Pe([],{});i[pr(o)]=s}return G(G({},r),i)}function uU(n,e){let t={};t[de]=e;for(let r of n)if(r.path===""&&pr(r)!==de){let i=new Pe([],{});t[pr(r)]=i}return t}function lU(n,e,t){return t.some(r=>Df(n,e,r)&&pr(r)!==de)}function cU(n,e,t){return t.some(r=>Df(n,e,r))}function Df(n,e,t){return(n.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function dU(n,e,t,r){return pr(n)!==r&&(r===de||!Df(e,t,n))?!1:a_(e,n,t).matched}function hU(n,e,t){return e.length===0&&!n.children[t]}var t_=class{};function fU(n,e,t,r,i,o,s="emptyOnly"){return new n_(n,e,t,r,i,s,o).recognize()}var pU=31,n_=class{constructor(e,t,r,i,o,s,a){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new Xv(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new te(4002,`'${e.segmentGroup}'`)}recognize(){let e=LT(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(ee(t=>{let r=new wl([],Object.freeze({}),Object.freeze(G({},this.urlTree.queryParams)),this.urlTree.fragment,{},de,this.rootComponentType,null,{}),i=new yn(r,t),o=new vf("",i),s=wj(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),this.inheritParamsAndData(o._root,null),{state:o,tree:s}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e,de).pipe(ai(r=>{if(r instanceof wf)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Il?this.noMatchError(r):r}))}inheritParamsAndData(e,t){let r=e.value,i=i_(r,t,this.paramsInheritanceStrategy);r.params=Object.freeze(i.params),r.data=Object.freeze(i.data),e.children.forEach(o=>this.inheritParamsAndData(o,r))}processSegmentGroup(e,t,r,i){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,i,!0).pipe(ee(o=>o instanceof yn?[o]:[]))}processChildren(e,t,r){let i=[];for(let o of Object.keys(r.children))o==="primary"?i.unshift(o):i.push(o);return Ie(i).pipe(Mr(o=>{let s=r.children[o],a=Fj(t,o);return this.processSegmentGroup(e,a,s,o)}),uo((o,s)=>(o.push(...s),o)),ui(null),Jg(),ut(o=>{if(o===null)return Ys(r);let s=cA(o);return gU(s),re(s)}))}processSegment(e,t,r,i,o,s){return Ie(t).pipe(Mr(a=>this.processSegmentAgainstRoute(a._injector??e,t,a,r,i,o,s).pipe(ai(u=>{if(u instanceof Il)return re(null);throw u}))),In(a=>!!a),ai(a=>{if(uA(a))return hU(r,i,o)?re(new t_):Ys(r);throw a}))}processSegmentAgainstRoute(e,t,r,i,o,s,a){return dU(r,i,o,s)?r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,o,s):Ys(i):Ys(i)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s){let{matched:a,consumedSegments:u,positionalParamSegments:c,remainingSegments:h}=a_(t,i,o);if(!a)return Ys(t);i.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>pU&&(this.allowRedirects=!1));let f=this.applyRedirects.applyRedirectCommands(u,i.redirectTo,c);return this.applyRedirects.lineralizeSegments(i,f).pipe(ut(m=>this.processSegment(e,r,t,m.concat(h),s,!1)))}matchSegmentAgainstRoute(e,t,r,i,o){let s=oU(t,r,i,e,this.urlSerializer);return r.path==="**"&&(t.children={}),s.pipe(Ge(a=>a.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(Ge(({routes:u})=>{let c=r._loadedInjector??e,{consumedSegments:h,remainingSegments:f,parameters:m}=a,y=new wl(h,m,Object.freeze(G({},this.urlTree.queryParams)),this.urlTree.fragment,yU(r),pr(r),r.component??r._loadedComponent??null,r,vU(r)),{segmentGroup:S,slicedSegments:D}=LT(t,h,f,u);if(D.length===0&&S.hasChildren())return this.processChildren(c,u,S).pipe(ee(L=>L===null?null:new yn(y,L)));if(u.length===0&&D.length===0)return re(new yn(y,[]));let T=pr(r)===o;return this.processSegment(c,u,S,D,T?de:o,!0).pipe(ee(L=>new yn(y,L instanceof yn?[L]:[])))}))):Ys(t)))}getChildConfig(e,t,r){return t.children?re({routes:t.children,injector:e}):t.loadChildren?t._loadedRoutes!==void 0?re({routes:t._loadedRoutes,injector:t._loadedInjector}):tU(e,t,r,this.urlSerializer).pipe(ut(i=>i?this.configLoader.loadChildren(e,t).pipe(lt(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):iU(t))):re({routes:[],injector:e})}};function gU(n){n.sort((e,t)=>e.value.outlet===de?-1:t.value.outlet===de?1:e.value.outlet.localeCompare(t.value.outlet))}function mU(n){let e=n.value.routeConfig;return e&&e.path===""}function cA(n){let e=[],t=new Set;for(let r of n){if(!mU(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),t.add(i)):e.push(r)}for(let r of t){let i=cA(r.children);e.push(new yn(r.value,i))}return e.filter(r=>!t.has(r))}function yU(n){return n.data||{}}function vU(n){return n.resolve||{}}function _U(n,e,t,r,i,o){return ut(s=>fU(n,e,t,r,s.extractedUrl,i,o).pipe(ee(({state:a,tree:u})=>Ne(G({},s),{targetSnapshot:a,urlAfterRedirects:u}))))}function wU(n,e){return ut(t=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return re(t);let o=new Set(i.map(u=>u.route)),s=new Set;for(let u of o)if(!s.has(u))for(let c of dA(u))s.add(c);let a=0;return Ie(s).pipe(Mr(u=>o.has(u)?EU(u,r,n,e):(u.data=i_(u,u.parent,n).resolve,re(void 0))),lt(()=>a++),Ss(1),ut(u=>a===s.size?re(t):Wt))})}function dA(n){let e=n.children.map(t=>dA(t)).flat();return[n,...e]}function EU(n,e,t,r){let i=n.routeConfig,o=n._resolve;return i?.title!==void 0&&!rA(i)&&(o[Cl]=i.title),IU(o,n,e,r).pipe(ee(s=>(n._resolvedData=s,n.data=i_(n,n.parent,t).resolve,null)))}function IU(n,e,t,r){let i=Pv(n);if(i.length===0)return re({});let o={};return Ie(i).pipe(ut(s=>CU(n[s],e,t,r).pipe(In(),lt(a=>{o[s]=a}))),Ss(1),Yg(o),ai(s=>uA(s)?Wt:Ds(s)))}function CU(n,e,t,r){let i=Sl(e)??r,o=oa(n,i),s=o.resolve?o.resolve(e,t):jn(i,()=>o(e,t));return Ri(s)}function Rv(n){return Ge(e=>{let t=n(e);return t?Ie(t).pipe(ee(()=>e)):re(e)})}var hA=(()=>{class n{buildTitle(t){let r,i=t.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===de);return r}getResolvedTitleForRoute(t){return t.data[Cl]}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=W({token:n,factory:()=>U(DU),providedIn:"root"})}}return n})(),DU=(()=>{class n extends hA{constructor(t){super(),this.title=t}updateTitle(t){let r=this.buildTitle(t);r!==void 0&&this.title.setTitle(r)}static{this.\u0275fac=function(r){return new(r||n)(j(XS))}}static{this.\u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Al=new z("",{providedIn:"root",factory:()=>({})}),Ef=new z(""),u_=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=U(Ih)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return re(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);let r=Ri(t.loadComponent()).pipe(ee(fA),lt(o=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=o}),li(()=>{this.componentLoaders.delete(t)})),i=new ws(r,()=>new tt).pipe(_s());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return re({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=bU(r,this.compiler,t,this.onLoadEndListener).pipe(li(()=>{this.childrenLoaders.delete(r)})),s=new ws(o,()=>new tt).pipe(_s());return this.childrenLoaders.set(r,s),s}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function bU(n,e,t,r){return Ri(n.loadChildren()).pipe(ee(fA),ut(i=>i instanceof Lu||Array.isArray(i)?re(i):Ie(e.compileModuleAsync(i))),ee(i=>{r&&r(n);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(t).injector,s=o.get(Ef,[],{optional:!0,self:!0}).flat()),{routes:s.map(s_),injector:o}}))}function SU(n){return n&&typeof n=="object"&&"default"in n}function fA(n){return SU(n)?n.default:n}var l_=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=W({token:n,factory:()=>U(TU),providedIn:"root"})}}return n})(),TU=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),pA=new z(""),gA=new z("");function AU(n,e,t){let r=n.get(gA),i=n.get(Ut);return n.get(Ce).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(c=>setTimeout(c));let o,s=new Promise(c=>{o=c}),a=i.startViewTransition(()=>(o(),xU(n))),{onViewTransitionCreated:u}=r;return u&&jn(n,()=>u({transition:a,from:e,to:t})),s})}function xU(n){return new Promise(e=>{hh(e,{injector:n})})}var c_=(()=>{class n{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new tt,this.transitionAbortSubject=new tt,this.configLoader=U(u_),this.environmentInjector=U(Vt),this.urlSerializer=U(Dl),this.rootContexts=U(bl),this.location=U(zs),this.inputBindingEnabled=U(Cf,{optional:!0})!==null,this.titleStrategy=U(hA),this.options=U(Al,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=U(l_),this.createViewTransition=U(pA,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>re(void 0),this.rootComponentType=null;let t=i=>this.events.next(new Bv(i)),r=i=>this.events.next(new $v(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=t}complete(){this.transitions?.complete()}handleNavigationRequest(t){let r=++this.navigationId;this.transitions?.next(Ne(G(G({},this.transitions.value),t),{id:r}))}setupNavigations(t,r,i){return this.transitions=new bt({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:fl,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(mt(o=>o.id!==0),ee(o=>Ne(G({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),Ge(o=>{let s=!1,a=!1;return re(o).pipe(Ge(u=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",vn.SupersededByNewNavigation),Wt;this.currentTransition=o,this.currentNavigation={id:u.id,initialUrl:u.rawUrl,extractedUrl:u.extractedUrl,trigger:u.source,extras:u.extras,previousNavigation:this.lastSuccessfulNavigation?Ne(G({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let c=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),h=u.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!c&&h!=="reload"){let f="";return this.events.next(new Mi(u.id,this.urlSerializer.serialize(u.rawUrl),f,ff.IgnoredSameUrlNavigation)),u.resolve(null),Wt}if(this.urlHandlingStrategy.shouldProcessUrl(u.rawUrl))return re(u).pipe(Ge(f=>{let m=this.transitions?.getValue();return this.events.next(new na(f.id,this.urlSerializer.serialize(f.extractedUrl),f.source,f.restoredState)),m!==this.transitions?.getValue()?Wt:Promise.resolve(f)}),_U(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),lt(f=>{o.targetSnapshot=f.targetSnapshot,o.urlAfterRedirects=f.urlAfterRedirects,this.currentNavigation=Ne(G({},this.currentNavigation),{finalUrl:f.urlAfterRedirects});let m=new pf(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(m)}));if(c&&this.urlHandlingStrategy.shouldProcessUrl(u.currentRawUrl)){let{id:f,extractedUrl:m,source:y,restoredState:S,extras:D}=u,T=new na(f,this.urlSerializer.serialize(m),y,S);this.events.next(T);let L=tA(this.rootComponentType).snapshot;return this.currentTransition=o=Ne(G({},u),{targetSnapshot:L,urlAfterRedirects:m,extras:Ne(G({},D),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=m,re(o)}else{let f="";return this.events.next(new Mi(u.id,this.urlSerializer.serialize(u.extractedUrl),f,ff.IgnoredByUrlHandlingStrategy)),u.resolve(null),Wt}}),lt(u=>{let c=new Vv(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(c)}),ee(u=>(this.currentTransition=o=Ne(G({},u),{guards:Vj(u.targetSnapshot,u.currentSnapshot,this.rootContexts)}),o)),Wj(this.environmentInjector,u=>this.events.next(u)),lt(u=>{if(o.guardsResult=u.guardsResult,ta(u.guardsResult))throw oA(this.urlSerializer,u.guardsResult);let c=new Lv(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot,!!u.guardsResult);this.events.next(c)}),mt(u=>u.guardsResult?!0:(this.cancelNavigationTransition(u,"",vn.GuardRejected),!1)),Rv(u=>{if(u.guards.canActivateChecks.length)return re(u).pipe(lt(c=>{let h=new jv(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(h)}),Ge(c=>{let h=!1;return re(c).pipe(wU(this.paramsInheritanceStrategy,this.environmentInjector),lt({next:()=>h=!0,complete:()=>{h||this.cancelNavigationTransition(c,"",vn.NoDataFromResolver)}}))}),lt(c=>{let h=new Uv(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(h)}))}),Rv(u=>{let c=h=>{let f=[];h.routeConfig?.loadComponent&&!h.routeConfig._loadedComponent&&f.push(this.configLoader.loadComponent(h.routeConfig).pipe(lt(m=>{h.component=m}),ee(()=>{})));for(let m of h.children)f.push(...c(m));return f};return Eu(c(u.targetSnapshot.root)).pipe(ui(null),Rr(1))}),Rv(()=>this.afterPreactivation()),Ge(()=>{let{currentSnapshot:u,targetSnapshot:c}=o,h=this.createViewTransition?.(this.environmentInjector,u.root,c.root);return h?Ie(h).pipe(ee(()=>o)):re(o)}),ee(u=>{let c=xj(t.routeReuseStrategy,u.targetSnapshot,u.currentRouterState);return this.currentTransition=o=Ne(G({},u),{targetRouterState:c}),this.currentNavigation.targetRouterState=c,o}),lt(()=>{this.events.next(new vl)}),Oj(this.rootContexts,t.routeReuseStrategy,u=>this.events.next(u),this.inputBindingEnabled),Rr(1),lt({next:u=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new qr(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects))),this.titleStrategy?.updateTitle(u.targetRouterState.snapshot),u.resolve(!0)},complete:()=>{s=!0}}),em(this.transitionAbortSubject.pipe(lt(u=>{throw u}))),li(()=>{!s&&!a&&this.cancelNavigationTransition(o,"",vn.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),ai(u=>{if(a=!0,aA(u))this.events.next(new xi(o.id,this.urlSerializer.serialize(o.extractedUrl),u.message,u.cancellationCode)),Nj(u)?this.events.next(new _l(u.url)):o.resolve(!1);else{this.events.next(new yl(o.id,this.urlSerializer.serialize(o.extractedUrl),u,o.targetSnapshot??void 0));try{o.resolve(t.errorHandler(u))}catch(c){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(c)}}return Wt}))}))}cancelNavigationTransition(t,r,i){let o=new xi(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(o),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function MU(n){return n!==fl}var RU=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=W({token:n,factory:()=>U(NU),providedIn:"root"})}}return n})(),r_=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}},NU=(()=>{class n extends r_{static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=yi(n)))(i||n)}})()}static{this.\u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),mA=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=W({token:n,factory:()=>U(PU),providedIn:"root"})}}return n})(),PU=(()=>{class n extends mA{constructor(){super(...arguments),this.location=U(zs),this.urlSerializer=U(Dl),this.options=U(Al,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=U(l_),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Ai,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=tA(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(r=>{r.type==="popstate"&&t(r.url,r.state)})}handleRouterEvent(t,r){if(t instanceof na)this.stateMemento=this.createStateMemento();else if(t instanceof Mi)this.rawUrlTree=r.initialUrl;else if(t instanceof pf){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let i=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(i,r)}}else t instanceof vl?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,r))):t instanceof xi&&(t.code===vn.GuardRejected||t.code===vn.NoDataFromResolver)?this.restoreHistory(r):t instanceof yl?this.restoreHistory(r,!0):t instanceof qr&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,r){let i=this.urlSerializer.serialize(t);if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){let o=this.browserPageId,s=G(G({},r.extras.state),this.generateNgRouterState(r.id,o));this.location.replaceState(i,"",s)}else{let o=G(G({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(i,"",o)}}restoreHistory(t,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.currentUrlTree===t.finalUrl&&o===0&&(this.resetState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=yi(n)))(i||n)}})()}static{this.\u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),dl=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(dl||{});function yA(n,e){n.events.pipe(mt(t=>t instanceof qr||t instanceof xi||t instanceof yl||t instanceof Mi),ee(t=>t instanceof qr||t instanceof Mi?dl.COMPLETE:(t instanceof xi?t.code===vn.Redirect||t.code===vn.SupersededByNewNavigation:!1)?dl.REDIRECTING:dl.FAILED),mt(t=>t!==dl.REDIRECTING),Rr(1)).subscribe(()=>{e()})}function kU(n){throw n}var FU={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},OU={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Gn=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=U(yh),this.stateManager=U(mA),this.options=U(Al,{optional:!0})||{},this.pendingTasks=U(Co),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=U(c_),this.urlSerializer=U(Dl),this.location=U(zs),this.urlHandlingStrategy=U(l_),this._events=new tt,this.errorHandler=this.options.errorHandler||kU,this.navigated=!1,this.routeReuseStrategy=U(RU),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=U(Ef,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!U(Cf,{optional:!0}),this.eventsSubscription=new et,this.isNgZoneEnabled=U(Ce)instanceof Ce&&Ce.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof xi&&r.code!==vn.Redirect&&r.code!==vn.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof qr)this.navigated=!0;else if(r instanceof _l){let s=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),a={info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:this.urlUpdateStrategy==="eager"||MU(i.source)};this.scheduleNavigation(s,fl,null,a,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}LU(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),fl,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(t,"popstate",r)},0)})}navigateToSyncWithBrowser(t,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let u=G({},i);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(o.state=u)}let a=this.parseUrl(t);this.scheduleNavigation(a,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(s_),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:u}=r,c=u?this.currentUrlTree.fragment:s,h=null;switch(a){case"merge":h=G(G({},this.currentUrlTree.queryParams),o);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=o||null}h!==null&&(h=this.removeEmptyProps(h));let f;try{let m=i?i.snapshot:this.routerState.snapshot.root;f=ZT(m)}catch{(typeof t[0]!="string"||!t[0].startsWith("/"))&&(t=[]),f=this.currentUrlTree.root}return JT(f,t,h,c??null)}navigateByUrl(t,r={skipLocationChange:!1}){let i=ta(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,fl,null,r)}navigate(t,r={skipLocationChange:!1}){return VU(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,r){let i;if(r===!0?i=G({},FU):r===!1?i=G({},OU):i=r,ta(t))return PT(this.currentUrlTree,t,i);let o=this.parseUrl(t);return PT(this.currentUrlTree,o,i)}removeEmptyProps(t){return Object.entries(t).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(t,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,u,c;s?(a=s.resolve,u=s.reject,c=s.promise):c=new Promise((f,m)=>{a=f,u=m});let h=this.pendingTasks.add();return yA(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(h))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:a,reject:u,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(f=>Promise.reject(f))}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function VU(n){for(let e=0;e<n.length;e++)if(n[e]==null)throw new te(4008,!1)}function LU(n){return!(n instanceof vl)&&!(n instanceof _l)}var If=class{};var jU=(()=>{class n{constructor(t,r,i,o,s){this.router=t,this.injector=i,this.preloadingStrategy=o,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(mt(t=>t instanceof qr),Mr(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){let i=[];for(let o of r){o.providers&&!o._injector&&(o._injector=fh(o.providers,t,`Route: ${o.path}`));let s=o._injector??t,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&i.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&i.push(this.processRoutes(a,o.children??o._loadedRoutes))}return Ie(i).pipe(si())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;r.loadChildren&&r.canLoad===void 0?i=this.loader.loadChildren(t,r):i=re(null);let o=i.pipe(ut(s=>s===null?re(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??t,s.routes))));if(r.loadComponent&&!r._loadedComponent){let s=this.loader.loadComponent(r);return Ie([o,s]).pipe(si())}else return o})}static{this.\u0275fac=function(r){return new(r||n)(j(Gn),j(Ih),j(Vt),j(If),j(u_))}}static{this.\u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),vA=new z(""),UU=(()=>{class n{constructor(t,r,i,o,s={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},this.environmentInjector=U(Vt),s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof na?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof qr?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof Mi&&t.code===ff.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof gf&&(t.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(t.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>P(this,null,function*(){yield new Promise(i=>{setTimeout(()=>{i()}),hh(()=>{i()},{injector:this.environmentInjector})}),this.zone.run(()=>{this.transitions.events.next(new gf(t,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})}))}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static{this.\u0275fac=function(r){bb()}}static{this.\u0275prov=W({token:n,factory:n.\u0275fac})}}return n})();function BU(n){return n.routerState.root}function xl(n,e){return{\u0275kind:n,\u0275providers:e}}function $U(){let n=U(gn);return e=>{let t=n.get(bo);if(e!==t.components[0])return;let r=n.get(Gn),i=n.get(_A);n.get(d_)===1&&r.initialNavigation(),n.get(wA,null,_e.Optional)?.setUpPreloading(),n.get(vA,null,_e.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var _A=new z("",{factory:()=>new tt}),d_=new z("",{providedIn:"root",factory:()=>1});function HU(){return xl(2,[{provide:d_,useValue:0},{provide:wh,multi:!0,deps:[gn],useFactory:e=>{let t=e.get(DS,Promise.resolve());return()=>t.then(()=>new Promise(r=>{let i=e.get(Gn),o=e.get(_A);yA(i,()=>{r(!0)}),e.get(c_).afterPreactivation=()=>(r(!0),o.closed?re(void 0):o),i.initialNavigation()}))}}])}function qU(){return xl(3,[{provide:wh,multi:!0,useFactory:()=>{let e=U(Gn);return()=>{e.setUpLocationChangeListener()}}},{provide:d_,useValue:2}])}var wA=new z("");function zU(n){return xl(0,[{provide:wA,useExisting:jU},{provide:If,useExisting:n}])}function GU(){return xl(8,[VT,{provide:Cf,useExisting:VT}])}function WU(n){let e=[{provide:pA,useValue:AU},{provide:gA,useValue:G({skipNextTransition:!!n?.skipInitialTransition},n)}];return xl(9,e)}var jT=new z("ROUTER_FORROOT_GUARD"),KU=[zs,{provide:Dl,useClass:gl},Gn,bl,{provide:ra,useFactory:BU,deps:[Gn]},u_,[]],h_=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[KU,[],{provide:Ef,multi:!0,useValue:t},{provide:jT,useFactory:JU,deps:[[Gn,new Bu,new dD]]},{provide:Al,useValue:r||{}},r?.useHash?YU():ZU(),QU(),r?.preloadingStrategy?zU(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?XU(r):[],r?.bindToComponentInputs?GU().\u0275providers:[],r?.enableViewTransitions?WU().\u0275providers:[],eB()]}}static forChild(t){return{ngModule:n,providers:[{provide:Ef,multi:!0,useValue:t}]}}static{this.\u0275fac=function(r){return new(r||n)(j(jT,8))}}static{this.\u0275mod=Ye({type:n})}static{this.\u0275inj=Qe({})}}return n})();function QU(){return{provide:vA,useFactory:()=>{let n=U(NS),e=U(Ce),t=U(Al),r=U(c_),i=U(Dl);return t.scrollOffset&&n.setOffset(t.scrollOffset),new UU(i,r,n,e,t)}}}function YU(){return{provide:To,useClass:SS}}function ZU(){return{provide:To,useClass:rv}}function JU(n){return"guarded"}function XU(n){return[n.initialNavigation==="disabled"?qU().\u0275providers:[],n.initialNavigation==="enabledBlocking"?HU().\u0275providers:[]]}var UT=new z("");function eB(){return[{provide:UT,useFactory:$U},{provide:Eh,multi:!0,useExisting:UT}]}var tB=[],IA=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Ye({type:n})}static{this.\u0275inj=Qe({imports:[h_.forRoot(tB),h_]})}}return n})();var Fo=class{Calc_Before(e,t){let r=0;return e.map(i=>{let o=i.Count,s;t!=null&&(s=t.find(a=>a.Hour==i.Attendance).Price),r+=o*s}),r}Calc_After(e,t){return e==0||e==null||e==null||typeof e!="number"?0:(t.map(r=>{this.splitNumber(e,this.Get_Split_Size(r,e),r.Skip).map((o,s)=>{r.Sub_Layer[s]&&r.Sub_Layer[s].Calc_Until=="Current"?o.Subtract=o.Spliting*r.Sub_Layer[s].Val:r.Sub_Layer[r.Sub_Layer.length-1].Calc_Until=="To-End"&&(o.Subtract=o.Spliting*r.Sub_Layer[r.Sub_Layer.length-1].Val),e-=o.Subtract})}),parseFloat(e.toFixed(2)))}Get_Split_Size(e,t){return e.Split_Size=="Salary"?t:e.Split_Size}Is_Percentage(e){return parseFloat(e)/100}splitNumber(e,t,r){if(e<r)return[];let i=[],o=e;for(o>=r&&(o-=r);o>t;)i.push({Spliting:t,Subtract:0}),o-=t;return o>0&&i.push({Spliting:o,Subtract:0}),i}};var bf=class{constructor(e){this.Fire_Users=e,this.blankDays=[],this.noOfDays=[],this.final_42_days=[],this.initDate()}initDate(){let e=new Date;this.month=e.getMonth(),this.year=e.getFullYear(),this.datepickerValue=new Date(this.year,this.month,e.getDate()).toDateString(),this.refreshCalendarDays()}refreshCalendarDays(){this.blankDays=this.getBlankDays(),this.noOfDays=this.getDaysInCurrentMonth(),this.final_42_days=[...this.blankDays,...this.noOfDays],this.final_42_days.length<42&&(this.final_42_days=[...this.final_42_days,...this.getNextMonthDays(42-this.final_42_days.length)]),this.Append_Event_Data_For_Day(this.Fire_Users.User_Data)}getBlankDays(){let e=new Date(this.year,this.month).getDay(),t=new Date(this.year,this.month,0).getDate();return Array.from({length:e+1},(r,i)=>({Day_Number:t-e+i,Current_Month:!1,Date:new Date(this.year,this.month-1,t-e+i)}))}getDaysInCurrentMonth(){let e=new Date(this.year,this.month+1,0).getDate(),t=new Date;return Array.from({length:e},(r,i)=>({Day_Number:i+1,Current_Month:!0,Date:new Date(this.year,this.month,i+1),Current_Day:this.isToday(i+1,t)}))}getNextMonthDays(e){return Array.from({length:e},(t,r)=>({Day_Number:r+1,Current_Month:!1,Date:new Date(this.year,this.month+1,r+1)}))}isToday(e,t){return this.year===t.getFullYear()&&this.month===t.getMonth()&&e===t.getDate()}Next_Month(){this.month+=1,this.month>11&&(this.month=0,this.year+=1),this.refreshCalendarDays()}Previous_Month(){this.month-=1,this.month<0&&(this.month=11,this.year-=1),this.refreshCalendarDays()}Append_Event_Data_For_Day(e){this.final_42_days.map(t=>{let r=this.Find_My_Day_Event_From_FireBase(e.Month_Data,t);r!=null&&(t.Event=r.Event)})}Find_My_Day_Event_From_FireBase(e,t){if(e!=null)return e.find(r=>String(r.Date.toDate())==String(t.Date))}Count_Attendance(){let e=this.Fire_Users?.User_Data?.Hour_Salary,t=[];e!=null&&(t=e.map(s=>s.Hour));let i=this.final_42_days.filter(s=>s.Current_Month===!0&&s.Event!==void 0).filter(s=>s.Event.Attendance!=="").reduce((s,a)=>{let u=a.Event.Attendance;return s[u]=(s[u]||0)+1,s},{});return t.map(s=>({Attendance:s,Count:i[s]||0}))}Count_Events(){let e=this.final_42_days.filter(o=>o.Current_Month===!0&&o.Event!==void 0),t=0,r=0,i=0;return e.forEach(o=>{o.Event.Absence&&t++,o.Event.Holiday&&r++,o.Event.Late&&i++}),[{Event_Name:"Absence",Count:t},{Event_Name:"Holiday",Count:r},{Event_Name:"Late",Count:i}]}};var nB="firebase",rB="10.14.1";oi(nB,rB,"app");var Vo=new Pr("ANGULARFIRE2_VERSION");var iB=(n,e)=>{let t=e?[e]:GI(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},Oo=class{constructor(){return iB(oB)}},oB="app-check";function f_(){}var Sf=class{zone;delegate;constructor(e,t=zg){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){let i=this.zone,o=function(s){i.runGuarded(()=>{e.apply(this,[s])})};return this.delegate.schedule(o,t,r)}},p_=class{zone;task=null;constructor(e){this.zone=e}call(e,t){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",f_,{},f_,f_)),t.pipe(lt({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},Tf=(()=>{class n{ngZone;outsideAngular;insideAngular;constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new Sf(Zone.current)),this.insideAngular=t.run(()=>new Sf(Zone.current,wu)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||n)(j(Ce))};static \u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function sB(){let n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return n}function ln(n){return aB(sB())(n)}function aB(n){return function(t){return t=t.lift(new p_(n.ngZone)),t.pipe(kn(n.outsideAngular),En(n.insideAngular))}}var cB=new Map,dB={activated:!1,tokenObservers:[]},hB={initialized:!1,enabled:!1};function Wn(n){return cB.get(n)||Object.assign({},dB)}function AA(){return hB}var fB="https://content-firebaseappcheck.googleapis.com/v1";var pB="exchangeDebugToken",DA={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3},l7=24*60*60*1e3;var m_=class{constructor(e,t,r,i,o){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){return P(this,null,function*(){this.stop();try{this.pending=new Ag,this.pending.promise.catch(t=>{}),yield gB(this.getNextRun(e)),this.pending.resolve(),yield this.pending.promise,this.pending=new Ag,this.pending.promise.catch(t=>{}),yield this.operation(),this.pending.resolve(),yield this.pending.promise,this.process(!0).catch(()=>{})}catch(t){this.retryPolicy(t)?this.process(!1).catch(()=>{}):this.stop()}})}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}};function gB(n){return new Promise(e=>{setTimeout(e,n)})}var mB={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"},Ni=new qI("appCheck","AppCheck",mB);function xA(n){if(!Wn(n).activated)throw Ni.create("use-before-activation",{appName:n.name})}function MA(r,i){return P(this,arguments,function*({url:n,body:e},t){let o={"Content-Type":"application/json"},s=t.getImmediate({optional:!0});if(s){let y=yield s.getHeartbeatsHeader();y&&(o["X-Firebase-Client"]=y)}let a={method:"POST",body:JSON.stringify(e),headers:o},u;try{u=yield fetch(n,a)}catch(y){throw Ni.create("fetch-network-error",{originalErrorMessage:y?.message})}if(u.status!==200)throw Ni.create("fetch-status-error",{httpStatus:u.status});let c;try{c=yield u.json()}catch(y){throw Ni.create("fetch-parse-error",{originalErrorMessage:y?.message})}let h=c.ttl.match(/^([\d.]+)(s)$/);if(!h||!h[2]||isNaN(Number(h[1])))throw Ni.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${c.ttl}`});let f=Number(h[1])*1e3,m=Date.now();return{token:c.token,expireTimeMillis:m+f,issuedAtTimeMillis:m}})}function RA(n,e){let{projectId:t,appId:r,apiKey:i}=n.options;return{url:`${fB}/projects/${t}/apps/${r}:${pB}?key=${i}`,body:{debug_token:e}}}var yB="firebase-app-check-database",vB=1,y_="firebase-app-check-store";var Af=null;function _B(){return Af||(Af=new Promise((n,e)=>{try{let t=indexedDB.open(yB,vB);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(Ni.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},t.onupgradeneeded=r=>{let i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(y_,{keyPath:"compositeKey"})}}}catch(t){e(Ni.create("storage-open",{originalErrorMessage:t?.message}))}}),Af)}function wB(n,e){return EB(IB(n),e)}function EB(n,e){return P(this,null,function*(){let r=(yield _B()).transaction(y_,"readwrite"),o=r.objectStore(y_).put({compositeKey:n,value:e});return new Promise((s,a)=>{o.onsuccess=u=>{s()},r.onerror=u=>{var c;a(Ni.create("storage-set",{originalErrorMessage:(c=u.target.error)===null||c===void 0?void 0:c.message}))}})})}function IB(n){return`${n.options.appId}-${n.name}`}var v_=new Bc("@firebase/app-check");function g_(n,e){return Uc()?wB(n,e).catch(t=>{v_.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function NA(){return AA().enabled}function PA(){return P(this,null,function*(){let n=AA();if(n.enabled&&n.token)return n.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)})}var CB={error:"UNKNOWN_ERROR"};function DB(n){return BI.encodeString(JSON.stringify(n),!1)}function __(n,e=!1){return P(this,null,function*(){let t=n.app;xA(t);let r=Wn(t),i=r.token,o;if(i&&!Ml(i)&&(r.token=void 0,i=void 0),!i){let u=yield r.cachedTokenPromise;u&&(Ml(u)?i=u:yield g_(t,void 0))}if(!e&&i&&Ml(i))return{token:i.token};let s=!1;if(NA()){r.exchangeTokenPromise||(r.exchangeTokenPromise=MA(RA(t,yield PA()),n.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),s=!0);let u=yield r.exchangeTokenPromise;return yield g_(t,u),r.token=u,{token:u.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),s=!0),i=yield Wn(t).exchangeTokenPromise}catch(u){u.code==="appCheck/throttled"?v_.warn(u.message):v_.error(u),o=u}let a;return i?o?Ml(i)?a={token:i.token,internalError:o}:a=SA(o):(a={token:i.token},r.token=i,yield g_(t,i)):a=SA(o),s&&AB(t,a),a})}function bB(n){return P(this,null,function*(){let e=n.app;xA(e);let{provider:t}=Wn(e);if(NA()){let r=yield PA(),{token:i}=yield MA(RA(e,r),n.heartbeatServiceProvider);return{token:i}}else{let{token:r}=yield t.getToken();return{token:r}}})}function SB(n,e,t,r){let{app:i}=n,o=Wn(i),s={next:t,error:r,type:e};if(o.tokenObservers=[...o.tokenObservers,s],o.token&&Ml(o.token)){let a=o.token;Promise.resolve().then(()=>{t({token:a.token}),bA(n)}).catch(()=>{})}o.cachedTokenPromise.then(()=>bA(n))}function kA(n,e){let t=Wn(n),r=t.tokenObservers.filter(i=>i.next!==e);r.length===0&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function bA(n){let{app:e}=n,t=Wn(e),r=t.tokenRefresher;r||(r=TB(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function TB(n){let{app:e}=n;return new m_(()=>P(this,null,function*(){let t=Wn(e),r;if(t.token?r=yield __(n,!0):r=yield __(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{let t=Wn(e);if(t.token){let r=t.token.issuedAtTimeMillis+(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)*.5+3e5,i=t.token.expireTimeMillis-5*60*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},DA.RETRIAL_MIN_WAIT,DA.RETRIAL_MAX_WAIT)}function AB(n,e){let t=Wn(n).tokenObservers;for(let r of t)try{r.type==="EXTERNAL"&&e.error!=null?r.error(e.error):r.next(e)}catch{}}function Ml(n){return n.expireTimeMillis-Date.now()>0}function SA(n){return{token:DB(CB),error:n}}var w_=class{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){let{tokenObservers:e}=Wn(this.app);for(let t of e)kA(this.app,t.next);return Promise.resolve()}};function xB(n,e){return new w_(n,e)}function MB(n){return{getToken:e=>__(n,e),getLimitedUseToken:()=>bB(n),addTokenListener:e=>SB(n,"INTERNAL",e),removeTokenListener:e=>kA(n.app,e)}}var RB="@firebase/app-check",NB="0.8.8";var PB="app-check",TA="app-check-internal";function kB(){mu(new io(PB,n=>{let e=n.getProvider("app").getImmediate(),t=n.getProvider("heartbeat");return xB(e,t)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(TA).initialize()})),mu(new io(TA,n=>{let e=n.getProvider("app-check").getImmediate();return MB(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),oi(RB,NB)}kB();var FB=["localhost","0.0.0.0","127.0.0.1"],E7=typeof window<"u"&&FB.includes(window.location.hostname);var OB="firebase",VB="10.14.1";It.registerVersion(OB,VB,"app-compat");var LB=["ngOnDestroy"],VA=(n,e,t,r={})=>new Proxy(n,{get:(i,o)=>t.runOutsideAngular(()=>{if(n[o])return r?.spy?.get&&r.spy.get(o,n[o]),n[o];if(LB.indexOf(o)>-1)return()=>{};let s=e.toPromise().then(a=>{let u=a?.[o];return typeof u=="function"?u.bind(a):u?.then?u.then(c=>t.run(()=>c)):t.run(()=>u)});return new Proxy(()=>{},{get:(a,u)=>s[u],apply:(a,u,c)=>s.then(h=>{let f=h?.(...c);return r?.spy?.apply&&r.spy.apply(o,c,f),f})})})});var xf=class{constructor(e){return e}},sa=new z("angularfire2.app.options"),aa=new z("angularfire2.app.name");function Rl(n,e,t){let r=typeof t=="string"&&t||"[DEFAULT]",i=typeof t=="object"&&t||{};i.name=i.name||r;let s=It.apps.filter(a=>a&&a.name===i.name)[0]||e.runOutsideAngular(()=>It.initializeApp(n,i));try{if(JSON.stringify(n)!==JSON.stringify(s.options)){let a=!!module.hot;jB("error",`${s.name} Firebase App already initialized with different options${a?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new xf(s)}var jB=(n,...e)=>{Wy()&&typeof console<"u"&&console[n](...e)},UB={provide:xf,useFactory:Rl,deps:[sa,Ce,[new Bu,aa]]},LA=(()=>{class n{static initializeApp(t,r){return{ngModule:n,providers:[{provide:sa,useValue:t},{provide:aa,useValue:r}]}}constructor(t){It.registerVersion("angularfire",Vo.full,"core"),It.registerVersion("angularfire",Vo.full,"app-compat"),It.registerVersion("angular",sS.full,t.toString())}static \u0275fac=function(r){return new(r||n)(j(jt))};static \u0275mod=Ye({type:n});static \u0275inj=Qe({providers:[UB]})}return n})();function Mf(n,e,t,r,i){let[,o,s]=globalThis.\u0275AngularfireInstanceCache.find(a=>a[0]===n)||[];if(o)return BB(i,s)||(OA("error",`${e} was already initialized on the ${t} Firebase App with different settings.${$B?" You may need to reload as Firebase is not HMR aware.":""}`),OA("warn",{is:i,was:s})),o;{let a=r();return globalThis.\u0275AngularfireInstanceCache.push([n,a,i]),a}}function BB(n,e){try{return n.toString()===e.toString()}catch{return n===e}}var $B=typeof module<"u"&&!!module.hot,OA=(n,...e)=>{Wy()&&typeof console<"u"&&console[n](...e)};globalThis.\u0275AngularfireInstanceCache||=[];var E_=new z("angularfire2.auth.use-emulator"),I_=new z("angularfire2.auth.settings"),C_=new z("angularfire2.auth.tenant-id"),D_=new z("angularfire2.auth.langugage-code"),b_=new z("angularfire2.auth.use-device-language"),S_=new z("angularfire.auth.persistence"),T_=(n,e,t,r,i,o,s,a)=>Mf(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{let u=e.runOutsideAngular(()=>n.auth());if(t&&u.useEmulator(...t),r&&(u.tenantId=r),u.languageCode=i,o&&u.useDeviceLanguage(),s)for(let[c,h]of Object.entries(s))u.settings[c]=h;return a&&u.setPersistence(a),u},[t,r,i,o,s,a]),Kn=(()=>{class n{authState;idToken;user;idTokenResult;credential;constructor(t,r,i,o,s,a,u,c,h,f,m,y){let S=new tt,D=re(void 0).pipe(En(s.outsideAngular),Ge(()=>o.runOutsideAngular(()=>import("./chunk-BM64HSLY.js"))),ee(()=>Rl(t,o,r)),ee(T=>T_(T,o,a,c,h,f,u,m)),pd({bufferSize:1,refCount:!1}));if(Ci(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=re(null);else{D.pipe(In()).subscribe();let T=D.pipe(Ge(F=>F.getRedirectResult().then(J=>J,()=>null)),ln,pd({bufferSize:1,refCount:!1})),L=D.pipe(Ge(F=>new me(J=>({unsubscribe:o.runOutsideAngular(()=>F.onAuthStateChanged(oe=>J.next(oe),oe=>J.error(oe),()=>J.complete()))})))),K=D.pipe(Ge(F=>new me(J=>({unsubscribe:o.runOutsideAngular(()=>F.onIdTokenChanged(oe=>J.next(oe),oe=>J.error(oe),()=>J.complete()))}))));this.authState=T.pipe(gd(L),kn(s.outsideAngular),En(s.insideAngular)),this.user=T.pipe(gd(K),kn(s.outsideAngular),En(s.insideAngular)),this.idToken=this.user.pipe(Ge(F=>F?Ie(F.getIdToken()):re(null))),this.idTokenResult=this.user.pipe(Ge(F=>F?Ie(F.getIdTokenResult()):re(null))),this.credential=Qg(T,S,this.authState.pipe(mt(F=>!F))).pipe(ee(F=>F?.user?F:null),kn(s.outsideAngular),En(s.insideAngular))}return VA(this,D,o,{spy:{apply:(T,L,K)=>{(T.startsWith("signIn")||T.startsWith("createUser"))&&K.then(F=>S.next(F))}}})}static \u0275fac=function(r){return new(r||n)(j(sa),j(aa,8),j(jt),j(Ce),j(Tf),j(E_,8),j(I_,8),j(C_,8),j(D_,8),j(b_,8),j(S_,8),j(Oo,8))};static \u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"any"})}return n})(),jA=(()=>{class n{constructor(){It.registerVersion("angularfire",Vo.full,"auth-compat")}static \u0275fac=function(r){return new(r||n)};static \u0275mod=Ye({type:n});static \u0275inj=Qe({providers:[Kn]})}return n})();var UA=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},BA={};var Pi,A_;(function(){var n;function e(E,v){function w(){}w.prototype=v.prototype,E.D=v.prototype,E.prototype=new w,E.prototype.constructor=E,E.C=function(I,C,A){for(var _=Array(arguments.length-2),br=2;br<arguments.length;br++)_[br-2]=arguments[br];return v.prototype[C].apply(I,_)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(E,v,w){w||(w=0);var I=Array(16);if(typeof v=="string")for(var C=0;16>C;++C)I[C]=v.charCodeAt(w++)|v.charCodeAt(w++)<<8|v.charCodeAt(w++)<<16|v.charCodeAt(w++)<<24;else for(C=0;16>C;++C)I[C]=v[w++]|v[w++]<<8|v[w++]<<16|v[w++]<<24;v=E.g[0],w=E.g[1],C=E.g[2];var A=E.g[3],_=v+(A^w&(C^A))+I[0]+3614090360&4294967295;v=w+(_<<7&4294967295|_>>>25),_=A+(C^v&(w^C))+I[1]+3905402710&4294967295,A=v+(_<<12&4294967295|_>>>20),_=C+(w^A&(v^w))+I[2]+606105819&4294967295,C=A+(_<<17&4294967295|_>>>15),_=w+(v^C&(A^v))+I[3]+3250441966&4294967295,w=C+(_<<22&4294967295|_>>>10),_=v+(A^w&(C^A))+I[4]+4118548399&4294967295,v=w+(_<<7&4294967295|_>>>25),_=A+(C^v&(w^C))+I[5]+1200080426&4294967295,A=v+(_<<12&4294967295|_>>>20),_=C+(w^A&(v^w))+I[6]+2821735955&4294967295,C=A+(_<<17&4294967295|_>>>15),_=w+(v^C&(A^v))+I[7]+4249261313&4294967295,w=C+(_<<22&4294967295|_>>>10),_=v+(A^w&(C^A))+I[8]+1770035416&4294967295,v=w+(_<<7&4294967295|_>>>25),_=A+(C^v&(w^C))+I[9]+2336552879&4294967295,A=v+(_<<12&4294967295|_>>>20),_=C+(w^A&(v^w))+I[10]+4294925233&4294967295,C=A+(_<<17&4294967295|_>>>15),_=w+(v^C&(A^v))+I[11]+2304563134&4294967295,w=C+(_<<22&4294967295|_>>>10),_=v+(A^w&(C^A))+I[12]+1804603682&4294967295,v=w+(_<<7&4294967295|_>>>25),_=A+(C^v&(w^C))+I[13]+4254626195&4294967295,A=v+(_<<12&4294967295|_>>>20),_=C+(w^A&(v^w))+I[14]+2792965006&4294967295,C=A+(_<<17&4294967295|_>>>15),_=w+(v^C&(A^v))+I[15]+1236535329&4294967295,w=C+(_<<22&4294967295|_>>>10),_=v+(C^A&(w^C))+I[1]+4129170786&4294967295,v=w+(_<<5&4294967295|_>>>27),_=A+(w^C&(v^w))+I[6]+3225465664&4294967295,A=v+(_<<9&4294967295|_>>>23),_=C+(v^w&(A^v))+I[11]+643717713&4294967295,C=A+(_<<14&4294967295|_>>>18),_=w+(A^v&(C^A))+I[0]+3921069994&4294967295,w=C+(_<<20&4294967295|_>>>12),_=v+(C^A&(w^C))+I[5]+3593408605&4294967295,v=w+(_<<5&4294967295|_>>>27),_=A+(w^C&(v^w))+I[10]+38016083&4294967295,A=v+(_<<9&4294967295|_>>>23),_=C+(v^w&(A^v))+I[15]+3634488961&4294967295,C=A+(_<<14&4294967295|_>>>18),_=w+(A^v&(C^A))+I[4]+3889429448&4294967295,w=C+(_<<20&4294967295|_>>>12),_=v+(C^A&(w^C))+I[9]+568446438&4294967295,v=w+(_<<5&4294967295|_>>>27),_=A+(w^C&(v^w))+I[14]+3275163606&4294967295,A=v+(_<<9&4294967295|_>>>23),_=C+(v^w&(A^v))+I[3]+4107603335&4294967295,C=A+(_<<14&4294967295|_>>>18),_=w+(A^v&(C^A))+I[8]+1163531501&4294967295,w=C+(_<<20&4294967295|_>>>12),_=v+(C^A&(w^C))+I[13]+2850285829&4294967295,v=w+(_<<5&4294967295|_>>>27),_=A+(w^C&(v^w))+I[2]+4243563512&4294967295,A=v+(_<<9&4294967295|_>>>23),_=C+(v^w&(A^v))+I[7]+1735328473&4294967295,C=A+(_<<14&4294967295|_>>>18),_=w+(A^v&(C^A))+I[12]+2368359562&4294967295,w=C+(_<<20&4294967295|_>>>12),_=v+(w^C^A)+I[5]+4294588738&4294967295,v=w+(_<<4&4294967295|_>>>28),_=A+(v^w^C)+I[8]+2272392833&4294967295,A=v+(_<<11&4294967295|_>>>21),_=C+(A^v^w)+I[11]+1839030562&4294967295,C=A+(_<<16&4294967295|_>>>16),_=w+(C^A^v)+I[14]+4259657740&4294967295,w=C+(_<<23&4294967295|_>>>9),_=v+(w^C^A)+I[1]+2763975236&4294967295,v=w+(_<<4&4294967295|_>>>28),_=A+(v^w^C)+I[4]+1272893353&4294967295,A=v+(_<<11&4294967295|_>>>21),_=C+(A^v^w)+I[7]+4139469664&4294967295,C=A+(_<<16&4294967295|_>>>16),_=w+(C^A^v)+I[10]+3200236656&4294967295,w=C+(_<<23&4294967295|_>>>9),_=v+(w^C^A)+I[13]+681279174&4294967295,v=w+(_<<4&4294967295|_>>>28),_=A+(v^w^C)+I[0]+3936430074&4294967295,A=v+(_<<11&4294967295|_>>>21),_=C+(A^v^w)+I[3]+3572445317&4294967295,C=A+(_<<16&4294967295|_>>>16),_=w+(C^A^v)+I[6]+76029189&4294967295,w=C+(_<<23&4294967295|_>>>9),_=v+(w^C^A)+I[9]+3654602809&4294967295,v=w+(_<<4&4294967295|_>>>28),_=A+(v^w^C)+I[12]+3873151461&4294967295,A=v+(_<<11&4294967295|_>>>21),_=C+(A^v^w)+I[15]+530742520&4294967295,C=A+(_<<16&4294967295|_>>>16),_=w+(C^A^v)+I[2]+3299628645&4294967295,w=C+(_<<23&4294967295|_>>>9),_=v+(C^(w|~A))+I[0]+4096336452&4294967295,v=w+(_<<6&4294967295|_>>>26),_=A+(w^(v|~C))+I[7]+1126891415&4294967295,A=v+(_<<10&4294967295|_>>>22),_=C+(v^(A|~w))+I[14]+2878612391&4294967295,C=A+(_<<15&4294967295|_>>>17),_=w+(A^(C|~v))+I[5]+4237533241&4294967295,w=C+(_<<21&4294967295|_>>>11),_=v+(C^(w|~A))+I[12]+1700485571&4294967295,v=w+(_<<6&4294967295|_>>>26),_=A+(w^(v|~C))+I[3]+2399980690&4294967295,A=v+(_<<10&4294967295|_>>>22),_=C+(v^(A|~w))+I[10]+4293915773&4294967295,C=A+(_<<15&4294967295|_>>>17),_=w+(A^(C|~v))+I[1]+2240044497&4294967295,w=C+(_<<21&4294967295|_>>>11),_=v+(C^(w|~A))+I[8]+1873313359&4294967295,v=w+(_<<6&4294967295|_>>>26),_=A+(w^(v|~C))+I[15]+4264355552&4294967295,A=v+(_<<10&4294967295|_>>>22),_=C+(v^(A|~w))+I[6]+2734768916&4294967295,C=A+(_<<15&4294967295|_>>>17),_=w+(A^(C|~v))+I[13]+1309151649&4294967295,w=C+(_<<21&4294967295|_>>>11),_=v+(C^(w|~A))+I[4]+4149444226&4294967295,v=w+(_<<6&4294967295|_>>>26),_=A+(w^(v|~C))+I[11]+3174756917&4294967295,A=v+(_<<10&4294967295|_>>>22),_=C+(v^(A|~w))+I[2]+718787259&4294967295,C=A+(_<<15&4294967295|_>>>17),_=w+(A^(C|~v))+I[9]+3951481745&4294967295,E.g[0]=E.g[0]+v&4294967295,E.g[1]=E.g[1]+(C+(_<<21&4294967295|_>>>11))&4294967295,E.g[2]=E.g[2]+C&4294967295,E.g[3]=E.g[3]+A&4294967295}r.prototype.u=function(E,v){v===void 0&&(v=E.length);for(var w=v-this.blockSize,I=this.B,C=this.h,A=0;A<v;){if(C==0)for(;A<=w;)i(this,E,A),A+=this.blockSize;if(typeof E=="string"){for(;A<v;)if(I[C++]=E.charCodeAt(A++),C==this.blockSize){i(this,I),C=0;break}}else for(;A<v;)if(I[C++]=E[A++],C==this.blockSize){i(this,I),C=0;break}}this.h=C,this.o+=v},r.prototype.v=function(){var E=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);E[0]=128;for(var v=1;v<E.length-8;++v)E[v]=0;var w=8*this.o;for(v=E.length-8;v<E.length;++v)E[v]=w&255,w/=256;for(this.u(E),E=Array(16),v=w=0;4>v;++v)for(var I=0;32>I;I+=8)E[w++]=this.g[v]>>>I&255;return E};function o(E,v){var w=a;return Object.prototype.hasOwnProperty.call(w,E)?w[E]:w[E]=v(E)}function s(E,v){this.h=v;for(var w=[],I=!0,C=E.length-1;0<=C;C--){var A=E[C]|0;I&&A==v||(w[C]=A,I=!1)}this.g=w}var a={};function u(E){return-128<=E&&128>E?o(E,function(v){return new s([v|0],0>v?-1:0)}):new s([E|0],0>E?-1:0)}function c(E){if(isNaN(E)||!isFinite(E))return f;if(0>E)return T(c(-E));for(var v=[],w=1,I=0;E>=w;I++)v[I]=E/w|0,w*=4294967296;return new s(v,0)}function h(E,v){if(E.length==0)throw Error("number format error: empty string");if(v=v||10,2>v||36<v)throw Error("radix out of range: "+v);if(E.charAt(0)=="-")return T(h(E.substring(1),v));if(0<=E.indexOf("-"))throw Error('number format error: interior "-" character');for(var w=c(Math.pow(v,8)),I=f,C=0;C<E.length;C+=8){var A=Math.min(8,E.length-C),_=parseInt(E.substring(C,C+A),v);8>A?(A=c(Math.pow(v,A)),I=I.j(A).add(c(_))):(I=I.j(w),I=I.add(c(_)))}return I}var f=u(0),m=u(1),y=u(16777216);n=s.prototype,n.m=function(){if(D(this))return-T(this).m();for(var E=0,v=1,w=0;w<this.g.length;w++){var I=this.i(w);E+=(0<=I?I:4294967296+I)*v,v*=4294967296}return E},n.toString=function(E){if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(S(this))return"0";if(D(this))return"-"+T(this).toString(E);for(var v=c(Math.pow(E,6)),w=this,I="";;){var C=J(w,v).g;w=L(w,C.j(v));var A=((0<w.g.length?w.g[0]:w.h)>>>0).toString(E);if(w=C,S(w))return A+I;for(;6>A.length;)A="0"+A;I=A+I}},n.i=function(E){return 0>E?0:E<this.g.length?this.g[E]:this.h};function S(E){if(E.h!=0)return!1;for(var v=0;v<E.g.length;v++)if(E.g[v]!=0)return!1;return!0}function D(E){return E.h==-1}n.l=function(E){return E=L(this,E),D(E)?-1:S(E)?0:1};function T(E){for(var v=E.g.length,w=[],I=0;I<v;I++)w[I]=~E.g[I];return new s(w,~E.h).add(m)}n.abs=function(){return D(this)?T(this):this},n.add=function(E){for(var v=Math.max(this.g.length,E.g.length),w=[],I=0,C=0;C<=v;C++){var A=I+(this.i(C)&65535)+(E.i(C)&65535),_=(A>>>16)+(this.i(C)>>>16)+(E.i(C)>>>16);I=_>>>16,A&=65535,_&=65535,w[C]=_<<16|A}return new s(w,w[w.length-1]&-2147483648?-1:0)};function L(E,v){return E.add(T(v))}n.j=function(E){if(S(this)||S(E))return f;if(D(this))return D(E)?T(this).j(T(E)):T(T(this).j(E));if(D(E))return T(this.j(T(E)));if(0>this.l(y)&&0>E.l(y))return c(this.m()*E.m());for(var v=this.g.length+E.g.length,w=[],I=0;I<2*v;I++)w[I]=0;for(I=0;I<this.g.length;I++)for(var C=0;C<E.g.length;C++){var A=this.i(I)>>>16,_=this.i(I)&65535,br=E.i(C)>>>16,Ya=E.i(C)&65535;w[2*I+2*C]+=_*Ya,K(w,2*I+2*C),w[2*I+2*C+1]+=A*Ya,K(w,2*I+2*C+1),w[2*I+2*C+1]+=_*br,K(w,2*I+2*C+1),w[2*I+2*C+2]+=A*br,K(w,2*I+2*C+2)}for(I=0;I<v;I++)w[I]=w[2*I+1]<<16|w[2*I];for(I=v;I<2*v;I++)w[I]=0;return new s(w,0)};function K(E,v){for(;(E[v]&65535)!=E[v];)E[v+1]+=E[v]>>>16,E[v]&=65535,v++}function F(E,v){this.g=E,this.h=v}function J(E,v){if(S(v))throw Error("division by zero");if(S(E))return new F(f,f);if(D(E))return v=J(T(E),v),new F(T(v.g),T(v.h));if(D(v))return v=J(E,T(v)),new F(T(v.g),v.h);if(30<E.g.length){if(D(E)||D(v))throw Error("slowDivide_ only works with positive integers.");for(var w=m,I=v;0>=I.l(E);)w=oe(w),I=oe(I);var C=ne(w,1),A=ne(I,1);for(I=ne(I,2),w=ne(w,2);!S(I);){var _=A.add(I);0>=_.l(E)&&(C=C.add(w),A=_),I=ne(I,1),w=ne(w,1)}return v=L(E,C.j(v)),new F(C,v)}for(C=f;0<=E.l(v);){for(w=Math.max(1,Math.floor(E.m()/v.m())),I=Math.ceil(Math.log(w)/Math.LN2),I=48>=I?1:Math.pow(2,I-48),A=c(w),_=A.j(v);D(_)||0<_.l(E);)w-=I,A=c(w),_=A.j(v);S(A)&&(A=m),C=C.add(A),E=L(E,_)}return new F(C,E)}n.A=function(E){return J(this,E).h},n.and=function(E){for(var v=Math.max(this.g.length,E.g.length),w=[],I=0;I<v;I++)w[I]=this.i(I)&E.i(I);return new s(w,this.h&E.h)},n.or=function(E){for(var v=Math.max(this.g.length,E.g.length),w=[],I=0;I<v;I++)w[I]=this.i(I)|E.i(I);return new s(w,this.h|E.h)},n.xor=function(E){for(var v=Math.max(this.g.length,E.g.length),w=[],I=0;I<v;I++)w[I]=this.i(I)^E.i(I);return new s(w,this.h^E.h)};function oe(E){for(var v=E.g.length+1,w=[],I=0;I<v;I++)w[I]=E.i(I)<<1|E.i(I-1)>>>31;return new s(w,E.h)}function ne(E,v){var w=v>>5;v%=32;for(var I=E.g.length-w,C=[],A=0;A<I;A++)C[A]=0<v?E.i(A+w)>>>v|E.i(A+w+1)<<32-v:E.i(A+w);return new s(C,E.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,A_=BA.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=c,s.fromString=h,Pi=BA.Integer=s}).apply(typeof UA<"u"?UA:typeof self<"u"?self:typeof window<"u"?window:{});var Rf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},zr={};var x_,HB,ua,M_,Pl,Nf,R_,N_,P_;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(l,d,p){return l==Array.prototype||l==Object.prototype||(l[d]=p.value),l};function t(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof Rf=="object"&&Rf];for(var d=0;d<l.length;++d){var p=l[d];if(p&&p.Math==Math)return p}throw Error("Cannot find global object")}var r=t(this);function i(l,d){if(d)e:{var p=r;l=l.split(".");for(var g=0;g<l.length-1;g++){var b=l[g];if(!(b in p))break e;p=p[b]}l=l[l.length-1],g=p[l],d=d(g),d!=g&&d!=null&&e(p,l,{configurable:!0,writable:!0,value:d})}}function o(l,d){l instanceof String&&(l+="");var p=0,g=!1,b={next:function(){if(!g&&p<l.length){var M=p++;return{value:d(M,l[M]),done:!1}}return g=!0,{done:!0,value:void 0}}};return b[Symbol.iterator]=function(){return b},b}i("Array.prototype.values",function(l){return l||function(){return o(this,function(d,p){return p})}});var s=s||{},a=this||self;function u(l){var d=typeof l;return d=d!="object"?d:l?Array.isArray(l)?"array":d:"null",d=="array"||d=="object"&&typeof l.length=="number"}function c(l){var d=typeof l;return d=="object"&&l!=null||d=="function"}function h(l,d,p){return l.call.apply(l.bind,arguments)}function f(l,d,p){if(!l)throw Error();if(2<arguments.length){var g=Array.prototype.slice.call(arguments,2);return function(){var b=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(b,g),l.apply(d,b)}}return function(){return l.apply(d,arguments)}}function m(l,d,p){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:f,m.apply(null,arguments)}function y(l,d){var p=Array.prototype.slice.call(arguments,1);return function(){var g=p.slice();return g.push.apply(g,arguments),l.apply(this,g)}}function S(l,d){function p(){}p.prototype=d.prototype,l.aa=d.prototype,l.prototype=new p,l.prototype.constructor=l,l.Qb=function(g,b,M){for(var $=Array(arguments.length-2),Fe=2;Fe<arguments.length;Fe++)$[Fe-2]=arguments[Fe];return d.prototype[b].apply(g,$)}}function D(l){let d=l.length;if(0<d){let p=Array(d);for(let g=0;g<d;g++)p[g]=l[g];return p}return[]}function T(l,d){for(let p=1;p<arguments.length;p++){let g=arguments[p];if(u(g)){let b=l.length||0,M=g.length||0;l.length=b+M;for(let $=0;$<M;$++)l[b+$]=g[$]}else l.push(g)}}class L{constructor(d,p){this.i=d,this.j=p,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function K(l){return/^[\s\xa0]*$/.test(l)}function F(){var l=a.navigator;return l&&(l=l.userAgent)?l:""}function J(l){return J[" "](l),l}J[" "]=function(){};var oe=F().indexOf("Gecko")!=-1&&!(F().toLowerCase().indexOf("webkit")!=-1&&F().indexOf("Edge")==-1)&&!(F().indexOf("Trident")!=-1||F().indexOf("MSIE")!=-1)&&F().indexOf("Edge")==-1;function ne(l,d,p){for(let g in l)d.call(p,l[g],g,l)}function E(l,d){for(let p in l)d.call(void 0,l[p],p,l)}function v(l){let d={};for(let p in l)d[p]=l[p];return d}let w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function I(l,d){let p,g;for(let b=1;b<arguments.length;b++){g=arguments[b];for(p in g)l[p]=g[p];for(let M=0;M<w.length;M++)p=w[M],Object.prototype.hasOwnProperty.call(g,p)&&(l[p]=g[p])}}function C(l){var d=1;l=l.split(":");let p=[];for(;0<d&&l.length;)p.push(l.shift()),d--;return l.length&&p.push(l.join(":")),p}function A(l){a.setTimeout(()=>{throw l},0)}function _(){var l=ng;let d=null;return l.g&&(d=l.g,l.g=l.g.next,l.g||(l.h=null),d.next=null),d}class br{constructor(){this.h=this.g=null}add(d,p){let g=Ya.get();g.set(d,p),this.h?this.h.next=g:this.g=g,this.h=g}}var Ya=new L(()=>new FR,l=>l.reset());class FR{constructor(){this.next=this.g=this.h=null}set(d,p){this.h=d,this.g=p,this.next=null}reset(){this.next=this.g=this.h=null}}let Za,Ja=!1,ng=new br,VE=()=>{let l=a.Promise.resolve(void 0);Za=()=>{l.then(OR)}};var OR=()=>{for(var l;l=_();){try{l.h.call(l.g)}catch(p){A(p)}var d=Ya;d.j(l),100>d.h&&(d.h++,l.next=d.g,d.g=l)}Ja=!1};function ti(){this.s=this.s,this.C=this.C}ti.prototype.s=!1,ti.prototype.ma=function(){this.s||(this.s=!0,this.N())},ti.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Nt(l,d){this.type=l,this.g=this.target=d,this.defaultPrevented=!1}Nt.prototype.h=function(){this.defaultPrevented=!0};var VR=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var l=!1,d=Object.defineProperty({},"passive",{get:function(){l=!0}});try{let p=()=>{};a.addEventListener("test",p,d),a.removeEventListener("test",p,d)}catch{}return l}();function Xa(l,d){if(Nt.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var p=this.type=l.type,g=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=d,d=l.relatedTarget){if(oe){e:{try{J(d.nodeName);var b=!0;break e}catch{}b=!1}b||(d=null)}}else p=="mouseover"?d=l.fromElement:p=="mouseout"&&(d=l.toElement);this.relatedTarget=d,g?(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=typeof l.pointerType=="string"?l.pointerType:LR[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&Xa.aa.h.call(this)}}S(Xa,Nt);var LR={2:"touch",3:"pen",4:"mouse"};Xa.prototype.h=function(){Xa.aa.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var eu="closure_listenable_"+(1e6*Math.random()|0),jR=0;function UR(l,d,p,g,b){this.listener=l,this.proxy=null,this.src=d,this.type=p,this.capture=!!g,this.ha=b,this.key=++jR,this.da=this.fa=!1}function Ic(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function Cc(l){this.src=l,this.g={},this.h=0}Cc.prototype.add=function(l,d,p,g,b){var M=l.toString();l=this.g[M],l||(l=this.g[M]=[],this.h++);var $=ig(l,d,g,b);return-1<$?(d=l[$],p||(d.fa=!1)):(d=new UR(d,this.src,M,!!g,b),d.fa=p,l.push(d)),d};function rg(l,d){var p=d.type;if(p in l.g){var g=l.g[p],b=Array.prototype.indexOf.call(g,d,void 0),M;(M=0<=b)&&Array.prototype.splice.call(g,b,1),M&&(Ic(d),l.g[p].length==0&&(delete l.g[p],l.h--))}}function ig(l,d,p,g){for(var b=0;b<l.length;++b){var M=l[b];if(!M.da&&M.listener==d&&M.capture==!!p&&M.ha==g)return b}return-1}var og="closure_lm_"+(1e6*Math.random()|0),sg={};function LE(l,d,p,g,b){if(g&&g.once)return UE(l,d,p,g,b);if(Array.isArray(d)){for(var M=0;M<d.length;M++)LE(l,d[M],p,g,b);return null}return p=cg(p),l&&l[eu]?l.K(d,p,c(g)?!!g.capture:!!g,b):jE(l,d,p,!1,g,b)}function jE(l,d,p,g,b,M){if(!d)throw Error("Invalid event type");var $=c(b)?!!b.capture:!!b,Fe=ug(l);if(Fe||(l[og]=Fe=new Cc(l)),p=Fe.add(d,p,g,$,M),p.proxy)return p;if(g=BR(),p.proxy=g,g.src=l,g.listener=p,l.addEventListener)VR||(b=$),b===void 0&&(b=!1),l.addEventListener(d.toString(),g,b);else if(l.attachEvent)l.attachEvent($E(d.toString()),g);else if(l.addListener&&l.removeListener)l.addListener(g);else throw Error("addEventListener and attachEvent are unavailable.");return p}function BR(){function l(p){return d.call(l.src,l.listener,p)}let d=$R;return l}function UE(l,d,p,g,b){if(Array.isArray(d)){for(var M=0;M<d.length;M++)UE(l,d[M],p,g,b);return null}return p=cg(p),l&&l[eu]?l.L(d,p,c(g)?!!g.capture:!!g,b):jE(l,d,p,!0,g,b)}function BE(l,d,p,g,b){if(Array.isArray(d))for(var M=0;M<d.length;M++)BE(l,d[M],p,g,b);else g=c(g)?!!g.capture:!!g,p=cg(p),l&&l[eu]?(l=l.i,d=String(d).toString(),d in l.g&&(M=l.g[d],p=ig(M,p,g,b),-1<p&&(Ic(M[p]),Array.prototype.splice.call(M,p,1),M.length==0&&(delete l.g[d],l.h--)))):l&&(l=ug(l))&&(d=l.g[d.toString()],l=-1,d&&(l=ig(d,p,g,b)),(p=-1<l?d[l]:null)&&ag(p))}function ag(l){if(typeof l!="number"&&l&&!l.da){var d=l.src;if(d&&d[eu])rg(d.i,l);else{var p=l.type,g=l.proxy;d.removeEventListener?d.removeEventListener(p,g,l.capture):d.detachEvent?d.detachEvent($E(p),g):d.addListener&&d.removeListener&&d.removeListener(g),(p=ug(d))?(rg(p,l),p.h==0&&(p.src=null,d[og]=null)):Ic(l)}}}function $E(l){return l in sg?sg[l]:sg[l]="on"+l}function $R(l,d){if(l.da)l=!0;else{d=new Xa(d,this);var p=l.listener,g=l.ha||l.src;l.fa&&ag(l),l=p.call(g,d)}return l}function ug(l){return l=l[og],l instanceof Cc?l:null}var lg="__closure_events_fn_"+(1e9*Math.random()>>>0);function cg(l){return typeof l=="function"?l:(l[lg]||(l[lg]=function(d){return l.handleEvent(d)}),l[lg])}function Pt(){ti.call(this),this.i=new Cc(this),this.M=this,this.F=null}S(Pt,ti),Pt.prototype[eu]=!0,Pt.prototype.removeEventListener=function(l,d,p,g){BE(this,l,d,p,g)};function qt(l,d){var p,g=l.F;if(g)for(p=[];g;g=g.F)p.push(g);if(l=l.M,g=d.type||d,typeof d=="string")d=new Nt(d,l);else if(d instanceof Nt)d.target=d.target||l;else{var b=d;d=new Nt(g,l),I(d,b)}if(b=!0,p)for(var M=p.length-1;0<=M;M--){var $=d.g=p[M];b=Dc($,g,!0,d)&&b}if($=d.g=l,b=Dc($,g,!0,d)&&b,b=Dc($,g,!1,d)&&b,p)for(M=0;M<p.length;M++)$=d.g=p[M],b=Dc($,g,!1,d)&&b}Pt.prototype.N=function(){if(Pt.aa.N.call(this),this.i){var l=this.i,d;for(d in l.g){for(var p=l.g[d],g=0;g<p.length;g++)Ic(p[g]);delete l.g[d],l.h--}}this.F=null},Pt.prototype.K=function(l,d,p,g){return this.i.add(String(l),d,!1,p,g)},Pt.prototype.L=function(l,d,p,g){return this.i.add(String(l),d,!0,p,g)};function Dc(l,d,p,g){if(d=l.i.g[String(d)],!d)return!0;d=d.concat();for(var b=!0,M=0;M<d.length;++M){var $=d[M];if($&&!$.da&&$.capture==p){var Fe=$.listener,Dt=$.ha||$.src;$.fa&&rg(l.i,$),b=Fe.call(Dt,g)!==!1&&b}}return b&&!g.defaultPrevented}function HE(l,d,p){if(typeof l=="function")p&&(l=m(l,p));else if(l&&typeof l.handleEvent=="function")l=m(l.handleEvent,l);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:a.setTimeout(l,d||0)}function qE(l){l.g=HE(()=>{l.g=null,l.i&&(l.i=!1,qE(l))},l.l);let d=l.h;l.h=null,l.m.apply(null,d)}class HR extends ti{constructor(d,p){super(),this.m=d,this.l=p,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:qE(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function tu(l){ti.call(this),this.h=l,this.g={}}S(tu,ti);var zE=[];function GE(l){ne(l.g,function(d,p){this.g.hasOwnProperty(p)&&ag(d)},l),l.g={}}tu.prototype.N=function(){tu.aa.N.call(this),GE(this)},tu.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var dg=a.JSON.stringify,qR=a.JSON.parse,zR=class{stringify(l){return a.JSON.stringify(l,void 0)}parse(l){return a.JSON.parse(l,void 0)}};function hg(){}hg.prototype.h=null;function WE(l){return l.h||(l.h=l.i())}function KE(){}var nu={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function fg(){Nt.call(this,"d")}S(fg,Nt);function pg(){Nt.call(this,"c")}S(pg,Nt);var eo={},QE=null;function bc(){return QE=QE||new Pt}eo.La="serverreachability";function YE(l){Nt.call(this,eo.La,l)}S(YE,Nt);function ru(l){let d=bc();qt(d,new YE(d))}eo.STAT_EVENT="statevent";function ZE(l,d){Nt.call(this,eo.STAT_EVENT,l),this.stat=d}S(ZE,Nt);function zt(l){let d=bc();qt(d,new ZE(d,l))}eo.Ma="timingevent";function JE(l,d){Nt.call(this,eo.Ma,l),this.size=d}S(JE,Nt);function iu(l,d){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){l()},d)}function ou(){this.g=!0}ou.prototype.xa=function(){this.g=!1};function GR(l,d,p,g,b,M){l.info(function(){if(l.g)if(M)for(var $="",Fe=M.split("&"),Dt=0;Dt<Fe.length;Dt++){var xe=Fe[Dt].split("=");if(1<xe.length){var kt=xe[0];xe=xe[1];var Ft=kt.split("_");$=2<=Ft.length&&Ft[1]=="type"?$+(kt+"="+xe+"&"):$+(kt+"=redacted&")}}else $=null;else $=M;return"XMLHTTP REQ ("+g+") [attempt "+b+"]: "+d+`
`+p+`
`+$})}function WR(l,d,p,g,b,M,$){l.info(function(){return"XMLHTTP RESP ("+g+") [ attempt "+b+"]: "+d+`
`+p+`
`+M+" "+$})}function ds(l,d,p,g){l.info(function(){return"XMLHTTP TEXT ("+d+"): "+QR(l,p)+(g?" "+g:"")})}function KR(l,d){l.info(function(){return"TIMEOUT: "+d})}ou.prototype.info=function(){};function QR(l,d){if(!l.g)return d;if(!d)return null;try{var p=JSON.parse(d);if(p){for(l=0;l<p.length;l++)if(Array.isArray(p[l])){var g=p[l];if(!(2>g.length)){var b=g[1];if(Array.isArray(b)&&!(1>b.length)){var M=b[0];if(M!="noop"&&M!="stop"&&M!="close")for(var $=1;$<b.length;$++)b[$]=""}}}}return dg(p)}catch{return d}}var Sc={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},XE={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},gg;function Tc(){}S(Tc,hg),Tc.prototype.g=function(){return new XMLHttpRequest},Tc.prototype.i=function(){return{}},gg=new Tc;function ni(l,d,p,g){this.j=l,this.i=d,this.l=p,this.R=g||1,this.U=new tu(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new eI}function eI(){this.i=null,this.g="",this.h=!1}var tI={},mg={};function yg(l,d,p){l.L=1,l.v=Rc(Sr(d)),l.m=p,l.P=!0,nI(l,null)}function nI(l,d){l.F=Date.now(),Ac(l),l.A=Sr(l.v);var p=l.A,g=l.R;Array.isArray(g)||(g=[String(g)]),mI(p.i,"t",g),l.C=0,p=l.j.J,l.h=new eI,l.g=kI(l.j,p?d:null,!l.m),0<l.O&&(l.M=new HR(m(l.Y,l,l.g),l.O)),d=l.U,p=l.g,g=l.ca;var b="readystatechange";Array.isArray(b)||(b&&(zE[0]=b.toString()),b=zE);for(var M=0;M<b.length;M++){var $=LE(p,b[M],g||d.handleEvent,!1,d.h||d);if(!$)break;d.g[$.key]=$}d=l.H?v(l.H):{},l.m?(l.u||(l.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.A,l.u,l.m,d)):(l.u="GET",l.g.ea(l.A,l.u,null,d)),ru(),GR(l.i,l.u,l.A,l.l,l.R,l.m)}ni.prototype.ca=function(l){l=l.target;let d=this.M;d&&Tr(l)==3?d.j():this.Y(l)},ni.prototype.Y=function(l){try{if(l==this.g)e:{let Ft=Tr(this.g);var d=this.g.Ba();let ps=this.g.Z();if(!(3>Ft)&&(Ft!=3||this.g&&(this.h.h||this.g.oa()||CI(this.g)))){this.J||Ft!=4||d==7||(d==8||0>=ps?ru(3):ru(2)),vg(this);var p=this.g.Z();this.X=p;t:if(rI(this)){var g=CI(this.g);l="";var b=g.length,M=Tr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){to(this),su(this);var $="";break t}this.h.i=new a.TextDecoder}for(d=0;d<b;d++)this.h.h=!0,l+=this.h.i.decode(g[d],{stream:!(M&&d==b-1)});g.length=0,this.h.g+=l,this.C=0,$=this.h.g}else $=this.g.oa();if(this.o=p==200,WR(this.i,this.u,this.A,this.l,this.R,Ft,p),this.o){if(this.T&&!this.K){t:{if(this.g){var Fe,Dt=this.g;if((Fe=Dt.g?Dt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!K(Fe)){var xe=Fe;break t}}xe=null}if(p=xe)ds(this.i,this.l,p,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,_g(this,p);else{this.o=!1,this.s=3,zt(12),to(this),su(this);break e}}if(this.P){p=!0;let Nn;for(;!this.J&&this.C<$.length;)if(Nn=YR(this,$),Nn==mg){Ft==4&&(this.s=4,zt(14),p=!1),ds(this.i,this.l,null,"[Incomplete Response]");break}else if(Nn==tI){this.s=4,zt(15),ds(this.i,this.l,$,"[Invalid Chunk]"),p=!1;break}else ds(this.i,this.l,Nn,null),_g(this,Nn);if(rI(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ft!=4||$.length!=0||this.h.h||(this.s=1,zt(16),p=!1),this.o=this.o&&p,!p)ds(this.i,this.l,$,"[Invalid Chunked Response]"),to(this),su(this);else if(0<$.length&&!this.W){this.W=!0;var kt=this.j;kt.g==this&&kt.ba&&!kt.M&&(kt.j.info("Great, no buffering proxy detected. Bytes received: "+$.length),bg(kt),kt.M=!0,zt(11))}}else ds(this.i,this.l,$,null),_g(this,$);Ft==4&&to(this),this.o&&!this.J&&(Ft==4?MI(this.j,this):(this.o=!1,Ac(this)))}else fN(this.g),p==400&&0<$.indexOf("Unknown SID")?(this.s=3,zt(12)):(this.s=0,zt(13)),to(this),su(this)}}}catch{}finally{}};function rI(l){return l.g?l.u=="GET"&&l.L!=2&&l.j.Ca:!1}function YR(l,d){var p=l.C,g=d.indexOf(`
`,p);return g==-1?mg:(p=Number(d.substring(p,g)),isNaN(p)?tI:(g+=1,g+p>d.length?mg:(d=d.slice(g,g+p),l.C=g+p,d)))}ni.prototype.cancel=function(){this.J=!0,to(this)};function Ac(l){l.S=Date.now()+l.I,iI(l,l.I)}function iI(l,d){if(l.B!=null)throw Error("WatchDog timer not null");l.B=iu(m(l.ba,l),d)}function vg(l){l.B&&(a.clearTimeout(l.B),l.B=null)}ni.prototype.ba=function(){this.B=null;let l=Date.now();0<=l-this.S?(KR(this.i,this.A),this.L!=2&&(ru(),zt(17)),to(this),this.s=2,su(this)):iI(this,this.S-l)};function su(l){l.j.G==0||l.J||MI(l.j,l)}function to(l){vg(l);var d=l.M;d&&typeof d.ma=="function"&&d.ma(),l.M=null,GE(l.U),l.g&&(d=l.g,l.g=null,d.abort(),d.ma())}function _g(l,d){try{var p=l.j;if(p.G!=0&&(p.g==l||wg(p.h,l))){if(!l.K&&wg(p.h,l)&&p.G==3){try{var g=p.Da.g.parse(d)}catch{g=null}if(Array.isArray(g)&&g.length==3){var b=g;if(b[0]==0){e:if(!p.u){if(p.g)if(p.g.F+3e3<l.F)Oc(p),kc(p);else break e;Dg(p),zt(18)}}else p.za=b[1],0<p.za-p.T&&37500>b[2]&&p.F&&p.v==0&&!p.C&&(p.C=iu(m(p.Za,p),6e3));if(1>=aI(p.h)&&p.ca){try{p.ca()}catch{}p.ca=void 0}}else ro(p,11)}else if((l.K||p.g==l)&&Oc(p),!K(d))for(b=p.Da.g.parse(d),d=0;d<b.length;d++){let xe=b[d];if(p.T=xe[0],xe=xe[1],p.G==2)if(xe[0]=="c"){p.K=xe[1],p.ia=xe[2];let kt=xe[3];kt!=null&&(p.la=kt,p.j.info("VER="+p.la));let Ft=xe[4];Ft!=null&&(p.Aa=Ft,p.j.info("SVER="+p.Aa));let ps=xe[5];ps!=null&&typeof ps=="number"&&0<ps&&(g=1.5*ps,p.L=g,p.j.info("backChannelRequestTimeoutMs_="+g)),g=p;let Nn=l.g;if(Nn){let Lc=Nn.g?Nn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Lc){var M=g.h;M.g||Lc.indexOf("spdy")==-1&&Lc.indexOf("quic")==-1&&Lc.indexOf("h2")==-1||(M.j=M.l,M.g=new Set,M.h&&(Eg(M,M.h),M.h=null))}if(g.D){let Sg=Nn.g?Nn.g.getResponseHeader("X-HTTP-Session-Id"):null;Sg&&(g.ya=Sg,Be(g.I,g.D,Sg))}}p.G=3,p.l&&p.l.ua(),p.ba&&(p.R=Date.now()-l.F,p.j.info("Handshake RTT: "+p.R+"ms")),g=p;var $=l;if(g.qa=PI(g,g.J?g.ia:null,g.W),$.K){uI(g.h,$);var Fe=$,Dt=g.L;Dt&&(Fe.I=Dt),Fe.B&&(vg(Fe),Ac(Fe)),g.g=$}else AI(g);0<p.i.length&&Fc(p)}else xe[0]!="stop"&&xe[0]!="close"||ro(p,7);else p.G==3&&(xe[0]=="stop"||xe[0]=="close"?xe[0]=="stop"?ro(p,7):Cg(p):xe[0]!="noop"&&p.l&&p.l.ta(xe),p.v=0)}}ru(4)}catch{}}var ZR=class{constructor(l,d){this.g=l,this.map=d}};function oI(l){this.l=l||10,a.PerformanceNavigationTiming?(l=a.performance.getEntriesByType("navigation"),l=0<l.length&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function sI(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function aI(l){return l.h?1:l.g?l.g.size:0}function wg(l,d){return l.h?l.h==d:l.g?l.g.has(d):!1}function Eg(l,d){l.g?l.g.add(d):l.h=d}function uI(l,d){l.h&&l.h==d?l.h=null:l.g&&l.g.has(d)&&l.g.delete(d)}oI.prototype.cancel=function(){if(this.i=lI(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let l of this.g.values())l.cancel();this.g.clear()}};function lI(l){if(l.h!=null)return l.i.concat(l.h.D);if(l.g!=null&&l.g.size!==0){let d=l.i;for(let p of l.g.values())d=d.concat(p.D);return d}return D(l.i)}function JR(l){if(l.V&&typeof l.V=="function")return l.V();if(typeof Map<"u"&&l instanceof Map||typeof Set<"u"&&l instanceof Set)return Array.from(l.values());if(typeof l=="string")return l.split("");if(u(l)){for(var d=[],p=l.length,g=0;g<p;g++)d.push(l[g]);return d}d=[],p=0;for(g in l)d[p++]=l[g];return d}function XR(l){if(l.na&&typeof l.na=="function")return l.na();if(!l.V||typeof l.V!="function"){if(typeof Map<"u"&&l instanceof Map)return Array.from(l.keys());if(!(typeof Set<"u"&&l instanceof Set)){if(u(l)||typeof l=="string"){var d=[];l=l.length;for(var p=0;p<l;p++)d.push(p);return d}d=[],p=0;for(let g in l)d[p++]=g;return d}}}function cI(l,d){if(l.forEach&&typeof l.forEach=="function")l.forEach(d,void 0);else if(u(l)||typeof l=="string")Array.prototype.forEach.call(l,d,void 0);else for(var p=XR(l),g=JR(l),b=g.length,M=0;M<b;M++)d.call(void 0,g[M],p&&p[M],l)}var dI=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function eN(l,d){if(l){l=l.split("&");for(var p=0;p<l.length;p++){var g=l[p].indexOf("="),b=null;if(0<=g){var M=l[p].substring(0,g);b=l[p].substring(g+1)}else M=l[p];d(M,b?decodeURIComponent(b.replace(/\+/g," ")):"")}}}function no(l){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,l instanceof no){this.h=l.h,xc(this,l.j),this.o=l.o,this.g=l.g,Mc(this,l.s),this.l=l.l;var d=l.i,p=new lu;p.i=d.i,d.g&&(p.g=new Map(d.g),p.h=d.h),hI(this,p),this.m=l.m}else l&&(d=String(l).match(dI))?(this.h=!1,xc(this,d[1]||"",!0),this.o=au(d[2]||""),this.g=au(d[3]||"",!0),Mc(this,d[4]),this.l=au(d[5]||"",!0),hI(this,d[6]||"",!0),this.m=au(d[7]||"")):(this.h=!1,this.i=new lu(null,this.h))}no.prototype.toString=function(){var l=[],d=this.j;d&&l.push(uu(d,fI,!0),":");var p=this.g;return(p||d=="file")&&(l.push("//"),(d=this.o)&&l.push(uu(d,fI,!0),"@"),l.push(encodeURIComponent(String(p)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p=this.s,p!=null&&l.push(":",String(p))),(p=this.l)&&(this.g&&p.charAt(0)!="/"&&l.push("/"),l.push(uu(p,p.charAt(0)=="/"?rN:nN,!0))),(p=this.i.toString())&&l.push("?",p),(p=this.m)&&l.push("#",uu(p,oN)),l.join("")};function Sr(l){return new no(l)}function xc(l,d,p){l.j=p?au(d,!0):d,l.j&&(l.j=l.j.replace(/:$/,""))}function Mc(l,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);l.s=d}else l.s=null}function hI(l,d,p){d instanceof lu?(l.i=d,sN(l.i,l.h)):(p||(d=uu(d,iN)),l.i=new lu(d,l.h))}function Be(l,d,p){l.i.set(d,p)}function Rc(l){return Be(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function au(l,d){return l?d?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function uu(l,d,p){return typeof l=="string"?(l=encodeURI(l).replace(d,tN),p&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function tN(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var fI=/[#\/\?@]/g,nN=/[#\?:]/g,rN=/[#\?]/g,iN=/[#\?@]/g,oN=/#/g;function lu(l,d){this.h=this.g=null,this.i=l||null,this.j=!!d}function ri(l){l.g||(l.g=new Map,l.h=0,l.i&&eN(l.i,function(d,p){l.add(decodeURIComponent(d.replace(/\+/g," ")),p)}))}n=lu.prototype,n.add=function(l,d){ri(this),this.i=null,l=hs(this,l);var p=this.g.get(l);return p||this.g.set(l,p=[]),p.push(d),this.h+=1,this};function pI(l,d){ri(l),d=hs(l,d),l.g.has(d)&&(l.i=null,l.h-=l.g.get(d).length,l.g.delete(d))}function gI(l,d){return ri(l),d=hs(l,d),l.g.has(d)}n.forEach=function(l,d){ri(this),this.g.forEach(function(p,g){p.forEach(function(b){l.call(d,b,g,this)},this)},this)},n.na=function(){ri(this);let l=Array.from(this.g.values()),d=Array.from(this.g.keys()),p=[];for(let g=0;g<d.length;g++){let b=l[g];for(let M=0;M<b.length;M++)p.push(d[g])}return p},n.V=function(l){ri(this);let d=[];if(typeof l=="string")gI(this,l)&&(d=d.concat(this.g.get(hs(this,l))));else{l=Array.from(this.g.values());for(let p=0;p<l.length;p++)d=d.concat(l[p])}return d},n.set=function(l,d){return ri(this),this.i=null,l=hs(this,l),gI(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[d]),this.h+=1,this},n.get=function(l,d){return l?(l=this.V(l),0<l.length?String(l[0]):d):d};function mI(l,d,p){pI(l,d),0<p.length&&(l.i=null,l.g.set(hs(l,d),D(p)),l.h+=p.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";let l=[],d=Array.from(this.g.keys());for(var p=0;p<d.length;p++){var g=d[p];let M=encodeURIComponent(String(g)),$=this.V(g);for(g=0;g<$.length;g++){var b=M;$[g]!==""&&(b+="="+encodeURIComponent(String($[g]))),l.push(b)}}return this.i=l.join("&")};function hs(l,d){return d=String(d),l.j&&(d=d.toLowerCase()),d}function sN(l,d){d&&!l.j&&(ri(l),l.i=null,l.g.forEach(function(p,g){var b=g.toLowerCase();g!=b&&(pI(this,g),mI(this,b,p))},l)),l.j=d}function aN(l,d){let p=new ou;if(a.Image){let g=new Image;g.onload=y(ii,p,"TestLoadImage: loaded",!0,d,g),g.onerror=y(ii,p,"TestLoadImage: error",!1,d,g),g.onabort=y(ii,p,"TestLoadImage: abort",!1,d,g),g.ontimeout=y(ii,p,"TestLoadImage: timeout",!1,d,g),a.setTimeout(function(){g.ontimeout&&g.ontimeout()},1e4),g.src=l}else d(!1)}function uN(l,d){let p=new ou,g=new AbortController,b=setTimeout(()=>{g.abort(),ii(p,"TestPingServer: timeout",!1,d)},1e4);fetch(l,{signal:g.signal}).then(M=>{clearTimeout(b),M.ok?ii(p,"TestPingServer: ok",!0,d):ii(p,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(b),ii(p,"TestPingServer: error",!1,d)})}function ii(l,d,p,g,b){try{b&&(b.onload=null,b.onerror=null,b.onabort=null,b.ontimeout=null),g(p)}catch{}}function lN(){this.g=new zR}function cN(l,d,p){let g=p||"";try{cI(l,function(b,M){let $=b;c(b)&&($=dg(b)),d.push(g+M+"="+encodeURIComponent($))})}catch(b){throw d.push(g+"type="+encodeURIComponent("_badmap")),b}}function cu(l){this.l=l.Ub||null,this.j=l.eb||!1}S(cu,hg),cu.prototype.g=function(){return new Nc(this.l,this.j)},cu.prototype.i=function(l){return function(){return l}}({});function Nc(l,d){Pt.call(this),this.D=l,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}S(Nc,Pt),n=Nc.prototype,n.open=function(l,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=l,this.A=d,this.readyState=1,hu(this)},n.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};l&&(d.body=l),(this.D||a).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,du(this)),this.readyState=0},n.Sa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,hu(this)),this.g&&(this.readyState=3,hu(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;yI(this)}else l.text().then(this.Ra.bind(this),this.ga.bind(this))};function yI(l){l.j.read().then(l.Pa.bind(l)).catch(l.ga.bind(l))}n.Pa=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var d=l.value?l.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!l.done}))&&(this.response=this.responseText+=d)}l.done?du(this):hu(this),this.readyState==3&&yI(this)}},n.Ra=function(l){this.g&&(this.response=this.responseText=l,du(this))},n.Qa=function(l){this.g&&(this.response=l,du(this))},n.ga=function(){this.g&&du(this)};function du(l){l.readyState=4,l.l=null,l.j=null,l.v=null,hu(l)}n.setRequestHeader=function(l,d){this.u.append(l,d)},n.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";let l=[],d=this.h.entries();for(var p=d.next();!p.done;)p=p.value,l.push(p[0]+": "+p[1]),p=d.next();return l.join(`\r
`)};function hu(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(Nc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function vI(l){let d="";return ne(l,function(p,g){d+=g,d+=":",d+=p,d+=`\r
`}),d}function Ig(l,d,p){e:{for(g in p){var g=!1;break e}g=!0}g||(p=vI(p),typeof l=="string"?p!=null&&encodeURIComponent(String(p)):Be(l,d,p))}function Je(l){Pt.call(this),this.headers=new Map,this.o=l||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}S(Je,Pt);var dN=/^https?$/i,hN=["POST","PUT"];n=Je.prototype,n.Ha=function(l){this.J=l},n.ea=function(l,d,p,g){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);d=d?d.toUpperCase():"GET",this.D=l,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():gg.g(),this.v=this.o?WE(this.o):WE(gg),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(d,String(l),!0),this.B=!1}catch(M){_I(this,M);return}if(l=p||"",p=new Map(this.headers),g)if(Object.getPrototypeOf(g)===Object.prototype)for(var b in g)p.set(b,g[b]);else if(typeof g.keys=="function"&&typeof g.get=="function")for(let M of g.keys())p.set(M,g.get(M));else throw Error("Unknown input type for opt_headers: "+String(g));g=Array.from(p.keys()).find(M=>M.toLowerCase()=="content-type"),b=a.FormData&&l instanceof a.FormData,!(0<=Array.prototype.indexOf.call(hN,d,void 0))||g||b||p.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[M,$]of p)this.g.setRequestHeader(M,$);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{II(this),this.u=!0,this.g.send(l),this.u=!1}catch(M){_I(this,M)}};function _I(l,d){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=d,l.m=5,wI(l),Pc(l)}function wI(l){l.A||(l.A=!0,qt(l,"complete"),qt(l,"error"))}n.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=l||7,qt(this,"complete"),qt(this,"abort"),Pc(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Pc(this,!0)),Je.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?EI(this):this.bb())},n.bb=function(){EI(this)};function EI(l){if(l.h&&typeof s<"u"&&(!l.v[1]||Tr(l)!=4||l.Z()!=2)){if(l.u&&Tr(l)==4)HE(l.Ea,0,l);else if(qt(l,"readystatechange"),Tr(l)==4){l.h=!1;try{let $=l.Z();e:switch($){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var p;if(!(p=d)){var g;if(g=$===0){var b=String(l.D).match(dI)[1]||null;!b&&a.self&&a.self.location&&(b=a.self.location.protocol.slice(0,-1)),g=!dN.test(b?b.toLowerCase():"")}p=g}if(p)qt(l,"complete"),qt(l,"success");else{l.m=6;try{var M=2<Tr(l)?l.g.statusText:""}catch{M=""}l.l=M+" ["+l.Z()+"]",wI(l)}}finally{Pc(l)}}}}function Pc(l,d){if(l.g){II(l);let p=l.g,g=l.v[0]?()=>{}:null;l.g=null,l.v=null,d||qt(l,"ready");try{p.onreadystatechange=g}catch{}}}function II(l){l.I&&(a.clearTimeout(l.I),l.I=null)}n.isActive=function(){return!!this.g};function Tr(l){return l.g?l.g.readyState:0}n.Z=function(){try{return 2<Tr(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(l){if(this.g){var d=this.g.responseText;return l&&d.indexOf(l)==0&&(d=d.substring(l.length)),qR(d)}};function CI(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.H){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function fN(l){let d={};l=(l.g&&2<=Tr(l)&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let g=0;g<l.length;g++){if(K(l[g]))continue;var p=C(l[g]);let b=p[0];if(p=p[1],typeof p!="string")continue;p=p.trim();let M=d[b]||[];d[b]=M,M.push(p)}E(d,function(g){return g.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function fu(l,d,p){return p&&p.internalChannelParams&&p.internalChannelParams[l]||d}function DI(l){this.Aa=0,this.i=[],this.j=new ou,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=fu("failFast",!1,l),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=fu("baseRetryDelayMs",5e3,l),this.cb=fu("retryDelaySeedMs",1e4,l),this.Wa=fu("forwardChannelMaxRetries",2,l),this.wa=fu("forwardChannelRequestTimeoutMs",2e4,l),this.pa=l&&l.xmlHttpFactory||void 0,this.Xa=l&&l.Tb||void 0,this.Ca=l&&l.useFetchStreams||!1,this.L=void 0,this.J=l&&l.supportsCrossDomainXhr||!1,this.K="",this.h=new oI(l&&l.concurrentRequestLimit),this.Da=new lN,this.P=l&&l.fastHandshake||!1,this.O=l&&l.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=l&&l.Rb||!1,l&&l.xa&&this.j.xa(),l&&l.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&l&&l.detectBufferingProxy||!1,this.ja=void 0,l&&l.longPollingTimeout&&0<l.longPollingTimeout&&(this.ja=l.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=DI.prototype,n.la=8,n.G=1,n.connect=function(l,d,p,g){zt(0),this.W=l,this.H=d||{},p&&g!==void 0&&(this.H.OSID=p,this.H.OAID=g),this.F=this.X,this.I=PI(this,null,this.W),Fc(this)};function Cg(l){if(bI(l),l.G==3){var d=l.U++,p=Sr(l.I);if(Be(p,"SID",l.K),Be(p,"RID",d),Be(p,"TYPE","terminate"),pu(l,p),d=new ni(l,l.j,d),d.L=2,d.v=Rc(Sr(p)),p=!1,a.navigator&&a.navigator.sendBeacon)try{p=a.navigator.sendBeacon(d.v.toString(),"")}catch{}!p&&a.Image&&(new Image().src=d.v,p=!0),p||(d.g=kI(d.j,null),d.g.ea(d.v)),d.F=Date.now(),Ac(d)}NI(l)}function kc(l){l.g&&(bg(l),l.g.cancel(),l.g=null)}function bI(l){kc(l),l.u&&(a.clearTimeout(l.u),l.u=null),Oc(l),l.h.cancel(),l.s&&(typeof l.s=="number"&&a.clearTimeout(l.s),l.s=null)}function Fc(l){if(!sI(l.h)&&!l.s){l.s=!0;var d=l.Ga;Za||VE(),Ja||(Za(),Ja=!0),ng.add(d,l),l.B=0}}function pN(l,d){return aI(l.h)>=l.h.j-(l.s?1:0)?!1:l.s?(l.i=d.D.concat(l.i),!0):l.G==1||l.G==2||l.B>=(l.Va?0:l.Wa)?!1:(l.s=iu(m(l.Ga,l,d),RI(l,l.B)),l.B++,!0)}n.Ga=function(l){if(this.s)if(this.s=null,this.G==1){if(!l){this.U=Math.floor(1e5*Math.random()),l=this.U++;let b=new ni(this,this.j,l),M=this.o;if(this.S&&(M?(M=v(M),I(M,this.S)):M=this.S),this.m!==null||this.O||(b.H=M,M=null),this.P)e:{for(var d=0,p=0;p<this.i.length;p++){t:{var g=this.i[p];if("__data__"in g.map&&(g=g.map.__data__,typeof g=="string")){g=g.length;break t}g=void 0}if(g===void 0)break;if(d+=g,4096<d){d=p;break e}if(d===4096||p===this.i.length-1){d=p+1;break e}}d=1e3}else d=1e3;d=TI(this,b,d),p=Sr(this.I),Be(p,"RID",l),Be(p,"CVER",22),this.D&&Be(p,"X-HTTP-Session-Id",this.D),pu(this,p),M&&(this.O?d="headers="+encodeURIComponent(String(vI(M)))+"&"+d:this.m&&Ig(p,this.m,M)),Eg(this.h,b),this.Ua&&Be(p,"TYPE","init"),this.P?(Be(p,"$req",d),Be(p,"SID","null"),b.T=!0,yg(b,p,null)):yg(b,p,d),this.G=2}}else this.G==3&&(l?SI(this,l):this.i.length==0||sI(this.h)||SI(this))};function SI(l,d){var p;d?p=d.l:p=l.U++;let g=Sr(l.I);Be(g,"SID",l.K),Be(g,"RID",p),Be(g,"AID",l.T),pu(l,g),l.m&&l.o&&Ig(g,l.m,l.o),p=new ni(l,l.j,p,l.B+1),l.m===null&&(p.H=l.o),d&&(l.i=d.D.concat(l.i)),d=TI(l,p,1e3),p.I=Math.round(.5*l.wa)+Math.round(.5*l.wa*Math.random()),Eg(l.h,p),yg(p,g,d)}function pu(l,d){l.H&&ne(l.H,function(p,g){Be(d,g,p)}),l.l&&cI({},function(p,g){Be(d,g,p)})}function TI(l,d,p){p=Math.min(l.i.length,p);var g=l.l?m(l.l.Na,l.l,l):null;e:{var b=l.i;let M=-1;for(;;){let $=["count="+p];M==-1?0<p?(M=b[0].g,$.push("ofs="+M)):M=0:$.push("ofs="+M);let Fe=!0;for(let Dt=0;Dt<p;Dt++){let xe=b[Dt].g,kt=b[Dt].map;if(xe-=M,0>xe)M=Math.max(0,b[Dt].g-100),Fe=!1;else try{cN(kt,$,"req"+xe+"_")}catch{g&&g(kt)}}if(Fe){g=$.join("&");break e}}}return l=l.i.splice(0,p),d.D=l,g}function AI(l){if(!l.g&&!l.u){l.Y=1;var d=l.Fa;Za||VE(),Ja||(Za(),Ja=!0),ng.add(d,l),l.v=0}}function Dg(l){return l.g||l.u||3<=l.v?!1:(l.Y++,l.u=iu(m(l.Fa,l),RI(l,l.v)),l.v++,!0)}n.Fa=function(){if(this.u=null,xI(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var l=2*this.R;this.j.info("BP detection timer enabled: "+l),this.A=iu(m(this.ab,this),l)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,zt(10),kc(this),xI(this))};function bg(l){l.A!=null&&(a.clearTimeout(l.A),l.A=null)}function xI(l){l.g=new ni(l,l.j,"rpc",l.Y),l.m===null&&(l.g.H=l.o),l.g.O=0;var d=Sr(l.qa);Be(d,"RID","rpc"),Be(d,"SID",l.K),Be(d,"AID",l.T),Be(d,"CI",l.F?"0":"1"),!l.F&&l.ja&&Be(d,"TO",l.ja),Be(d,"TYPE","xmlhttp"),pu(l,d),l.m&&l.o&&Ig(d,l.m,l.o),l.L&&(l.g.I=l.L);var p=l.g;l=l.ia,p.L=1,p.v=Rc(Sr(d)),p.m=null,p.P=!0,nI(p,l)}n.Za=function(){this.C!=null&&(this.C=null,kc(this),Dg(this),zt(19))};function Oc(l){l.C!=null&&(a.clearTimeout(l.C),l.C=null)}function MI(l,d){var p=null;if(l.g==d){Oc(l),bg(l),l.g=null;var g=2}else if(wg(l.h,d))p=d.D,uI(l.h,d),g=1;else return;if(l.G!=0){if(d.o)if(g==1){p=d.m?d.m.length:0,d=Date.now()-d.F;var b=l.B;g=bc(),qt(g,new JE(g,p)),Fc(l)}else AI(l);else if(b=d.s,b==3||b==0&&0<d.X||!(g==1&&pN(l,d)||g==2&&Dg(l)))switch(p&&0<p.length&&(d=l.h,d.i=d.i.concat(p)),b){case 1:ro(l,5);break;case 4:ro(l,10);break;case 3:ro(l,6);break;default:ro(l,2)}}}function RI(l,d){let p=l.Ta+Math.floor(Math.random()*l.cb);return l.isActive()||(p*=2),p*d}function ro(l,d){if(l.j.info("Error code "+d),d==2){var p=m(l.fb,l),g=l.Xa;let b=!g;g=new no(g||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||xc(g,"https"),Rc(g),b?aN(g.toString(),p):uN(g.toString(),p)}else zt(2);l.G=0,l.l&&l.l.sa(d),NI(l),bI(l)}n.fb=function(l){l?(this.j.info("Successfully pinged google.com"),zt(2)):(this.j.info("Failed to ping google.com"),zt(1))};function NI(l){if(l.G=0,l.ka=[],l.l){let d=lI(l.h);(d.length!=0||l.i.length!=0)&&(T(l.ka,d),T(l.ka,l.i),l.h.i.length=0,D(l.i),l.i.length=0),l.l.ra()}}function PI(l,d,p){var g=p instanceof no?Sr(p):new no(p);if(g.g!="")d&&(g.g=d+"."+g.g),Mc(g,g.s);else{var b=a.location;g=b.protocol,d=d?d+"."+b.hostname:b.hostname,b=+b.port;var M=new no(null);g&&xc(M,g),d&&(M.g=d),b&&Mc(M,b),p&&(M.l=p),g=M}return p=l.D,d=l.ya,p&&d&&Be(g,p,d),Be(g,"VER",l.la),pu(l,g),g}function kI(l,d,p){if(d&&!l.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=l.Ca&&!l.pa?new Je(new cu({eb:p})):new Je(l.pa),d.Ha(l.J),d}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function FI(){}n=FI.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Vc(){}Vc.prototype.g=function(l,d){return new dn(l,d)};function dn(l,d){Pt.call(this),this.g=new DI(d),this.l=l,this.h=d&&d.messageUrlParams||null,l=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(l?l["X-WebChannel-Content-Type"]=d.messageContentType:l={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(l?l["X-WebChannel-Client-Profile"]=d.va:l={"X-WebChannel-Client-Profile":d.va}),this.g.S=l,(l=d&&d.Sb)&&!K(l)&&(this.g.m=l),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!K(d)&&(this.g.D=d,l=this.h,l!==null&&d in l&&(l=this.h,d in l&&delete l[d])),this.j=new fs(this)}S(dn,Pt),dn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},dn.prototype.close=function(){Cg(this.g)},dn.prototype.o=function(l){var d=this.g;if(typeof l=="string"){var p={};p.__data__=l,l=p}else this.u&&(p={},p.__data__=dg(l),l=p);d.i.push(new ZR(d.Ya++,l)),d.G==3&&Fc(d)},dn.prototype.N=function(){this.g.l=null,delete this.j,Cg(this.g),delete this.g,dn.aa.N.call(this)};function OI(l){fg.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var d=l.__sm__;if(d){e:{for(let p in d){l=p;break e}l=void 0}(this.i=l)&&(l=this.i,d=d!==null&&l in d?d[l]:void 0),this.data=d}else this.data=l}S(OI,fg);function VI(){pg.call(this),this.status=1}S(VI,pg);function fs(l){this.g=l}S(fs,FI),fs.prototype.ua=function(){qt(this.g,"a")},fs.prototype.ta=function(l){qt(this.g,new OI(l))},fs.prototype.sa=function(l){qt(this.g,new VI)},fs.prototype.ra=function(){qt(this.g,"b")},Vc.prototype.createWebChannel=Vc.prototype.g,dn.prototype.send=dn.prototype.o,dn.prototype.open=dn.prototype.m,dn.prototype.close=dn.prototype.close,P_=zr.createWebChannelTransport=function(){return new Vc},N_=zr.getStatEventTarget=function(){return bc()},R_=zr.Event=eo,Nf=zr.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Sc.NO_ERROR=0,Sc.TIMEOUT=8,Sc.HTTP_ERROR=6,Pl=zr.ErrorCode=Sc,XE.COMPLETE="complete",M_=zr.EventType=XE,KE.EventType=nu,nu.OPEN="a",nu.CLOSE="b",nu.ERROR="c",nu.MESSAGE="d",Pt.prototype.listen=Pt.prototype.K,ua=zr.WebChannel=KE,HB=zr.FetchXmlHttpFactory=cu,Je.prototype.listenOnce=Je.prototype.L,Je.prototype.getLastError=Je.prototype.Ka,Je.prototype.getLastErrorCode=Je.prototype.Ba,Je.prototype.getStatus=Je.prototype.Z,Je.prototype.getResponseJson=Je.prototype.Oa,Je.prototype.getResponseText=Je.prototype.oa,Je.prototype.send=Je.prototype.ea,Je.prototype.setWithCredentials=Je.prototype.Ha,x_=zr.XhrIo=Je}).apply(typeof Rf<"u"?Rf:typeof self<"u"?self:typeof window<"u"?window:{});var $A="@firebase/firestore";var pt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};pt.UNAUTHENTICATED=new pt(null),pt.GOOGLE_CREDENTIALS=new pt("google-credentials-uid"),pt.FIRST_PARTY=new pt("first-party-uid"),pt.MOCK_USER=new pt("mock-user");var ja="10.14.0";var Ui=new Bc("@firebase/firestore");function fa(){return Ui.logLevel}function zx(n){Ui.setLogLevel(n)}function V(n,...e){if(Ui.logLevel<=er.DEBUG){let t=e.map(Lw);Ui.debug(`Firestore (${ja}): ${n}`,...t)}}function it(n,...e){if(Ui.logLevel<=er.ERROR){let t=e.map(Lw);Ui.error(`Firestore (${ja}): ${n}`,...t)}}function Qn(n,...e){if(Ui.logLevel<=er.WARN){let t=e.map(Lw);Ui.warn(`Firestore (${ja}): ${n}`,...t)}}function Lw(n){if(typeof n=="string")return n;try{return function(t){return JSON.stringify(t)}(n)}catch{return n}}function Q(n="Unexpected state"){let e=`FIRESTORE (${ja}) INTERNAL ASSERTION FAILED: `+n;throw it(e),new Error(e)}function X(n,e){n||Q()}function Gx(n,e){n||Q()}function H(n,e){return n}var N={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},O=class extends HI{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var wt=class{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}};var $f=class{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},j_=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(pt.UNAUTHENTICATED))}shutdown(){}},U_=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}},B_=class{constructor(e){this.t=e,this.currentUser=pt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){X(this.o===void 0);let r=this.i,i=u=>this.i!==r?(r=this.i,t(u)):Promise.resolve(),o=new wt;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new wt,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let u=o;e.enqueueRetryable(()=>P(this,null,function*(){yield u.promise,yield i(this.currentUser)}))},a=u=>{V("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?a(u):(V("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new wt)}},0),s()}getToken(){let e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(V("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(X(typeof r.accessToken=="string"),new $f(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return X(e===null||typeof e=="string"),new pt(e)}},$_=class{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=pt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},H_=class{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new $_(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(pt.FIRST_PARTY))}shutdown(){}invalidateToken(){}},q_=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},z_=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){X(this.o===void 0);let r=o=>{o.error!=null&&V("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.R;return this.R=o.token,V("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{V("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.A.getImmediate({optional:!0});o?i(o):V("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(X(typeof t.token=="string"),this.R=t.token,new q_(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function qB(n){let e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}var Hf=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let i=qB(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<t&&(r+=e.charAt(i[o]%e.length))}return r}};function ue(n,e){return n<e?-1:n>e?1:0}function Ia(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}function Wx(n){return n+"\0"}var qe=class n{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new O(N.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new O(N.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new O(N.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new O(N.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return n.fromMillis(Date.now())}static fromDate(e){return n.fromMillis(e.getTime())}static fromMillis(e){let t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new n(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ue(this.nanoseconds,e.nanoseconds):ue(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var ie=class n{constructor(e){this.timestamp=e}static fromTimestamp(e){return new n(e)}static min(){return new n(new qe(0,0))}static max(){return new n(new qe(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var qf=class n{constructor(e,t,r){t===void 0?t=0:t>e.length&&Q(),r===void 0?r=e.length-t:r>e.length-t&&Q(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return n.comparator(this,e)===0}child(e){let t=this.segments.slice(this.offset,this.limit());return e instanceof n?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){let r=Math.min(e.length,t.length);for(let i=0;i<r;i++){let o=e.get(i),s=t.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<t.length?-1:e.length>t.length?1:0}},Se=class n extends qf{construct(e,t,r){return new n(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let t=[];for(let r of e){if(r.indexOf("//")>=0)throw new O(N.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new n(t)}static emptyPath(){return new n([])}},zB=/^[_a-zA-Z][_a-zA-Z0-9]*$/,ot=class n extends qf{construct(e,t,r){return new n(e,t,r)}static isValidIdentifier(e){return zB.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new n(["__name__"])}static fromServerFormat(e){let t=[],r="",i=0,o=()=>{if(r.length===0)throw new O(N.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""},s=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new O(N.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new O(N.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new O(N.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}static emptyPath(){return new n([])}};var q=class n{constructor(e){this.path=e}static fromPath(e){return new n(Se.fromString(e))}static fromName(e){return new n(Se.fromString(e).popFirst(5))}static empty(){return new n(Se.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Se.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Se.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new n(new Se(e.slice()))}};var Ca=class{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}};function G_(n){return n.fields.find(e=>e.kind===2)}function jo(n){return n.fields.filter(e=>e.kind!==2)}Ca.UNKNOWN_ID=-1;var _a=class{constructor(e,t){this.fieldPath=e,this.kind=t}};var zl=class n{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new n(0,Mn.min())}};function Kx(n,e){let t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=ie.fromTimestamp(r===1e9?new qe(t+1,0):new qe(t,r));return new Mn(i,q.empty(),e)}function Qx(n){return new Mn(n.readTime,n.key,-1)}var Mn=class n{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new n(ie.min(),q.empty(),-1)}static max(){return new n(ie.max(),q.empty(),-1)}};function jw(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=q.comparator(n.documentKey,e.documentKey),t!==0?t:ue(n.largestBatchId,e.largestBatchId))}var Yx="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",zf=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function Yi(n){return P(this,null,function*(){if(n.code!==N.FAILED_PRECONDITION||n.message!==Yx)throw n;V("LocalStore","Unexpectedly lost primary lease")})}var x=class n{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Q(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new n((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{let t=e();return t instanceof n?t:n.resolve(t)}catch(t){return n.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):n.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):n.reject(t)}static resolve(e){return new n((t,r)=>{t(e)})}static reject(e){return new n((t,r)=>{r(e)})}static waitFor(e){return new n((t,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&t()},u=>r(u))}),s=!0,o===i&&t()})}static or(e){let t=n.resolve(!1);for(let r of e)t=t.next(i=>i?n.resolve(i):r());return t}static forEach(e,t){let r=[];return e.forEach((i,o)=>{r.push(t.call(this,i,o))}),this.waitFor(r)}static mapArray(e,t){return new n((r,i)=>{let o=e.length,s=new Array(o),a=0;for(let u=0;u<o;u++){let c=u;t(e[c]).next(h=>{s[c]=h,++a,a===o&&r(s)},h=>i(h))}})}static doWhile(e,t){return new n((r,i)=>{let o=()=>{e()===!0?t().next(()=>{o()},i):r()};o()})}};var Gf=class n{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.V=new wt,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{t.error?this.V.reject(new zo(e,t.error)):this.V.resolve()},this.transaction.onerror=r=>{let i=Uw(r.target.error);this.V.reject(new zo(e,i))}}static open(e,t,r,i){try{return new n(t,e.transaction(i,r))}catch(o){throw new zo(t,o)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(V("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){let e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){let t=this.transaction.objectStore(e);return new K_(t)}},Bi=class n{constructor(e,t,r){this.name=e,this.version=t,this.p=r,n.S(gu())===12.2&&it("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return V("SimpleDb","Removing database:",e),Uo(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!Uc())return!1;if(n.v())return!0;let e=gu(),t=n.S(e),r=0<t&&t<10,i=Zx(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)}static v(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.C)==="YES"}static F(e,t){return e.store(t)}static S(e){let t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}M(e){return P(this,null,function*(){return this.db||(V("SimpleDb","Opening database:",this.name),this.db=yield new Promise((t,r)=>{let i=indexedDB.open(this.name,this.version);i.onsuccess=o=>{let s=o.target.result;t(s)},i.onblocked=()=>{r(new zo(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=o=>{let s=o.target.error;s.name==="VersionError"?r(new O(N.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):s.name==="InvalidStateError"?r(new O(N.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+s)):r(new zo(e,s))},i.onupgradeneeded=o=>{V("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',o.oldVersion);let s=o.target.result;this.p.O(s,i.transaction,o.oldVersion,this.version).next(()=>{V("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.N&&(this.db.onversionchange=t=>this.N(t)),this.db})}L(e){this.N=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,i){return P(this,null,function*(){let o=t==="readonly",s=0;for(;;){++s;try{this.db=yield this.M(e);let a=Gf.open(this.db,e,o?"readonly":"readwrite",r),u=i(a).next(c=>(a.g(),c)).catch(c=>(a.abort(c),x.reject(c))).toPromise();return u.catch(()=>{}),yield a.m,u}catch(a){let u=a,c=u.name!=="FirebaseError"&&s<3;if(V("SimpleDb","Transaction failed with error:",u.message,"Retrying:",c),this.close(),!c)return Promise.reject(u)}}})}close(){this.db&&this.db.close(),this.db=void 0}};function Zx(n){let e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}var W_=class{constructor(e){this.B=e,this.k=!1,this.q=null}get isDone(){return this.k}get K(){return this.q}set cursor(e){this.B=e}done(){this.k=!0}$(e){this.q=e}delete(){return Uo(this.B.delete())}},zo=class extends O{constructor(e,t){super(N.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}};function Zi(n){return n.name==="IndexedDbTransactionError"}var K_=class{constructor(e){this.store=e}put(e,t){let r;return t!==void 0?(V("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(V("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Uo(r)}add(e){return V("SimpleDb","ADD",this.store.name,e,e),Uo(this.store.add(e))}get(e){return Uo(this.store.get(e)).next(t=>(t===void 0&&(t=null),V("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return V("SimpleDb","DELETE",this.store.name,e),Uo(this.store.delete(e))}count(){return V("SimpleDb","COUNT",this.store.name),Uo(this.store.count())}U(e,t){let r=this.options(e,t),i=r.index?this.store.index(r.index):this.store;if(typeof i.getAll=="function"){let o=i.getAll(r.range);return new x((s,a)=>{o.onerror=u=>{a(u.target.error)},o.onsuccess=u=>{s(u.target.result)}})}{let o=this.cursor(r),s=[];return this.W(o,(a,u)=>{s.push(u)}).next(()=>s)}}G(e,t){let r=this.store.getAll(e,t===null?void 0:t);return new x((i,o)=>{r.onerror=s=>{o(s.target.error)},r.onsuccess=s=>{i(s.target.result)}})}j(e,t){V("SimpleDb","DELETE ALL",this.store.name);let r=this.options(e,t);r.H=!1;let i=this.cursor(r);return this.W(i,(o,s,a)=>a.delete())}J(e,t){let r;t?r=e:(r={},t=e);let i=this.cursor(r);return this.W(i,t)}Y(e){let t=this.cursor({});return new x((r,i)=>{t.onerror=o=>{let s=Uw(o.target.error);i(s)},t.onsuccess=o=>{let s=o.target.result;s?e(s.primaryKey,s.value).next(a=>{a?s.continue():r()}):r()}})}W(e,t){let r=[];return new x((i,o)=>{e.onerror=s=>{o(s.target.error)},e.onsuccess=s=>{let a=s.target.result;if(!a)return void i();let u=new W_(a),c=t(a.primaryKey,a.value,u);if(c instanceof x){let h=c.catch(f=>(u.done(),x.reject(f)));r.push(h)}u.isDone?i():u.K===null?a.continue():a.continue(u.K)}}).next(()=>x.waitFor(r))}options(e,t){let r;return e!==void 0&&(typeof e=="string"?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){let r=this.store.index(e.index);return e.H?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}};function Uo(n){return new x((e,t)=>{n.onsuccess=r=>{let i=r.target.result;e(i)},n.onerror=r=>{let i=Uw(r.target.error);t(i)}})}var HA=!1;function Uw(n){let e=Bi.S(gu());if(e>=12.2&&e<13){let t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){let r=new O("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return HA||(HA=!0,setTimeout(()=>{throw r},0)),r}}return n}var Q_=class{constructor(e,t){this.asyncQueue=e,this.Z=t,this.task=null}start(){this.X(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}X(e){V("IndexBackfiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,()=>P(this,null,function*(){this.task=null;try{V("IndexBackfiller",`Documents written: ${yield this.Z.ee()}`)}catch(t){Zi(t)?V("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",t):yield Yi(t)}yield this.X(6e4)}))}},Y_=class{constructor(e,t){this.localStore=e,this.persistence=t}ee(e=50){return P(this,null,function*(){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",t=>this.te(t,e))})}te(e,t){let r=new Set,i=t,o=!0;return x.doWhile(()=>o===!0&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(s=>{if(s!==null&&!r.has(s))return V("IndexBackfiller",`Processing collection: ${s}`),this.ne(e,s,i).next(a=>{i-=a,r.add(s)});o=!1})).next(()=>t-i)}ne(e,t,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(i=>this.localStore.localDocuments.getNextDocuments(e,t,i,r).next(o=>{let s=o.changes;return this.localStore.indexManager.updateIndexEntries(e,s).next(()=>this.re(i,o)).next(a=>(V("IndexBackfiller",`Updating offset: ${a}`),this.localStore.indexManager.updateCollectionGroup(e,t,a))).next(()=>s.size)}))}re(e,t){let r=e;return t.changes.forEach((i,o)=>{let s=Qx(o);jw(s,r)>0&&(r=s)}),new Mn(r.readTime,r.documentKey,Math.max(t.batchId,e.largestBatchId))}};var _n=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.ie(i),this.se=i=>r.writeSequenceNumber(i))}ie(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){let t=++this.previousValue;return this.se&&this.se(t),t}}return n.oe=-1,n})();function hc(n){return n==null}function Gl(n){return n===0&&1/n==-1/0}function Jx(n){return typeof n=="number"&&Number.isInteger(n)&&!Gl(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}function en(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=qA(e)),e=GB(n.get(t),e);return qA(e)}function GB(n,e){let t=e,r=n.length;for(let i=0;i<r;i++){let o=n.charAt(i);switch(o){case"\0":t+="";break;case"":t+="";break;default:t+=o}}return t}function qA(n){return n+""}function gr(n){let e=n.length;if(X(e>=2),e===2)return X(n.charAt(0)===""&&n.charAt(1)===""),Se.emptyPath();let t=e-2,r=[],i="";for(let o=0;o<e;){let s=n.indexOf("",o);switch((s<0||s>t)&&Q(),n.charAt(s+1)){case"":let a=n.substring(o,s),u;i.length===0?u=a:(i+=a,u=i,i=""),r.push(u);break;case"":i+=n.substring(o,s),i+="\0";break;case"":i+=n.substring(o,s+1);break;default:Q()}o=s+2}return new Se(r)}var zA=["userId","batchId"];function Vf(n,e){return[n,en(e)]}function Xx(n,e,t){return[n,en(e),t]}var WB={},KB=["prefixPath","collectionGroup","readTime","documentId"],QB=["prefixPath","collectionGroup","documentId"],YB=["collectionGroup","readTime","prefixPath","documentId"],ZB=["canonicalId","targetId"],JB=["targetId","path"],XB=["path","targetId"],e4=["collectionId","parent"],t4=["indexId","uid"],n4=["uid","sequenceNumber"],r4=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],i4=["indexId","uid","orderedDocumentKey"],o4=["userId","collectionPath","documentId"],s4=["userId","collectionPath","largestBatchId"],a4=["userId","collectionGroup","largestBatchId"],eM=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],u4=[...eM,"documentOverlays"],tM=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],nM=tM,Bw=[...nM,"indexConfiguration","indexState","indexEntries"],l4=Bw,c4=[...Bw,"globals"];var Wl=class extends zf{constructor(e,t){super(),this._e=e,this.currentSequenceNumber=t}};function Et(n,e){let t=H(n);return Bi.F(t._e,e)}function GA(n){let e=0;for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function rs(n,e){for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function rM(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}var ze=class n{constructor(e,t){this.comparator=e,this.root=t||yr.EMPTY}insert(e,t){return new n(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,yr.BLACK,null,null))}remove(e){return new n(this.comparator,this.root.remove(e,this.comparator).copy(null,null,yr.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){let e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new va(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new va(this.root,e,this.comparator,!1)}getReverseIterator(){return new va(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new va(this.root,e,this.comparator,!0)}},va=class{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},yr=class n{constructor(e,t,r,i,o){this.key=e,this.value=t,this.color=r??n.RED,this.left=i??n.EMPTY,this.right=o??n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,o){return new n(e??this.key,t??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,t,r),null):o===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return n.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Q();let e=this.left.check();if(e!==this.right.check())throw Q();return e+(this.isRed()?0:1)}};yr.EMPTY=null,yr.RED=!0,yr.BLACK=!1;yr.EMPTY=new class{constructor(){this.size=0}get key(){throw Q()}get value(){throw Q()}get color(){throw Q()}get left(){throw Q()}get right(){throw Q()}copy(e,t,r,i,o){return this}insert(e,t,r){return new yr(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var Le=class n{constructor(e){this.comparator=e,this.data=new ze(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Wf(this.data.getIterator())}getIteratorFrom(e){return new Wf(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(t=>{e.push(t)}),e}toString(){let e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){let t=new n(this.comparator);return t.data=e,t}},Wf=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};function la(n){return n.hasNext()?n.getNext():void 0}var wn=class n{constructor(e){this.fields=e,e.sort(ot.comparator)}static empty(){return new n([])}unionWith(e){let t=new Le(ot.comparator);for(let r of this.fields)t=t.add(r);for(let r of e)t=t.add(r);return new n(t.toArray())}covers(e){for(let t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Ia(this.fields,e.fields,(t,r)=>t.isEqual(r))}};var Kf=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};function iM(){return typeof atob<"u"}var at=class n{constructor(e){this.binaryString=e}static fromBase64String(e){let t=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new Kf("Invalid base64 string: "+o):o}}(e);return new n(t)}static fromUint8Array(e){let t=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new n(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){let r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ue(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};at.EMPTY_BYTE_STRING=new at("");var d4=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Kr(n){if(X(!!n),typeof n=="string"){let e=0,t=d4.exec(n);if(X(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:We(n.seconds),nanos:We(n.nanos)}}function We(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function $i(n){return typeof n=="string"?at.fromBase64String(n):at.fromUint8Array(n)}function jp(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function $w(n){let e=n.mapValue.fields.__previous_value__;return jp(e)?$w(e):e}function Kl(n){let e=Kr(n.mapValue.fields.__local_write_time__.timestampValue);return new qe(e.seconds,e.nanos)}var Z_=class{constructor(e,t,r,i,o,s,a,u,c){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=c}},Hi=class n{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new n("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof n&&e.projectId===this.projectId&&e.database===this.database}};var Li={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Lf={nullValue:"NULL_VALUE"};function Go(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?jp(n)?4:oM(n)?9007199254740991:Up(n)?10:11:Q()}function wr(n,e){if(n===e)return!0;let t=Go(n);if(t!==Go(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Kl(n).isEqual(Kl(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let s=Kr(i.timestampValue),a=Kr(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(i,o){return $i(i.bytesValue).isEqual($i(o.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,o){return We(i.geoPointValue.latitude)===We(o.geoPointValue.latitude)&&We(i.geoPointValue.longitude)===We(o.geoPointValue.longitude)}(n,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return We(i.integerValue)===We(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let s=We(i.doubleValue),a=We(o.doubleValue);return s===a?Gl(s)===Gl(a):isNaN(s)&&isNaN(a)}return!1}(n,e);case 9:return Ia(n.arrayValue.values||[],e.arrayValue.values||[],wr);case 10:case 11:return function(i,o){let s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(GA(s)!==GA(a))return!1;for(let u in s)if(s.hasOwnProperty(u)&&(a[u]===void 0||!wr(s[u],a[u])))return!1;return!0}(n,e);default:return Q()}}function Ql(n,e){return(n.values||[]).find(t=>wr(t,e))!==void 0}function qi(n,e){if(n===e)return 0;let t=Go(n),r=Go(e);if(t!==r)return ue(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return ue(n.booleanValue,e.booleanValue);case 2:return function(o,s){let a=We(o.integerValue||o.doubleValue),u=We(s.integerValue||s.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(n,e);case 3:return WA(n.timestampValue,e.timestampValue);case 4:return WA(Kl(n),Kl(e));case 5:return ue(n.stringValue,e.stringValue);case 6:return function(o,s){let a=$i(o),u=$i(s);return a.compareTo(u)}(n.bytesValue,e.bytesValue);case 7:return function(o,s){let a=o.split("/"),u=s.split("/");for(let c=0;c<a.length&&c<u.length;c++){let h=ue(a[c],u[c]);if(h!==0)return h}return ue(a.length,u.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,s){let a=ue(We(o.latitude),We(s.latitude));return a!==0?a:ue(We(o.longitude),We(s.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return KA(n.arrayValue,e.arrayValue);case 10:return function(o,s){var a,u,c,h;let f=o.fields||{},m=s.fields||{},y=(a=f.value)===null||a===void 0?void 0:a.arrayValue,S=(u=m.value)===null||u===void 0?void 0:u.arrayValue,D=ue(((c=y?.values)===null||c===void 0?void 0:c.length)||0,((h=S?.values)===null||h===void 0?void 0:h.length)||0);return D!==0?D:KA(y,S)}(n.mapValue,e.mapValue);case 11:return function(o,s){if(o===Li.mapValue&&s===Li.mapValue)return 0;if(o===Li.mapValue)return 1;if(s===Li.mapValue)return-1;let a=o.fields||{},u=Object.keys(a),c=s.fields||{},h=Object.keys(c);u.sort(),h.sort();for(let f=0;f<u.length&&f<h.length;++f){let m=ue(u[f],h[f]);if(m!==0)return m;let y=qi(a[u[f]],c[h[f]]);if(y!==0)return y}return ue(u.length,h.length)}(n.mapValue,e.mapValue);default:throw Q()}}function WA(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return ue(n,e);let t=Kr(n),r=Kr(e),i=ue(t.seconds,r.seconds);return i!==0?i:ue(t.nanos,r.nanos)}function KA(n,e){let t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){let o=qi(t[i],r[i]);if(o)return o}return ue(t.length,r.length)}function Da(n){return J_(n)}function J_(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){let r=Kr(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return $i(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return q.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(let o of t.values||[])i?i=!1:r+=",",r+=J_(o);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){let r=Object.keys(t.fields||{}).sort(),i="{",o=!0;for(let s of r)o?o=!1:i+=",",i+=`${s}:${J_(t.fields[s])}`;return i+"}"}(n.mapValue):Q()}function Wo(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function X_(n){return!!n&&"integerValue"in n}function Yl(n){return!!n&&"arrayValue"in n}function QA(n){return!!n&&"nullValue"in n}function YA(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function jf(n){return!!n&&"mapValue"in n}function Up(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="__vector__"}function Ul(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){let e={mapValue:{fields:{}}};return rs(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Ul(r)),e}if(n.arrayValue){let e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Ul(n.arrayValue.values[t]);return e}return Object.assign({},n)}function oM(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var sM={mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{}}}}};function h4(n){return"nullValue"in n?Lf:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?Wo(Hi.empty(),q.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?Up(n)?sM:{mapValue:{}}:Q()}function f4(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?Wo(Hi.empty(),q.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?sM:"mapValue"in n?Up(n)?{mapValue:{}}:Li:Q()}function ZA(n,e){let t=qi(n.value,e.value);return t!==0?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function JA(n,e){let t=qi(n.value,e.value);return t!==0?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}var $t=class n{constructor(e){this.value=e}static empty(){return new n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!jf(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ul(t)}setAll(e){let t=ot.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!t.isImmediateParentOf(a)){let u=this.getFieldsMap(t);this.applyChanges(u,r,i),r={},i=[],t=a.popLast()}s?r[a.lastSegment()]=Ul(s):i.push(a.lastSegment())});let o=this.getFieldsMap(t);this.applyChanges(o,r,i)}delete(e){let t=this.field(e.popLast());jf(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return wr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];jf(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){rs(t,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new n(Ul(this.value))}};function aM(n){let e=[];return rs(n.fields,(t,r)=>{let i=new ot([t]);if(jf(r)){let o=aM(r.mapValue).fields;if(o.length===0)e.push(i);else for(let s of o)e.push(i.child(s))}else e.push(i)}),new wn(e)}var gt=class n{constructor(e,t,r,i,o,s,a){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new n(e,0,ie.min(),ie.min(),ie.min(),$t.empty(),0)}static newFoundDocument(e,t,r,i){return new n(e,1,t,ie.min(),r,i,0)}static newNoDocument(e,t){return new n(e,2,t,ie.min(),ie.min(),$t.empty(),0)}static newUnknownDocument(e,t){return new n(e,3,t,ie.min(),ie.min(),$t.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(ie.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=$t.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=$t.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ie.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var Er=class{constructor(e,t){this.position=e,this.inclusive=t}};function XA(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){let o=e[i],s=n.position[i];if(o.field.isKeyField()?r=q.comparator(q.fromName(s.referenceValue),t.key):r=qi(s,t.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function ex(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!wr(n.position[t],e.position[t]))return!1;return!0}var Ko=class{constructor(e,t="asc"){this.field=e,this.dir=t}};function p4(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}var Qf=class{},we=class n extends Qf{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new n0(e,t,r):t==="array-contains"?new o0(e,r):t==="in"?new Yf(e,r):t==="not-in"?new s0(e,r):t==="array-contains-any"?new a0(e,r):new n(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new r0(e,r):new i0(e,r)}matches(e){let t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(qi(t,this.value)):t!==null&&Go(this.value)===Go(t)&&this.matchesComparison(qi(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Q()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},ke=class n extends Qf{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new n(e,t)}matches(e){return ba(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}};function ba(n){return n.op==="and"}function e0(n){return n.op==="or"}function Hw(n){return uM(n)&&ba(n)}function uM(n){for(let e of n.filters)if(e instanceof ke)return!1;return!0}function t0(n){if(n instanceof we)return n.field.canonicalString()+n.op.toString()+Da(n.value);if(Hw(n))return n.filters.map(e=>t0(e)).join(",");{let e=n.filters.map(t=>t0(t)).join(",");return`${n.op}(${e})`}}function lM(n,e){return n instanceof we?function(r,i){return i instanceof we&&r.op===i.op&&r.field.isEqual(i.field)&&wr(r.value,i.value)}(n,e):n instanceof ke?function(r,i){return i instanceof ke&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&lM(s,i.filters[a]),!0):!1}(n,e):void Q()}function cM(n,e){let t=n.filters.concat(e);return ke.create(t,n.op)}function dM(n){return n instanceof we?function(t){return`${t.field.canonicalString()} ${t.op} ${Da(t.value)}`}(n):n instanceof ke?function(t){return t.op.toString()+" {"+t.getFilters().map(dM).join(" ,")+"}"}(n):"Filter"}var n0=class extends we{constructor(e,t,r){super(e,t,r),this.key=q.fromName(r.referenceValue)}matches(e){let t=q.comparator(e.key,this.key);return this.matchesComparison(t)}},r0=class extends we{constructor(e,t){super(e,"in",t),this.keys=hM("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}},i0=class extends we{constructor(e,t){super(e,"not-in",t),this.keys=hM("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}};function hM(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>q.fromName(r.referenceValue))}var o0=class extends we{constructor(e,t){super(e,"array-contains",t)}matches(e){let t=e.data.field(this.field);return Yl(t)&&Ql(t.arrayValue,this.value)}},Yf=class extends we{constructor(e,t){super(e,"in",t)}matches(e){let t=e.data.field(this.field);return t!==null&&Ql(this.value.arrayValue,t)}},s0=class extends we{constructor(e,t){super(e,"not-in",t)}matches(e){if(Ql(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let t=e.data.field(this.field);return t!==null&&!Ql(this.value.arrayValue,t)}},a0=class extends we{constructor(e,t){super(e,"array-contains-any",t)}matches(e){let t=e.data.field(this.field);return!(!Yl(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Ql(this.value.arrayValue,r))}};var u0=class{constructor(e,t=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.ue=null}};function l0(n,e=null,t=[],r=[],i=null,o=null,s=null){return new u0(n,e,t,r,i,o,s)}function Qo(n){let e=H(n);if(e.ue===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>t0(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),hc(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Da(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Da(r)).join(",")),e.ue=t}return e.ue}function fc(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!p4(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!lM(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!ex(n.startAt,e.startAt)&&ex(n.endAt,e.endAt)}function Zf(n){return q.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}function Jf(n,e){return n.filters.filter(t=>t instanceof we&&t.field.isEqual(e))}function tx(n,e,t){let r=Lf,i=!0;for(let o of Jf(n,e)){let s=Lf,a=!0;switch(o.op){case"<":case"<=":s=h4(o.value);break;case"==":case"in":case">=":s=o.value;break;case">":s=o.value,a=!1;break;case"!=":case"not-in":s=Lf}ZA({value:r,inclusive:i},{value:s,inclusive:a})<0&&(r=s,i=a)}if(t!==null){for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(e)){let s=t.position[o];ZA({value:r,inclusive:i},{value:s,inclusive:t.inclusive})<0&&(r=s,i=t.inclusive);break}}return{value:r,inclusive:i}}function nx(n,e,t){let r=Li,i=!0;for(let o of Jf(n,e)){let s=Li,a=!0;switch(o.op){case">=":case">":s=f4(o.value),a=!1;break;case"==":case"in":case"<=":s=o.value;break;case"<":s=o.value,a=!1;break;case"!=":case"not-in":s=Li}JA({value:r,inclusive:i},{value:s,inclusive:a})>0&&(r=s,i=a)}if(t!==null){for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(e)){let s=t.position[o];JA({value:r,inclusive:i},{value:s,inclusive:t.inclusive})>0&&(r=s,i=t.inclusive);break}}return{value:r,inclusive:i}}var Yn=class{constructor(e,t=null,r=[],i=[],o=null,s="F",a=null,u=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}};function fM(n,e,t,r,i,o,s,a){return new Yn(n,e,t,r,i,o,s,a)}function Ua(n){return new Yn(n)}function rx(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function qw(n){return n.collectionGroup!==null}function wa(n){let e=H(n);if(e.ce===null){e.ce=[];let t=new Set;for(let o of e.explicitOrderBy)e.ce.push(o),t.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new Le(ot.comparator);return s.filters.forEach(u=>{u.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.ce.push(new Ko(o,r))}),t.has(ot.keyField().canonicalString())||e.ce.push(new Ko(ot.keyField(),r))}return e.ce}function tn(n){let e=H(n);return e.le||(e.le=g4(e,wa(n))),e.le}function g4(n,e){if(n.limitType==="F")return l0(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new Ko(i.field,o)});let t=n.endAt?new Er(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Er(n.startAt.position,n.startAt.inclusive):null;return l0(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function c0(n,e){let t=n.filters.concat([e]);return new Yn(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function Xf(n,e,t){return new Yn(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function pc(n,e){return fc(tn(n),tn(e))&&n.limitType===e.limitType}function pM(n){return`${Qo(tn(n))}|lt:${n.limitType}`}function pa(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>dM(i)).join(", ")}]`),hc(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>Da(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>Da(i)).join(",")),`Target(${r})`}(tn(n))}; limitType=${n.limitType})`}function gc(n,e){return e.isFoundDocument()&&function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):q.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(n,e)&&function(r,i){for(let o of wa(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(n,e)&&function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0}(n,e)&&function(r,i){return!(r.startAt&&!function(s,a,u){let c=XA(s,a,u);return s.inclusive?c<=0:c<0}(r.startAt,wa(r),i)||r.endAt&&!function(s,a,u){let c=XA(s,a,u);return s.inclusive?c>=0:c>0}(r.endAt,wa(r),i))}(n,e)}function gM(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function mM(n){return(e,t)=>{let r=!1;for(let i of wa(n)){let o=m4(i,e,t);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function m4(n,e,t){let r=n.field.isKeyField()?q.comparator(e.key,t.key):function(o,s,a){let u=s.data.field(o),c=a.data.field(o);return u!==null&&c!==null?qi(u,c):Q()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Q()}}var Ir=class{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){rs(this.inner,(t,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return rM(this.inner)}size(){return this.innerSize}};var y4=new ze(q.comparator);function cn(){return y4}var yM=new ze(q.comparator);function Ll(...n){let e=yM;for(let t of n)e=e.insert(t.key,t);return e}function vM(n){let e=yM;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function mr(){return Bl()}function _M(){return Bl()}function Bl(){return new Ir(n=>n.toString(),(n,e)=>n.isEqual(e))}var v4=new ze(q.comparator),_4=new Le(q.comparator);function le(...n){let e=_4;for(let t of n)e=e.add(t);return e}var w4=new Le(ue);function zw(){return w4}function Gw(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Gl(e)?"-0":e}}function wM(n){return{integerValue:""+n}}function EM(n,e){return Jx(e)?wM(e):Gw(n,e)}var Sa=class{constructor(){this._=void 0}};function E4(n,e,t){return n instanceof zi?function(i,o){let s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&jp(o)&&(o=$w(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(t,e):n instanceof Qr?CM(n,e):n instanceof Yr?DM(n,e):function(i,o){let s=IM(i,o),a=ix(s)+ix(i.Pe);return X_(s)&&X_(i.Pe)?wM(a):Gw(i.serializer,a)}(n,e)}function I4(n,e,t){return n instanceof Qr?CM(n,e):n instanceof Yr?DM(n,e):t}function IM(n,e){return n instanceof Gi?function(r){return X_(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}var zi=class extends Sa{},Qr=class extends Sa{constructor(e){super(),this.elements=e}};function CM(n,e){let t=bM(e);for(let r of n.elements)t.some(i=>wr(i,r))||t.push(r);return{arrayValue:{values:t}}}var Yr=class extends Sa{constructor(e){super(),this.elements=e}};function DM(n,e){let t=bM(e);for(let r of n.elements)t=t.filter(i=>!wr(i,r));return{arrayValue:{values:t}}}var Gi=class extends Sa{constructor(e,t){super(),this.serializer=e,this.Pe=t}};function ix(n){return We(n.integerValue||n.doubleValue)}function bM(n){return Yl(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}var Yo=class{constructor(e,t){this.field=e,this.transform=t}};function C4(n,e){return n.field.isEqual(e.field)&&function(r,i){return r instanceof Qr&&i instanceof Qr||r instanceof Yr&&i instanceof Yr?Ia(r.elements,i.elements,wr):r instanceof Gi&&i instanceof Gi?wr(r.Pe,i.Pe):r instanceof zi&&i instanceof zi}(n.transform,e.transform)}var d0=class{constructor(e,t){this.version=e,this.transformResults=t}},Xe=class n{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new n}static exists(e){return new n(void 0,e)}static updateTime(e){return new n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function Uf(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}var Ta=class{};function SM(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Ki(n.key,Xe.none()):new Wi(n.key,n.data,Xe.none());{let t=n.data,r=$t.empty(),i=new Le(ot.comparator);for(let o of e.fields)if(!i.has(o)){let s=t.field(o);s===null&&o.length>1&&(o=o.popLast(),s=t.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new Zn(n.key,r,new wn(i.toArray()),Xe.none())}}function D4(n,e,t){n instanceof Wi?function(i,o,s){let a=i.value.clone(),u=sx(i.fieldTransforms,o,s.transformResults);a.setAll(u),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(n,e,t):n instanceof Zn?function(i,o,s){if(!Uf(i.precondition,o))return void o.convertToUnknownDocument(s.version);let a=sx(i.fieldTransforms,o,s.transformResults),u=o.data;u.setAll(TM(i)),u.setAll(a),o.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(n,e,t):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,t)}function $l(n,e,t,r){return n instanceof Wi?function(o,s,a,u){if(!Uf(o.precondition,s))return a;let c=o.value.clone(),h=ax(o.fieldTransforms,u,s);return c.setAll(h),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),null}(n,e,t,r):n instanceof Zn?function(o,s,a,u){if(!Uf(o.precondition,s))return a;let c=ax(o.fieldTransforms,u,s),h=s.data;return h.setAll(TM(o)),h.setAll(c),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(f=>f.field))}(n,e,t,r):function(o,s,a){return Uf(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(n,e,t)}function b4(n,e){let t=null;for(let r of n.fieldTransforms){let i=e.data.field(r.field),o=IM(r.transform,i||null);o!=null&&(t===null&&(t=$t.empty()),t.set(r.field,o))}return t||null}function ox(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Ia(r,i,(o,s)=>C4(o,s))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}var Wi=class extends Ta{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},Zn=class extends Ta{constructor(e,t,r,i,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function TM(n){let e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){let r=n.data.field(t);e.set(t,r)}}),e}function sx(n,e,t){let r=new Map;X(n.length===t.length);for(let i=0;i<t.length;i++){let o=n[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,I4(s,a,t[i]))}return r}function ax(n,e,t){let r=new Map;for(let i of n){let o=i.transform,s=t.data.field(i.field);r.set(i.field,E4(o,s,e))}return r}var Ki=class extends Ta{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},Zl=class extends Ta{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var Jl=class{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){let r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&D4(o,e,r[i])}}applyToLocalView(e,t){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(t=$l(r,e,t,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(t=$l(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){let r=_M();return this.mutations.forEach(i=>{let o=e.get(i.key),s=o.overlayedDocument,a=this.applyToLocalView(s,o.mutatedFields);a=t.has(i.key)?null:a;let u=SM(s,a);u!==null&&r.set(i.key,u),s.isValidDocument()||s.convertToNoDocument(ie.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),le())}isEqual(e){return this.batchId===e.batchId&&Ia(this.mutations,e.mutations,(t,r)=>ox(t,r))&&Ia(this.baseMutations,e.baseMutations,(t,r)=>ox(t,r))}},h0=class n{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){X(e.mutations.length===r.length);let i=function(){return v4}(),o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new n(e,t,r,i)}};var Xl=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var f0=class{constructor(e,t){this.count=e,this.unchangedNames=t}};var ht,be;function AM(n){switch(n){default:return Q();case N.CANCELLED:case N.UNKNOWN:case N.DEADLINE_EXCEEDED:case N.RESOURCE_EXHAUSTED:case N.INTERNAL:case N.UNAVAILABLE:case N.UNAUTHENTICATED:return!1;case N.INVALID_ARGUMENT:case N.NOT_FOUND:case N.ALREADY_EXISTS:case N.PERMISSION_DENIED:case N.FAILED_PRECONDITION:case N.ABORTED:case N.OUT_OF_RANGE:case N.UNIMPLEMENTED:case N.DATA_LOSS:return!0}}function xM(n){if(n===void 0)return it("GRPC error has no .code"),N.UNKNOWN;switch(n){case ht.OK:return N.OK;case ht.CANCELLED:return N.CANCELLED;case ht.UNKNOWN:return N.UNKNOWN;case ht.DEADLINE_EXCEEDED:return N.DEADLINE_EXCEEDED;case ht.RESOURCE_EXHAUSTED:return N.RESOURCE_EXHAUSTED;case ht.INTERNAL:return N.INTERNAL;case ht.UNAVAILABLE:return N.UNAVAILABLE;case ht.UNAUTHENTICATED:return N.UNAUTHENTICATED;case ht.INVALID_ARGUMENT:return N.INVALID_ARGUMENT;case ht.NOT_FOUND:return N.NOT_FOUND;case ht.ALREADY_EXISTS:return N.ALREADY_EXISTS;case ht.PERMISSION_DENIED:return N.PERMISSION_DENIED;case ht.FAILED_PRECONDITION:return N.FAILED_PRECONDITION;case ht.ABORTED:return N.ABORTED;case ht.OUT_OF_RANGE:return N.OUT_OF_RANGE;case ht.UNIMPLEMENTED:return N.UNIMPLEMENTED;case ht.DATA_LOSS:return N.DATA_LOSS;default:return Q()}}(be=ht||(ht={}))[be.OK=0]="OK",be[be.CANCELLED=1]="CANCELLED",be[be.UNKNOWN=2]="UNKNOWN",be[be.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",be[be.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",be[be.NOT_FOUND=5]="NOT_FOUND",be[be.ALREADY_EXISTS=6]="ALREADY_EXISTS",be[be.PERMISSION_DENIED=7]="PERMISSION_DENIED",be[be.UNAUTHENTICATED=16]="UNAUTHENTICATED",be[be.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",be[be.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",be[be.ABORTED=10]="ABORTED",be[be.OUT_OF_RANGE=11]="OUT_OF_RANGE",be[be.UNIMPLEMENTED=12]="UNIMPLEMENTED",be[be.INTERNAL=13]="INTERNAL",be[be.UNAVAILABLE=14]="UNAVAILABLE",be[be.DATA_LOSS=15]="DATA_LOSS";var ux=null;function MM(){return new TextEncoder}var S4=new Pi([4294967295,4294967295],0);function lx(n){let e=MM().encode(n),t=new A_;return t.update(e),new Uint8Array(t.digest())}function cx(n){let e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Pi([t,r],0),new Pi([i,o],0)]}var p0=class n{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new qo(`Invalid padding: ${t}`);if(r<0)throw new qo(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new qo(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new qo(`Invalid padding when bitmap length is 0: ${t}`);this.Ie=8*e.length-t,this.Te=Pi.fromNumber(this.Ie)}Ee(e,t,r){let i=e.add(t.multiply(Pi.fromNumber(r)));return i.compare(S4)===1&&(i=new Pi([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;let t=lx(e),[r,i]=cx(t);for(let o=0;o<this.hashCount;o++){let s=this.Ee(r,i,o);if(!this.de(s))return!1}return!0}static create(e,t,r){let i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new n(o,i,t);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.Ie===0)return;let t=lx(e),[r,i]=cx(t);for(let o=0;o<this.hashCount;o++){let s=this.Ee(r,i,o);this.Ae(s)}}Ae(e){let t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}},qo=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var ec=class n{constructor(e,t,r,i,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){let i=new Map;return i.set(e,tc.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new n(ie.min(),i,new ze(ue),cn(),le())}},tc=class n{constructor(e,t,r,i,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new n(r,t,le(),le(),le())}};var Ea=class{constructor(e,t,r,i){this.Re=e,this.removedTargetIds=t,this.key=r,this.Ve=i}},ep=class{constructor(e,t){this.targetId=e,this.me=t}},tp=class{constructor(e,t,r=at.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}},np=class{constructor(){this.fe=0,this.ge=hx(),this.pe=at.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=le(),t=le(),r=le();return this.ge.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:Q()}}),new tc(this.pe,this.ye,e,t,r)}Ce(){this.we=!1,this.ge=hx()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,X(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}},g0=class{constructor(e){this.Le=e,this.Be=new Map,this.ke=cn(),this.qe=dx(),this.Qe=new ze(ue)}Ke(e){for(let t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(t,e.Ve):this.Ue(t,e.key,e.Ve);for(let t of e.removedTargetIds)this.Ue(t,e.key,e.Ve)}We(e){this.forEachTarget(e,t=>{let r=this.Ge(t);switch(e.state){case 0:this.ze(t)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(t);break;case 3:this.ze(t)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(t)&&(this.je(t),r.De(e.resumeToken));break;default:Q()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach((r,i)=>{this.ze(i)&&t(i)})}He(e){let t=e.targetId,r=e.me.count,i=this.Je(t);if(i){let o=i.target;if(Zf(o))if(r===0){let s=new q(o.path);this.Ue(t,s,gt.newNoDocument(s,ie.min()))}else X(r===1);else{let s=this.Ye(t);if(s!==r){let a=this.Ze(e),u=a?this.Xe(a,e,s):1;if(u!==0){this.je(t);let c=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(t,c)}ux?.et(function(h,f,m,y,S){var D,T,L,K,F,J;let oe={localCacheCount:h,existenceFilterCount:f.count,databaseId:m.database,projectId:m.projectId},ne=f.unchangedNames;return ne&&(oe.bloomFilter={applied:S===0,hashCount:(D=ne?.hashCount)!==null&&D!==void 0?D:0,bitmapLength:(K=(L=(T=ne?.bits)===null||T===void 0?void 0:T.bitmap)===null||L===void 0?void 0:L.length)!==null&&K!==void 0?K:0,padding:(J=(F=ne?.bits)===null||F===void 0?void 0:F.padding)!==null&&J!==void 0?J:0,mightContain:E=>{var v;return(v=y?.mightContain(E))!==null&&v!==void 0&&v}}),oe}(s,e.me,this.Le.tt(),a,u))}}}}Ze(e){let t=e.me.unchangedNames;if(!t||!t.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=t,s,a;try{s=$i(r).toUint8Array()}catch(u){if(u instanceof Kf)return Qn("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new p0(s,i,o)}catch(u){return Qn(u instanceof qo?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.Ie===0?null:a}Xe(e,t,r){return t.me.count===r-this.nt(e,t.targetId)?0:2}nt(e,t){let r=this.Le.getRemoteKeysForTarget(t),i=0;return r.forEach(o=>{let s=this.Le.tt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.Ue(t,o,null),i++)}),i}rt(e){let t=new Map;this.Be.forEach((o,s)=>{let a=this.Je(s);if(a){if(o.current&&Zf(a.target)){let u=new q(a.target.path);this.ke.get(u)!==null||this.it(s,u)||this.Ue(s,u,gt.newNoDocument(u,e))}o.be&&(t.set(s,o.ve()),o.Ce())}});let r=le();this.qe.forEach((o,s)=>{let a=!0;s.forEachWhile(u=>{let c=this.Je(u);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.ke.forEach((o,s)=>s.setReadTime(e));let i=new ec(e,t,this.Qe,this.ke,r);return this.ke=cn(),this.qe=dx(),this.Qe=new ze(ue),i}$e(e,t){if(!this.ze(e))return;let r=this.it(e,t.key)?2:0;this.Ge(e).Fe(t.key,r),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e))}Ue(e,t,r){if(!this.ze(e))return;let i=this.Ge(e);this.it(e,t)?i.Fe(t,1):i.Me(t),this.qe=this.qe.insert(t,this.st(t).delete(e)),r&&(this.ke=this.ke.insert(t,r))}removeTarget(e){this.Be.delete(e)}Ye(e){let t=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let t=this.Be.get(e);return t||(t=new np,this.Be.set(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new Le(ue),this.qe=this.qe.insert(e,t)),t}ze(e){let t=this.Je(e)!==null;return t||V("WatchChangeAggregator","Detected inactive target",e),t}Je(e){let t=this.Be.get(e);return t&&t.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new np),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.Ue(e,t,null)})}it(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}};function dx(){return new ze(q.comparator)}function hx(){return new ze(q.comparator)}var T4={asc:"ASCENDING",desc:"DESCENDING"},A4={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},x4={and:"AND",or:"OR"},m0=class{constructor(e,t){this.databaseId=e,this.useProto3Json=t}};function y0(n,e){return n.useProto3Json||hc(e)?e:{value:e}}function Aa(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function RM(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function M4(n,e){return Aa(n,e.toTimestamp())}function st(n){return X(!!n),ie.fromTimestamp(function(t){let r=Kr(t);return new qe(r.seconds,r.nanos)}(n))}function Ww(n,e){return v0(n,e).canonicalString()}function v0(n,e){let t=function(i){return new Se(["projects",i.projectId,"databases",i.database])}(n).child("documents");return e===void 0?t:t.child(e)}function NM(n){let e=Se.fromString(n);return X($M(e)),e}function nc(n,e){return Ww(n.databaseId,e.path)}function vr(n,e){let t=NM(e);if(t.get(1)!==n.databaseId.projectId)throw new O(N.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new O(N.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new q(FM(t))}function PM(n,e){return Ww(n.databaseId,e)}function kM(n){let e=NM(n);return e.length===4?Se.emptyPath():FM(e)}function _0(n){return new Se(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function FM(n){return X(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function fx(n,e,t){return{name:nc(n,e),fields:t.value.mapValue.fields}}function OM(n,e,t){let r=vr(n,e.name),i=st(e.updateTime),o=e.createTime?st(e.createTime):ie.min(),s=new $t({mapValue:{fields:e.fields}}),a=gt.newFoundDocument(r,i,o,s);return t&&a.setHasCommittedMutations(),t?a.setHasCommittedMutations():a}function R4(n,e){return"found"in e?function(r,i){X(!!i.found),i.found.name,i.found.updateTime;let o=vr(r,i.found.name),s=st(i.found.updateTime),a=i.found.createTime?st(i.found.createTime):ie.min(),u=new $t({mapValue:{fields:i.found.fields}});return gt.newFoundDocument(o,s,a,u)}(n,e):"missing"in e?function(r,i){X(!!i.missing),X(!!i.readTime);let o=vr(r,i.missing),s=st(i.readTime);return gt.newNoDocument(o,s)}(n,e):Q()}function N4(n,e){let t;if("targetChange"in e){e.targetChange;let r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:Q()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(c,h){return c.useProto3Json?(X(h===void 0||typeof h=="string"),at.fromBase64String(h||"")):(X(h===void 0||h instanceof Buffer||h instanceof Uint8Array),at.fromUint8Array(h||new Uint8Array))}(n,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(c){let h=c.code===void 0?N.UNKNOWN:xM(c.code);return new O(h,c.message||"")}(s);t=new tp(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=vr(n,r.document.name),o=st(r.document.updateTime),s=r.document.createTime?st(r.document.createTime):ie.min(),a=new $t({mapValue:{fields:r.document.fields}}),u=gt.newFoundDocument(i,o,s,a),c=r.targetIds||[],h=r.removedTargetIds||[];t=new Ea(c,h,u.key,u)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=vr(n,r.document),o=r.readTime?st(r.readTime):ie.min(),s=gt.newNoDocument(i,o),a=r.removedTargetIds||[];t=new Ea([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=vr(n,r.document),o=r.removedTargetIds||[];t=new Ea([],o,i,null)}else{if(!("filter"in e))return Q();{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:o}=r,s=new f0(i,o),a=r.targetId;t=new ep(a,s)}}return t}function rc(n,e){let t;if(e instanceof Wi)t={update:fx(n,e.key,e.value)};else if(e instanceof Ki)t={delete:nc(n,e.key)};else if(e instanceof Zn)t={update:fx(n,e.key,e.data),updateMask:L4(e.fieldMask)};else{if(!(e instanceof Zl))return Q();t={verify:nc(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(o,s){let a=s.transform;if(a instanceof zi)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Qr)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Yr)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Gi)return{fieldPath:s.field.canonicalString(),increment:a.Pe};throw Q()}(0,r))),e.precondition.isNone||(t.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:M4(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Q()}(n,e.precondition)),t}function w0(n,e){let t=e.currentDocument?function(o){return o.updateTime!==void 0?Xe.updateTime(st(o.updateTime)):o.exists!==void 0?Xe.exists(o.exists):Xe.none()}(e.currentDocument):Xe.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(s,a){let u=null;if("setToServerValue"in a)X(a.setToServerValue==="REQUEST_TIME"),u=new zi;else if("appendMissingElements"in a){let h=a.appendMissingElements.values||[];u=new Qr(h)}else if("removeAllFromArray"in a){let h=a.removeAllFromArray.values||[];u=new Yr(h)}else"increment"in a?u=new Gi(s,a.increment):Q();let c=ot.fromServerFormat(a.fieldPath);return new Yo(c,u)}(n,i)):[];if(e.update){e.update.name;let i=vr(n,e.update.name),o=new $t({mapValue:{fields:e.update.fields}});if(e.updateMask){let s=function(u){let c=u.fieldPaths||[];return new wn(c.map(h=>ot.fromServerFormat(h)))}(e.updateMask);return new Zn(i,o,s,t,r)}return new Wi(i,o,t,r)}if(e.delete){let i=vr(n,e.delete);return new Ki(i,t)}if(e.verify){let i=vr(n,e.verify);return new Zl(i,t)}return Q()}function P4(n,e){return n&&n.length>0?(X(e!==void 0),n.map(t=>function(i,o){let s=i.updateTime?st(i.updateTime):st(o);return s.isEqual(ie.min())&&(s=st(o)),new d0(s,i.transformResults||[])}(t,e))):[]}function VM(n,e){return{documents:[PM(n,e.path)]}}function LM(n,e){let t={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=PM(n,i);let o=function(c){if(c.length!==0)return BM(ke.create(c,"and"))}(e.filters);o&&(t.structuredQuery.where=o);let s=function(c){if(c.length!==0)return c.map(h=>function(m){return{field:ga(m.field),direction:F4(m.dir)}}(h))}(e.orderBy);s&&(t.structuredQuery.orderBy=s);let a=y0(n,e.limit);return a!==null&&(t.structuredQuery.limit=a),e.startAt&&(t.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{_t:t,parent:i}}function jM(n){let e=kM(n.parent),t=n.structuredQuery,r=t.from?t.from.length:0,i=null;if(r>0){X(r===1);let h=t.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let o=[];t.where&&(o=function(f){let m=UM(f);return m instanceof ke&&Hw(m)?m.getFilters():[m]}(t.where));let s=[];t.orderBy&&(s=function(f){return f.map(m=>function(S){return new Ko(ma(S.field),function(T){switch(T){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(S.direction))}(m))}(t.orderBy));let a=null;t.limit&&(a=function(f){let m;return m=typeof f=="object"?f.value:f,hc(m)?null:m}(t.limit));let u=null;t.startAt&&(u=function(f){let m=!!f.before,y=f.values||[];return new Er(y,m)}(t.startAt));let c=null;return t.endAt&&(c=function(f){let m=!f.before,y=f.values||[];return new Er(y,m)}(t.endAt)),fM(e,i,s,o,a,"F",u,c)}function k4(n,e){let t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Q()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function UM(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":let r=ma(t.unaryFilter.field);return we.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=ma(t.unaryFilter.field);return we.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=ma(t.unaryFilter.field);return we.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=ma(t.unaryFilter.field);return we.create(s,"!=",{nullValue:"NULL_VALUE"});default:return Q()}}(n):n.fieldFilter!==void 0?function(t){return we.create(ma(t.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Q()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return ke.create(t.compositeFilter.filters.map(r=>UM(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Q()}}(t.compositeFilter.op))}(n):Q()}function F4(n){return T4[n]}function O4(n){return A4[n]}function V4(n){return x4[n]}function ga(n){return{fieldPath:n.canonicalString()}}function ma(n){return ot.fromServerFormat(n.fieldPath)}function BM(n){return n instanceof we?function(t){if(t.op==="=="){if(YA(t.value))return{unaryFilter:{field:ga(t.field),op:"IS_NAN"}};if(QA(t.value))return{unaryFilter:{field:ga(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(YA(t.value))return{unaryFilter:{field:ga(t.field),op:"IS_NOT_NAN"}};if(QA(t.value))return{unaryFilter:{field:ga(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ga(t.field),op:O4(t.op),value:t.value}}}(n):n instanceof ke?function(t){let r=t.getFilters().map(i=>BM(i));return r.length===1?r[0]:{compositeFilter:{op:V4(t.op),filters:r}}}(n):Q()}function L4(n){let e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function $M(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}var xa=class n{constructor(e,t,r,i,o=ie.min(),s=ie.min(),a=at.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new n(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var rp=class{constructor(e){this.ct=e}};function j4(n,e){let t;if(e.document)t=OM(n.ct,e.document,!!e.hasCommittedMutations);else if(e.noDocument){let r=q.fromSegments(e.noDocument.path),i=Jo(e.noDocument.readTime);t=gt.newNoDocument(r,i),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return Q();{let r=q.fromSegments(e.unknownDocument.path),i=Jo(e.unknownDocument.version);t=gt.newUnknownDocument(r,i)}}return e.readTime&&t.setReadTime(function(i){let o=new qe(i[0],i[1]);return ie.fromTimestamp(o)}(e.readTime)),t}function px(n,e){let t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:ip(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=function(o,s){return{name:nc(o,s.key),fields:s.data.value.mapValue.fields,updateTime:Aa(o,s.version.toTimestamp()),createTime:Aa(o,s.createTime.toTimestamp())}}(n.ct,e);else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:Zo(e.version)};else{if(!e.isUnknownDocument())return Q();r.unknownDocument={path:t.path.toArray(),version:Zo(e.version)}}return r}function ip(n){let e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function Zo(n){let e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Jo(n){let e=new qe(n.seconds,n.nanoseconds);return ie.fromTimestamp(e)}function Bo(n,e){let t=(e.baseMutations||[]).map(o=>w0(n.ct,o));for(let o=0;o<e.mutations.length-1;++o){let s=e.mutations[o];if(o+1<e.mutations.length&&e.mutations[o+1].transform!==void 0){let a=e.mutations[o+1];s.updateTransforms=a.transform.fieldTransforms,e.mutations.splice(o+1,1),++o}}let r=e.mutations.map(o=>w0(n.ct,o)),i=qe.fromMillis(e.localWriteTimeMs);return new Jl(e.batchId,i,t,r)}function jl(n){let e=Jo(n.readTime),t=n.lastLimboFreeSnapshotVersion!==void 0?Jo(n.lastLimboFreeSnapshotVersion):ie.min(),r;return r=function(o){return o.documents!==void 0}(n.query)?function(o){return X(o.documents.length===1),tn(Ua(kM(o.documents[0])))}(n.query):function(o){return tn(jM(o))}(n.query),new xa(r,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,e,t,at.fromBase64String(n.resumeToken))}function HM(n,e){let t=Zo(e.snapshotVersion),r=Zo(e.lastLimboFreeSnapshotVersion),i;i=Zf(e.target)?VM(n.ct,e.target):LM(n.ct,e.target)._t;let o=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Qo(e.target),readTime:t,resumeToken:o,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function Kw(n){let e=jM({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Xf(e,e.limit,"L"):e}function k_(n,e){return new Xl(e.largestBatchId,w0(n.ct,e.overlayMutation))}function gx(n,e){let t=e.path.lastSegment();return[n,en(e.path.popLast()),t]}function mx(n,e,t,r){return{indexId:n,uid:e,sequenceNumber:t,readTime:Zo(r.readTime),documentKey:en(r.documentKey.path),largestBatchId:r.largestBatchId}}var E0=class{getBundleMetadata(e,t){return yx(e).get(t).next(r=>{if(r)return function(o){return{id:o.bundleId,createTime:Jo(o.createTime),version:o.version}}(r)})}saveBundleMetadata(e,t){return yx(e).put(function(i){return{bundleId:i.id,createTime:Zo(st(i.createTime)),version:i.version}}(t))}getNamedQuery(e,t){return vx(e).get(t).next(r=>{if(r)return function(o){return{name:o.name,query:Kw(o.bundledQuery),readTime:Jo(o.readTime)}}(r)})}saveNamedQuery(e,t){return vx(e).put(function(i){return{name:i.name,readTime:Zo(st(i.readTime)),bundledQuery:i.bundledQuery}}(t))}};function yx(n){return Et(n,"bundles")}function vx(n){return Et(n,"namedQueries")}var op=class n{constructor(e,t){this.serializer=e,this.userId=t}static lt(e,t){let r=t.uid||"";return new n(e,r)}getOverlay(e,t){return kl(e).get(gx(this.userId,t)).next(r=>r?k_(this.serializer,r):null)}getOverlays(e,t){let r=mr();return x.forEach(t,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,t,r){let i=[];return r.forEach((o,s)=>{let a=new Xl(t,s);i.push(this.ht(e,a))}),x.waitFor(i)}removeOverlaysForBatchId(e,t,r){let i=new Set;t.forEach(s=>i.add(en(s.getCollectionPath())));let o=[];return i.forEach(s=>{let a=IDBKeyRange.bound([this.userId,s,r],[this.userId,s,r+1],!1,!0);o.push(kl(e).j("collectionPathOverlayIndex",a))}),x.waitFor(o)}getOverlaysForCollection(e,t,r){let i=mr(),o=en(t),s=IDBKeyRange.bound([this.userId,o,r],[this.userId,o,Number.POSITIVE_INFINITY],!0);return kl(e).U("collectionPathOverlayIndex",s).next(a=>{for(let u of a){let c=k_(this.serializer,u);i.set(c.getKey(),c)}return i})}getOverlaysForCollectionGroup(e,t,r,i){let o=mr(),s,a=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return kl(e).J({index:"collectionGroupOverlayIndex",range:a},(u,c,h)=>{let f=k_(this.serializer,c);o.size()<i||f.largestBatchId===s?(o.set(f.getKey(),f),s=f.largestBatchId):h.done()}).next(()=>o)}ht(e,t){return kl(e).put(function(i,o,s){let[a,u,c]=gx(o,s.mutation.key);return{userId:o,collectionPath:u,documentId:c,collectionGroup:s.mutation.key.getCollectionGroup(),largestBatchId:s.largestBatchId,overlayMutation:rc(i.ct,s.mutation)}}(this.serializer,this.userId,t))}};function kl(n){return Et(n,"documentOverlays")}var I0=class{Pt(e){return Et(e,"globals")}getSessionToken(e){return this.Pt(e).get("sessionToken").next(t=>{let r=t?.value;return r?at.fromUint8Array(r):at.EMPTY_BYTE_STRING})}setSessionToken(e,t){return this.Pt(e).put({name:"sessionToken",value:t.toUint8Array()})}};var Gr=class{constructor(){}It(e,t){this.Tt(e,t),t.Et()}Tt(e,t){if("nullValue"in e)this.dt(t,5);else if("booleanValue"in e)this.dt(t,10),t.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(t,15),t.At(We(e.integerValue));else if("doubleValue"in e){let r=We(e.doubleValue);isNaN(r)?this.dt(t,13):(this.dt(t,15),Gl(r)?t.At(0):t.At(r))}else if("timestampValue"in e){let r=e.timestampValue;this.dt(t,20),typeof r=="string"&&(r=Kr(r)),t.Rt(`${r.seconds||""}`),t.At(r.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,t),this.ft(t);else if("bytesValue"in e)this.dt(t,30),t.gt($i(e.bytesValue)),this.ft(t);else if("referenceValue"in e)this.yt(e.referenceValue,t);else if("geoPointValue"in e){let r=e.geoPointValue;this.dt(t,45),t.At(r.latitude||0),t.At(r.longitude||0)}else"mapValue"in e?oM(e)?this.dt(t,Number.MAX_SAFE_INTEGER):Up(e)?this.wt(e.mapValue,t):(this.St(e.mapValue,t),this.ft(t)):"arrayValue"in e?(this.bt(e.arrayValue,t),this.ft(t)):Q()}Vt(e,t){this.dt(t,25),this.Dt(e,t)}Dt(e,t){t.Rt(e)}St(e,t){let r=e.fields||{};this.dt(t,55);for(let i of Object.keys(r))this.Vt(i,t),this.Tt(r[i],t)}wt(e,t){var r,i;let o=e.fields||{};this.dt(t,53);let s="value",a=((i=(r=o[s].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.dt(t,15),t.At(We(a)),this.Vt(s,t),this.Tt(o[s],t)}bt(e,t){let r=e.values||[];this.dt(t,50);for(let i of r)this.Tt(i,t)}yt(e,t){this.dt(t,37),q.fromName(e).path.forEach(r=>{this.dt(t,60),this.Dt(r,t)})}dt(e,t){e.At(t)}ft(e){e.At(2)}};Gr.vt=new Gr;function U4(n){if(n===0)return 8;let e=0;return!(n>>4)&&(e+=4,n<<=4),!(n>>6)&&(e+=2,n<<=2),!(n>>7)&&(e+=1),e}function _x(n){let e=64-function(r){let i=0;for(let o=0;o<8;++o){let s=U4(255&r[o]);if(i+=s,s!==8)break}return i}(n);return Math.ceil(e/8)}var C0=class{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ct(e){let t=e[Symbol.iterator](),r=t.next();for(;!r.done;)this.Ft(r.value),r=t.next();this.Mt()}xt(e){let t=e[Symbol.iterator](),r=t.next();for(;!r.done;)this.Ot(r.value),r=t.next();this.Nt()}Lt(e){for(let t of e){let r=t.charCodeAt(0);if(r<128)this.Ft(r);else if(r<2048)this.Ft(960|r>>>6),this.Ft(128|63&r);else if(t<"\uD800"||"\uDBFF"<t)this.Ft(480|r>>>12),this.Ft(128|63&r>>>6),this.Ft(128|63&r);else{let i=t.codePointAt(0);this.Ft(240|i>>>18),this.Ft(128|63&i>>>12),this.Ft(128|63&i>>>6),this.Ft(128|63&i)}}this.Mt()}Bt(e){for(let t of e){let r=t.charCodeAt(0);if(r<128)this.Ot(r);else if(r<2048)this.Ot(960|r>>>6),this.Ot(128|63&r);else if(t<"\uD800"||"\uDBFF"<t)this.Ot(480|r>>>12),this.Ot(128|63&r>>>6),this.Ot(128|63&r);else{let i=t.codePointAt(0);this.Ot(240|i>>>18),this.Ot(128|63&i>>>12),this.Ot(128|63&i>>>6),this.Ot(128|63&i)}}this.Nt()}kt(e){let t=this.qt(e),r=_x(t);this.Qt(1+r),this.buffer[this.position++]=255&r;for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=255&t[i]}Kt(e){let t=this.qt(e),r=_x(t);this.Qt(1+r),this.buffer[this.position++]=~(255&r);for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=~(255&t[i])}$t(){this.Ut(255),this.Ut(255)}Wt(){this.Gt(255),this.Gt(255)}reset(){this.position=0}seed(e){this.Qt(e.length),this.buffer.set(e,this.position),this.position+=e.length}zt(){return this.buffer.slice(0,this.position)}qt(e){let t=function(o){let s=new DataView(new ArrayBuffer(8));return s.setFloat64(0,o,!1),new Uint8Array(s.buffer)}(e),r=(128&t[0])!=0;t[0]^=r?255:128;for(let i=1;i<t.length;++i)t[i]^=r?255:0;return t}Ft(e){let t=255&e;t===0?(this.Ut(0),this.Ut(255)):t===255?(this.Ut(255),this.Ut(0)):this.Ut(t)}Ot(e){let t=255&e;t===0?(this.Gt(0),this.Gt(255)):t===255?(this.Gt(255),this.Gt(0)):this.Gt(e)}Mt(){this.Ut(0),this.Ut(1)}Nt(){this.Gt(0),this.Gt(1)}Ut(e){this.Qt(1),this.buffer[this.position++]=e}Gt(e){this.Qt(1),this.buffer[this.position++]=~e}Qt(e){let t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);let i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}},D0=class{constructor(e){this.jt=e}gt(e){this.jt.Ct(e)}Rt(e){this.jt.Lt(e)}At(e){this.jt.kt(e)}Et(){this.jt.$t()}},b0=class{constructor(e){this.jt=e}gt(e){this.jt.xt(e)}Rt(e){this.jt.Bt(e)}At(e){this.jt.Kt(e)}Et(){this.jt.Wt()}},$o=class{constructor(){this.jt=new C0,this.Ht=new D0(this.jt),this.Jt=new b0(this.jt)}seed(e){this.jt.seed(e)}Yt(e){return e===0?this.Ht:this.Jt}zt(){return this.jt.zt()}reset(){this.jt.reset()}};var Ho=class n{constructor(e,t,r,i){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=i}Zt(){let e=this.directionalValue.length,t=e===0||this.directionalValue[e-1]===255?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new n(this.indexId,this.documentKey,this.arrayValue,r)}};function ki(n,e){let t=n.indexId-e.indexId;return t!==0?t:(t=wx(n.arrayValue,e.arrayValue),t!==0?t:(t=wx(n.directionalValue,e.directionalValue),t!==0?t:q.comparator(n.documentKey,e.documentKey)))}function wx(n,e){for(let t=0;t<n.length&&t<e.length;++t){let r=n[t]-e[t];if(r!==0)return r}return n.length-e.length}var sp=class{constructor(e){this.Xt=new Le((t,r)=>ot.comparator(t.field,r.field)),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.en=e.orderBy,this.tn=[];for(let t of e.filters){let r=t;r.isInequality()?this.Xt=this.Xt.add(r):this.tn.push(r)}}get nn(){return this.Xt.size>1}rn(e){if(X(e.collectionGroup===this.collectionId),this.nn)return!1;let t=G_(e);if(t!==void 0&&!this.sn(t))return!1;let r=jo(e),i=new Set,o=0,s=0;for(;o<r.length&&this.sn(r[o]);++o)i=i.add(r[o].fieldPath.canonicalString());if(o===r.length)return!0;if(this.Xt.size>0){let a=this.Xt.getIterator().getNext();if(!i.has(a.field.canonicalString())){let u=r[o];if(!this.on(a,u)||!this._n(this.en[s++],u))return!1}++o}for(;o<r.length;++o){let a=r[o];if(s>=this.en.length||!this._n(this.en[s++],a))return!1}return!0}an(){if(this.nn)return null;let e=new Le(ot.comparator),t=[];for(let r of this.tn)if(!r.field.isKeyField())if(r.op==="array-contains"||r.op==="array-contains-any")t.push(new _a(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),t.push(new _a(r.field,0))}for(let r of this.en)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),t.push(new _a(r.field,r.dir==="asc"?0:1)));return new Ca(Ca.UNKNOWN_ID,this.collectionId,t,zl.empty())}sn(e){for(let t of this.tn)if(this.on(t,e))return!0;return!1}on(e,t){if(e===void 0||!e.field.isEqual(t.fieldPath))return!1;let r=e.op==="array-contains"||e.op==="array-contains-any";return t.kind===2===r}_n(e,t){return!!e.field.isEqual(t.fieldPath)&&(t.kind===0&&e.dir==="asc"||t.kind===1&&e.dir==="desc")}};function qM(n){var e,t;if(X(n instanceof we||n instanceof ke),n instanceof we){if(n instanceof Yf){let i=((t=(e=n.value.arrayValue)===null||e===void 0?void 0:e.values)===null||t===void 0?void 0:t.map(o=>we.create(n.field,"==",o)))||[];return ke.create(i,"or")}return n}let r=n.filters.map(i=>qM(i));return ke.create(r,n.op)}function B4(n){if(n.getFilters().length===0)return[];let e=A0(qM(n));return X(zM(e)),S0(e)||T0(e)?[e]:e.getFilters()}function S0(n){return n instanceof we}function T0(n){return n instanceof ke&&Hw(n)}function zM(n){return S0(n)||T0(n)||function(t){if(t instanceof ke&&e0(t)){for(let r of t.getFilters())if(!S0(r)&&!T0(r))return!1;return!0}return!1}(n)}function A0(n){if(X(n instanceof we||n instanceof ke),n instanceof we)return n;if(n.filters.length===1)return A0(n.filters[0]);let e=n.filters.map(r=>A0(r)),t=ke.create(e,n.op);return t=ap(t),zM(t)?t:(X(t instanceof ke),X(ba(t)),X(t.filters.length>1),t.filters.reduce((r,i)=>Qw(r,i)))}function Qw(n,e){let t;return X(n instanceof we||n instanceof ke),X(e instanceof we||e instanceof ke),t=n instanceof we?e instanceof we?function(i,o){return ke.create([i,o],"and")}(n,e):Ex(n,e):e instanceof we?Ex(e,n):function(i,o){if(X(i.filters.length>0&&o.filters.length>0),ba(i)&&ba(o))return cM(i,o.getFilters());let s=e0(i)?i:o,a=e0(i)?o:i,u=s.filters.map(c=>Qw(c,a));return ke.create(u,"or")}(n,e),ap(t)}function Ex(n,e){if(ba(e))return cM(e,n.getFilters());{let t=e.filters.map(r=>Qw(n,r));return ke.create(t,"or")}}function ap(n){if(X(n instanceof we||n instanceof ke),n instanceof we)return n;let e=n.getFilters();if(e.length===1)return ap(e[0]);if(uM(n))return n;let t=e.map(i=>ap(i)),r=[];return t.forEach(i=>{i instanceof we?r.push(i):i instanceof ke&&(i.op===n.op?r.push(...i.filters):r.push(i))}),r.length===1?r[0]:ke.create(r,n.op)}var x0=class{constructor(){this.un=new ic}addToCollectionParentIndex(e,t){return this.un.add(t),x.resolve()}getCollectionParents(e,t){return x.resolve(this.un.getEntries(t))}addFieldIndex(e,t){return x.resolve()}deleteFieldIndex(e,t){return x.resolve()}deleteAllFieldIndexes(e){return x.resolve()}createTargetIndexes(e,t){return x.resolve()}getDocumentsMatchingTarget(e,t){return x.resolve(null)}getIndexType(e,t){return x.resolve(0)}getFieldIndexes(e,t){return x.resolve([])}getNextCollectionGroupToUpdate(e){return x.resolve(null)}getMinOffset(e,t){return x.resolve(Mn.min())}getMinOffsetFromCollectionGroup(e,t){return x.resolve(Mn.min())}updateCollectionGroup(e,t,r){return x.resolve()}updateIndexEntries(e,t){return x.resolve()}},ic=class{constructor(){this.index={}}add(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new Le(Se.comparator),o=!i.has(r);return this.index[t]=i.add(r),o}has(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Le(Se.comparator)).toArray()}};var Pf=new Uint8Array(0),M0=class{constructor(e,t){this.databaseId=t,this.cn=new ic,this.ln=new Ir(r=>Qo(r),(r,i)=>fc(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.cn.has(t)){let r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener(()=>{this.cn.add(t)});let o={collectionId:r,parent:en(i)};return Ix(e).put(o)}return x.resolve()}getCollectionParents(e,t){let r=[],i=IDBKeyRange.bound([t,""],[Wx(t),""],!1,!0);return Ix(e).U(i).next(o=>{for(let s of o){if(s.collectionId!==t)break;r.push(gr(s.parent))}return r})}addFieldIndex(e,t){let r=Fl(e),i=function(a){return{indexId:a.indexId,collectionGroup:a.collectionGroup,fields:a.fields.map(u=>[u.fieldPath.canonicalString(),u.kind])}}(t);delete i.indexId;let o=r.add(i);if(t.indexState){let s=da(e);return o.next(a=>{s.put(mx(a,this.uid,t.indexState.sequenceNumber,t.indexState.offset))})}return o.next()}deleteFieldIndex(e,t){let r=Fl(e),i=da(e),o=ca(e);return r.delete(t.indexId).next(()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>o.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){let t=Fl(e),r=ca(e),i=da(e);return t.j().next(()=>r.j()).next(()=>i.j())}createTargetIndexes(e,t){return x.forEach(this.hn(t),r=>this.getIndexType(e,r).next(i=>{if(i===0||i===1){let o=new sp(r).an();if(o!=null)return this.addFieldIndex(e,o)}}))}getDocumentsMatchingTarget(e,t){let r=ca(e),i=!0,o=new Map;return x.forEach(this.hn(t),s=>this.Pn(e,s).next(a=>{i&&(i=!!a),o.set(s,a)})).next(()=>{if(i){let s=le(),a=[];return x.forEach(o,(u,c)=>{V("IndexedDbIndexManager",`Using index ${function(F){return`id=${F.indexId}|cg=${F.collectionGroup}|f=${F.fields.map(J=>`${J.fieldPath}:${J.kind}`).join(",")}`}(u)} to execute ${Qo(t)}`);let h=function(F,J){let oe=G_(J);if(oe===void 0)return null;for(let ne of Jf(F,oe.fieldPath))switch(ne.op){case"array-contains-any":return ne.value.arrayValue.values||[];case"array-contains":return[ne.value]}return null}(c,u),f=function(F,J){let oe=new Map;for(let ne of jo(J))for(let E of Jf(F,ne.fieldPath))switch(E.op){case"==":case"in":oe.set(ne.fieldPath.canonicalString(),E.value);break;case"not-in":case"!=":return oe.set(ne.fieldPath.canonicalString(),E.value),Array.from(oe.values())}return null}(c,u),m=function(F,J){let oe=[],ne=!0;for(let E of jo(J)){let v=E.kind===0?tx(F,E.fieldPath,F.startAt):nx(F,E.fieldPath,F.startAt);oe.push(v.value),ne&&(ne=v.inclusive)}return new Er(oe,ne)}(c,u),y=function(F,J){let oe=[],ne=!0;for(let E of jo(J)){let v=E.kind===0?nx(F,E.fieldPath,F.endAt):tx(F,E.fieldPath,F.endAt);oe.push(v.value),ne&&(ne=v.inclusive)}return new Er(oe,ne)}(c,u),S=this.In(u,c,m),D=this.In(u,c,y),T=this.Tn(u,c,f),L=this.En(u.indexId,h,S,m.inclusive,D,y.inclusive,T);return x.forEach(L,K=>r.G(K,t.limit).next(F=>{F.forEach(J=>{let oe=q.fromSegments(J.documentKey);s.has(oe)||(s=s.add(oe),a.push(oe))})}))}).next(()=>a)}return x.resolve(null)})}hn(e){let t=this.ln.get(e);return t||(e.filters.length===0?t=[e]:t=B4(ke.create(e.filters,"and")).map(r=>l0(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.ln.set(e,t),t)}En(e,t,r,i,o,s,a){let u=(t!=null?t.length:1)*Math.max(r.length,o.length),c=u/(t!=null?t.length:1),h=[];for(let f=0;f<u;++f){let m=t?this.dn(t[f/c]):Pf,y=this.An(e,m,r[f%c],i),S=this.Rn(e,m,o[f%c],s),D=a.map(T=>this.An(e,m,T,!0));h.push(...this.createRange(y,S,D))}return h}An(e,t,r,i){let o=new Ho(e,q.empty(),t,r);return i?o:o.Zt()}Rn(e,t,r,i){let o=new Ho(e,q.empty(),t,r);return i?o.Zt():o}Pn(e,t){let r=new sp(t),i=t.collectionGroup!=null?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,i).next(o=>{let s=null;for(let a of o)r.rn(a)&&(!s||a.fields.length>s.fields.length)&&(s=a);return s})}getIndexType(e,t){let r=2,i=this.hn(t);return x.forEach(i,o=>this.Pn(e,o).next(s=>{s?r!==0&&s.fields.length<function(u){let c=new Le(ot.comparator),h=!1;for(let f of u.filters)for(let m of f.getFlattenedFilters())m.field.isKeyField()||(m.op==="array-contains"||m.op==="array-contains-any"?h=!0:c=c.add(m.field));for(let f of u.orderBy)f.field.isKeyField()||(c=c.add(f.field));return c.size+(h?1:0)}(o)&&(r=1):r=0})).next(()=>function(s){return s.limit!==null}(t)&&i.length>1&&r===2?1:r)}Vn(e,t){let r=new $o;for(let i of jo(e)){let o=t.data.field(i.fieldPath);if(o==null)return null;let s=r.Yt(i.kind);Gr.vt.It(o,s)}return r.zt()}dn(e){let t=new $o;return Gr.vt.It(e,t.Yt(0)),t.zt()}mn(e,t){let r=new $o;return Gr.vt.It(Wo(this.databaseId,t),r.Yt(function(o){let s=jo(o);return s.length===0?0:s[s.length-1].kind}(e))),r.zt()}Tn(e,t,r){if(r===null)return[];let i=[];i.push(new $o);let o=0;for(let s of jo(e)){let a=r[o++];for(let u of i)if(this.fn(t,s.fieldPath)&&Yl(a))i=this.gn(i,s,a);else{let c=u.Yt(s.kind);Gr.vt.It(a,c)}}return this.pn(i)}In(e,t,r){return this.Tn(e,t,r.position)}pn(e){let t=[];for(let r=0;r<e.length;++r)t[r]=e[r].zt();return t}gn(e,t,r){let i=[...e],o=[];for(let s of r.arrayValue.values||[])for(let a of i){let u=new $o;u.seed(a.zt()),Gr.vt.It(s,u.Yt(t.kind)),o.push(u)}return o}fn(e,t){return!!e.filters.find(r=>r instanceof we&&r.field.isEqual(t)&&(r.op==="in"||r.op==="not-in"))}getFieldIndexes(e,t){let r=Fl(e),i=da(e);return(t?r.U("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.U()).next(o=>{let s=[];return x.forEach(o,a=>i.get([a.indexId,this.uid]).next(u=>{s.push(function(h,f){let m=f?new zl(f.sequenceNumber,new Mn(Jo(f.readTime),new q(gr(f.documentKey)),f.largestBatchId)):zl.empty(),y=h.fields.map(([S,D])=>new _a(ot.fromServerFormat(S),D));return new Ca(h.indexId,h.collectionGroup,y,m)}(a,u))})).next(()=>s)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>t.length===0?null:(t.sort((r,i)=>{let o=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return o!==0?o:ue(r.collectionGroup,i.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){let i=Fl(e),o=da(e);return this.yn(e).next(s=>i.U("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(a=>x.forEach(a,u=>o.put(mx(u.indexId,this.uid,s,r)))))}updateIndexEntries(e,t){let r=new Map;return x.forEach(t,(i,o)=>{let s=r.get(i.collectionGroup);return(s?x.resolve(s):this.getFieldIndexes(e,i.collectionGroup)).next(a=>(r.set(i.collectionGroup,a),x.forEach(a,u=>this.wn(e,i,u).next(c=>{let h=this.Sn(o,u);return c.isEqual(h)?x.resolve():this.bn(e,o,u,c,h)}))))})}Dn(e,t,r,i){return ca(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.mn(r,t.key),documentKey:t.key.path.toArray()})}vn(e,t,r,i){return ca(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.mn(r,t.key),t.key.path.toArray()])}wn(e,t,r){let i=ca(e),o=new Le(ki);return i.J({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.mn(r,t)])},(s,a)=>{o=o.add(new Ho(r.indexId,t,a.arrayValue,a.directionalValue))}).next(()=>o)}Sn(e,t){let r=new Le(ki),i=this.Vn(t,e);if(i==null)return r;let o=G_(t);if(o!=null){let s=e.data.field(o.fieldPath);if(Yl(s))for(let a of s.arrayValue.values||[])r=r.add(new Ho(t.indexId,e.key,this.dn(a),i))}else r=r.add(new Ho(t.indexId,e.key,Pf,i));return r}bn(e,t,r,i,o){V("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);let s=[];return function(u,c,h,f,m){let y=u.getIterator(),S=c.getIterator(),D=la(y),T=la(S);for(;D||T;){let L=!1,K=!1;if(D&&T){let F=h(D,T);F<0?K=!0:F>0&&(L=!0)}else D!=null?K=!0:L=!0;L?(f(T),T=la(S)):K?(m(D),D=la(y)):(D=la(y),T=la(S))}}(i,o,ki,a=>{s.push(this.Dn(e,t,r,a))},a=>{s.push(this.vn(e,t,r,a))}),x.waitFor(s)}yn(e){let t=1;return da(e).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,o)=>{o.done(),t=i.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((s,a)=>ki(s,a)).filter((s,a,u)=>!a||ki(s,u[a-1])!==0);let i=[];i.push(e);for(let s of r){let a=ki(s,e),u=ki(s,t);if(a===0)i[0]=e.Zt();else if(a>0&&u<0)i.push(s),i.push(s.Zt());else if(u>0)break}i.push(t);let o=[];for(let s=0;s<i.length;s+=2){if(this.Cn(i[s],i[s+1]))return[];let a=[i[s].indexId,this.uid,i[s].arrayValue,i[s].directionalValue,Pf,[]],u=[i[s+1].indexId,this.uid,i[s+1].arrayValue,i[s+1].directionalValue,Pf,[]];o.push(IDBKeyRange.bound(a,u))}return o}Cn(e,t){return ki(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(Cx)}getMinOffset(e,t){return x.mapArray(this.hn(t),r=>this.Pn(e,r).next(i=>i||Q())).next(Cx)}};function Ix(n){return Et(n,"collectionParents")}function ca(n){return Et(n,"indexEntries")}function Fl(n){return Et(n,"indexConfiguration")}function da(n){return Et(n,"indexState")}function Cx(n){X(n.length!==0);let e=n[0].indexState.offset,t=e.largestBatchId;for(let r=1;r<n.length;r++){let i=n[r].indexState.offset;jw(i,e)<0&&(e=i),t<i.largestBatchId&&(t=i.largestBatchId)}return new Mn(e.readTime,e.documentKey,t)}var Dx={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},xn=class n{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new n(e,n.DEFAULT_COLLECTION_PERCENTILE,n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};function GM(n,e,t){let r=n.store("mutations"),i=n.store("documentMutations"),o=[],s=IDBKeyRange.only(t.batchId),a=0,u=r.J({range:s},(h,f,m)=>(a++,m.delete()));o.push(u.next(()=>{X(a===1)}));let c=[];for(let h of t.mutations){let f=Xx(e,h.key.path,t.batchId);o.push(i.delete(f)),c.push(h.key)}return x.waitFor(o).next(()=>c)}function up(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw Q();e=n.noDocument}return JSON.stringify(e).length}xn.DEFAULT_COLLECTION_PERCENTILE=10,xn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,xn.DEFAULT=new xn(41943040,xn.DEFAULT_COLLECTION_PERCENTILE,xn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),xn.DISABLED=new xn(-1,0,0);var lp=class n{constructor(e,t,r,i){this.userId=e,this.serializer=t,this.indexManager=r,this.referenceDelegate=i,this.Fn={}}static lt(e,t,r,i){X(e.uid!=="");let o=e.isAuthenticated()?e.uid:"";return new n(o,t,r,i)}checkEmpty(e){let t=!0,r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Fi(e).J({index:"userMutationsIndex",range:r},(i,o,s)=>{t=!1,s.done()}).next(()=>t)}addMutationBatch(e,t,r,i){let o=ya(e),s=Fi(e);return s.add({}).next(a=>{X(typeof a=="number");let u=new Jl(a,t,r,i),c=function(y,S,D){let T=D.baseMutations.map(K=>rc(y.ct,K)),L=D.mutations.map(K=>rc(y.ct,K));return{userId:S,batchId:D.batchId,localWriteTimeMs:D.localWriteTime.toMillis(),baseMutations:T,mutations:L}}(this.serializer,this.userId,u),h=[],f=new Le((m,y)=>ue(m.canonicalString(),y.canonicalString()));for(let m of i){let y=Xx(this.userId,m.key.path,a);f=f.add(m.key.path.popLast()),h.push(s.put(c)),h.push(o.put(y,WB))}return f.forEach(m=>{h.push(this.indexManager.addToCollectionParentIndex(e,m))}),e.addOnCommittedListener(()=>{this.Fn[a]=u.keys()}),x.waitFor(h).next(()=>u)})}lookupMutationBatch(e,t){return Fi(e).get(t).next(r=>r?(X(r.userId===this.userId),Bo(this.serializer,r)):null)}Mn(e,t){return this.Fn[t]?x.resolve(this.Fn[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){let i=r.keys();return this.Fn[t]=i,i}return null})}getNextMutationBatchAfterBatchId(e,t){let r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return Fi(e).J({index:"userMutationsIndex",range:i},(s,a,u)=>{a.userId===this.userId&&(X(a.batchId>=r),o=Bo(this.serializer,a)),u.done()}).next(()=>o)}getHighestUnacknowledgedBatchId(e){let t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),r=-1;return Fi(e).J({index:"userMutationsIndex",range:t,reverse:!0},(i,o,s)=>{r=o.batchId,s.done()}).next(()=>r)}getAllMutationBatches(e){let t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Fi(e).U("userMutationsIndex",t).next(r=>r.map(i=>Bo(this.serializer,i)))}getAllMutationBatchesAffectingDocumentKey(e,t){let r=Vf(this.userId,t.path),i=IDBKeyRange.lowerBound(r),o=[];return ya(e).J({range:i},(s,a,u)=>{let[c,h,f]=s,m=gr(h);if(c===this.userId&&t.path.isEqual(m))return Fi(e).get(f).next(y=>{if(!y)throw Q();X(y.userId===this.userId),o.push(Bo(this.serializer,y))});u.done()}).next(()=>o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Le(ue),i=[];return t.forEach(o=>{let s=Vf(this.userId,o.path),a=IDBKeyRange.lowerBound(s),u=ya(e).J({range:a},(c,h,f)=>{let[m,y,S]=c,D=gr(y);m===this.userId&&o.path.isEqual(D)?r=r.add(S):f.done()});i.push(u)}),x.waitFor(i).next(()=>this.xn(e,r))}getAllMutationBatchesAffectingQuery(e,t){let r=t.path,i=r.length+1,o=Vf(this.userId,r),s=IDBKeyRange.lowerBound(o),a=new Le(ue);return ya(e).J({range:s},(u,c,h)=>{let[f,m,y]=u,S=gr(m);f===this.userId&&r.isPrefixOf(S)?S.length===i&&(a=a.add(y)):h.done()}).next(()=>this.xn(e,a))}xn(e,t){let r=[],i=[];return t.forEach(o=>{i.push(Fi(e).get(o).next(s=>{if(s===null)throw Q();X(s.userId===this.userId),r.push(Bo(this.serializer,s))}))}),x.waitFor(i).next(()=>r)}removeMutationBatch(e,t){return GM(e._e,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.On(t.batchId)}),x.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}On(e){delete this.Fn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return x.resolve();let r=IDBKeyRange.lowerBound(function(s){return[s]}(this.userId)),i=[];return ya(e).J({range:r},(o,s,a)=>{if(o[0]===this.userId){let u=gr(o[1]);i.push(u)}else a.done()}).next(()=>{X(i.length===0)})})}containsKey(e,t){return WM(e,this.userId,t)}Nn(e){return KM(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}};function WM(n,e,t){let r=Vf(e,t.path),i=r[1],o=IDBKeyRange.lowerBound(r),s=!1;return ya(n).J({range:o,H:!0},(a,u,c)=>{let[h,f,m]=a;h===e&&f===i&&(s=!0),c.done()}).next(()=>s)}function Fi(n){return Et(n,"mutations")}function ya(n){return Et(n,"documentMutations")}function KM(n){return Et(n,"mutationQueues")}var Ma=class n{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new n(0)}static kn(){return new n(-1)}};var R0=class{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.qn(e).next(t=>{let r=new Ma(t.highestTargetId);return t.highestTargetId=r.next(),this.Qn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.qn(e).next(t=>ie.fromTimestamp(new qe(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.qn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.qn(e).next(i=>(i.highestListenSequenceNumber=t,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),this.Qn(e,i)))}addTargetData(e,t){return this.Kn(e,t).next(()=>this.qn(e).next(r=>(r.targetCount+=1,this.$n(t,r),this.Qn(e,r))))}updateTargetData(e,t){return this.Kn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>ha(e).delete(t.targetId)).next(()=>this.qn(e)).next(r=>(X(r.targetCount>0),r.targetCount-=1,this.Qn(e,r)))}removeTargets(e,t,r){let i=0,o=[];return ha(e).J((s,a)=>{let u=jl(a);u.sequenceNumber<=t&&r.get(u.targetId)===null&&(i++,o.push(this.removeTargetData(e,u)))}).next(()=>x.waitFor(o)).next(()=>i)}forEachTarget(e,t){return ha(e).J((r,i)=>{let o=jl(i);t(o)})}qn(e){return bx(e).get("targetGlobalKey").next(t=>(X(t!==null),t))}Qn(e,t){return bx(e).put("targetGlobalKey",t)}Kn(e,t){return ha(e).put(HM(this.serializer,t))}$n(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.qn(e).next(t=>t.targetCount)}getTargetData(e,t){let r=Qo(t),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]),o=null;return ha(e).J({range:i,index:"queryTargetsIndex"},(s,a,u)=>{let c=jl(a);fc(t,c.target)&&(o=c,u.done())}).next(()=>o)}addMatchingKeys(e,t,r){let i=[],o=Oi(e);return t.forEach(s=>{let a=en(s.path);i.push(o.put({targetId:r,path:a})),i.push(this.referenceDelegate.addReference(e,r,s))}),x.waitFor(i)}removeMatchingKeys(e,t,r){let i=Oi(e);return x.forEach(t,o=>{let s=en(o.path);return x.waitFor([i.delete([r,s]),this.referenceDelegate.removeReference(e,r,o)])})}removeMatchingKeysForTargetId(e,t){let r=Oi(e),i=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,t){let r=IDBKeyRange.bound([t],[t+1],!1,!0),i=Oi(e),o=le();return i.J({range:r,H:!0},(s,a,u)=>{let c=gr(s[1]),h=new q(c);o=o.add(h)}).next(()=>o)}containsKey(e,t){let r=en(t.path),i=IDBKeyRange.bound([r],[Wx(r)],!1,!0),o=0;return Oi(e).J({index:"documentTargetsIndex",H:!0,range:i},([s,a],u,c)=>{s!==0&&(o++,c.done())}).next(()=>o>0)}ot(e,t){return ha(e).get(t).next(r=>r?jl(r):null)}};function ha(n){return Et(n,"targets")}function bx(n){return Et(n,"targetGlobal")}function Oi(n){return Et(n,"targetDocuments")}function Sx([n,e],[t,r]){let i=ue(n,t);return i===0?ue(e,r):i}var N0=class{constructor(e){this.Un=e,this.buffer=new Le(Sx),this.Wn=0}Gn(){return++this.Wn}zn(e){let t=[e,this.Gn()];if(this.buffer.size<this.Un)this.buffer=this.buffer.add(t);else{let r=this.buffer.last();Sx(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}},P0=class{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Hn(6e4)}stop(){this.jn&&(this.jn.cancel(),this.jn=null)}get started(){return this.jn!==null}Hn(e){V("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,()=>P(this,null,function*(){this.jn=null;try{yield this.localStore.collectGarbage(this.garbageCollector)}catch(t){Zi(t)?V("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",t):yield Yi(t)}yield this.Hn(3e5)}))}},k0=class{constructor(e,t){this.Jn=e,this.params=t}calculateTargetCount(e,t){return this.Jn.Yn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return x.resolve(_n.oe);let r=new N0(t);return this.Jn.forEachTarget(e,i=>r.zn(i.sequenceNumber)).next(()=>this.Jn.Zn(e,i=>r.zn(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Jn.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Jn.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(V("LruGarbageCollector","Garbage collection skipped; disabled"),x.resolve(Dx)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(V("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Dx):this.Xn(e,t))}getCacheSize(e){return this.Jn.getCacheSize(e)}Xn(e,t){let r,i,o,s,a,u,c,h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(V("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),i=this.params.maximumSequenceNumbersToCollect):i=f,s=Date.now(),this.nthSequenceNumber(e,i))).next(f=>(r=f,a=Date.now(),this.removeTargets(e,r,t))).next(f=>(o=f,u=Date.now(),this.removeOrphanedDocuments(e,r))).next(f=>(c=Date.now(),fa()<=er.DEBUG&&V("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-h}ms
	Determined least recently used ${i} in `+(a-s)+`ms
	Removed ${o} targets in `+(u-a)+`ms
	Removed ${f} documents in `+(c-u)+`ms
Total Duration: ${c-h}ms`),x.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:f})))}};function $4(n,e){return new k0(n,e)}var F0=class{constructor(e,t){this.db=e,this.garbageCollector=$4(this,t)}Yn(e){let t=this.er(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}er(e){let t=0;return this.Zn(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Zn(e,t){return this.tr(e,(r,i)=>t(i))}addReference(e,t,r){return kf(e,r)}removeReference(e,t,r){return kf(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return kf(e,t)}nr(e,t){return function(i,o){let s=!1;return KM(i).Y(a=>WM(i,a,o).next(u=>(u&&(s=!0),x.resolve(!u)))).next(()=>s)}(e,t)}removeOrphanedDocuments(e,t){let r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],o=0;return this.tr(e,(s,a)=>{if(a<=t){let u=this.nr(e,s).next(c=>{if(!c)return o++,r.getEntry(e,s).next(()=>(r.removeEntry(s,ie.min()),Oi(e).delete(function(f){return[0,en(f.path)]}(s))))});i.push(u)}}).next(()=>x.waitFor(i)).next(()=>r.apply(e)).next(()=>o)}removeTarget(e,t){let r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return kf(e,t)}tr(e,t){let r=Oi(e),i,o=_n.oe;return r.J({index:"documentTargetsIndex"},([s,a],{path:u,sequenceNumber:c})=>{s===0?(o!==_n.oe&&t(new q(gr(i)),o),o=c,i=u):o=_n.oe}).next(()=>{o!==_n.oe&&t(new q(gr(i)),o)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}};function kf(n,e){return Oi(n).put(function(r,i){return{targetId:0,path:en(r.path),sequenceNumber:i}}(e,n.currentSequenceNumber))}var cp=class{constructor(){this.changes=new Ir(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,gt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();let r=this.changes.get(t);return r!==void 0?x.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var O0=class{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return Lo(e).put(r)}removeEntry(e,t,r){return Lo(e).delete(function(o,s){let a=o.path.toArray();return[a.slice(0,a.length-2),a[a.length-2],ip(s),a[a.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.rr(e,r)))}getEntry(e,t){let r=gt.newInvalidDocument(t);return Lo(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(Ol(t))},(i,o)=>{r=this.ir(t,o)}).next(()=>r)}sr(e,t){let r={size:0,document:gt.newInvalidDocument(t)};return Lo(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(Ol(t))},(i,o)=>{r={document:this.ir(t,o),size:up(o)}}).next(()=>r)}getEntries(e,t){let r=cn();return this._r(e,t,(i,o)=>{let s=this.ir(i,o);r=r.insert(i,s)}).next(()=>r)}ar(e,t){let r=cn(),i=new ze(q.comparator);return this._r(e,t,(o,s)=>{let a=this.ir(o,s);r=r.insert(o,a),i=i.insert(o,up(s))}).next(()=>({documents:r,ur:i}))}_r(e,t,r){if(t.isEmpty())return x.resolve();let i=new Le(xx);t.forEach(u=>i=i.add(u));let o=IDBKeyRange.bound(Ol(i.first()),Ol(i.last())),s=i.getIterator(),a=s.getNext();return Lo(e).J({index:"documentKeyIndex",range:o},(u,c,h)=>{let f=q.fromSegments([...c.prefixPath,c.collectionGroup,c.documentId]);for(;a&&xx(a,f)<0;)r(a,null),a=s.getNext();a&&a.isEqual(f)&&(r(a,c),a=s.hasNext()?s.getNext():null),a?h.$(Ol(a)):h.done()}).next(()=>{for(;a;)r(a,null),a=s.hasNext()?s.getNext():null})}getDocumentsMatchingQuery(e,t,r,i,o){let s=t.path,a=[s.popLast().toArray(),s.lastSegment(),ip(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],u=[s.popLast().toArray(),s.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Lo(e).U(IDBKeyRange.bound(a,u,!0)).next(c=>{o?.incrementDocumentReadCount(c.length);let h=cn();for(let f of c){let m=this.ir(q.fromSegments(f.prefixPath.concat(f.collectionGroup,f.documentId)),f);m.isFoundDocument()&&(gc(t,m)||i.has(m.key))&&(h=h.insert(m.key,m))}return h})}getAllFromCollectionGroup(e,t,r,i){let o=cn(),s=Ax(t,r),a=Ax(t,Mn.max());return Lo(e).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(s,a,!0)},(u,c,h)=>{let f=this.ir(q.fromSegments(c.prefixPath.concat(c.collectionGroup,c.documentId)),c);o=o.insert(f.key,f),o.size===i&&h.done()}).next(()=>o)}newChangeBuffer(e){return new V0(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return Tx(e).get("remoteDocumentGlobalKey").next(t=>(X(!!t),t))}rr(e,t){return Tx(e).put("remoteDocumentGlobalKey",t)}ir(e,t){if(t){let r=j4(this.serializer,t);if(!(r.isNoDocument()&&r.version.isEqual(ie.min())))return r}return gt.newInvalidDocument(e)}};function QM(n){return new O0(n)}var V0=class extends cp{constructor(e,t){super(),this.cr=e,this.trackRemovals=t,this.lr=new Ir(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){let t=[],r=0,i=new Le((o,s)=>ue(o.canonicalString(),s.canonicalString()));return this.changes.forEach((o,s)=>{let a=this.lr.get(o);if(t.push(this.cr.removeEntry(e,o,a.readTime)),s.isValidDocument()){let u=px(this.cr.serializer,s);i=i.add(o.path.popLast());let c=up(u);r+=c-a.size,t.push(this.cr.addEntry(e,o,u))}else if(r-=a.size,this.trackRemovals){let u=px(this.cr.serializer,s.convertToNoDocument(ie.min()));t.push(this.cr.addEntry(e,o,u))}}),i.forEach(o=>{t.push(this.cr.indexManager.addToCollectionParentIndex(e,o))}),t.push(this.cr.updateMetadata(e,r)),x.waitFor(t)}getFromCache(e,t){return this.cr.sr(e,t).next(r=>(this.lr.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.cr.ar(e,t).next(({documents:r,ur:i})=>(i.forEach((o,s)=>{this.lr.set(o,{size:s,readTime:r.get(o).readTime})}),r))}};function Tx(n){return Et(n,"remoteDocumentGlobal")}function Lo(n){return Et(n,"remoteDocumentsV14")}function Ol(n){let e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function Ax(n,e){let t=e.documentKey.path.toArray();return[n,ip(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function xx(n,e){let t=n.path.toArray(),r=e.path.toArray(),i=0;for(let o=0;o<t.length-2&&o<r.length-2;++o)if(i=ue(t[o],r[o]),i)return i;return i=ue(t.length,r.length),i||(i=ue(t[t.length-2],r[r.length-2]),i||ue(t[t.length-1],r[r.length-1]))}var L0=class{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}};var dp=class{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&$l(r.mutation,i,wn.empty(),qe.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,le()).next(()=>r))}getLocalViewOfDocuments(e,t,r=le()){let i=mr();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(o=>{let s=Ll();return o.forEach((a,u)=>{s=s.insert(a,u.overlayedDocument)}),s}))}getOverlayedDocuments(e,t){let r=mr();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,le()))}populateOverlays(e,t,r){let i=[];return r.forEach(o=>{t.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{t.set(s,a)})})}computeViews(e,t,r,i){let o=cn(),s=Bl(),a=function(){return Bl()}();return t.forEach((u,c)=>{let h=r.get(c.key);i.has(c.key)&&(h===void 0||h.mutation instanceof Zn)?o=o.insert(c.key,c):h!==void 0?(s.set(c.key,h.mutation.getFieldMask()),$l(h.mutation,c,h.mutation.getFieldMask(),qe.now())):s.set(c.key,wn.empty())}),this.recalculateAndSaveOverlays(e,o).next(u=>(u.forEach((c,h)=>s.set(c,h)),t.forEach((c,h)=>{var f;return a.set(c,new L0(h,(f=s.get(c))!==null&&f!==void 0?f:null))}),a))}recalculateAndSaveOverlays(e,t){let r=Bl(),i=new ze((s,a)=>s-a),o=le();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(s=>{for(let a of s)a.keys().forEach(u=>{let c=t.get(u);if(c===null)return;let h=r.get(u)||wn.empty();h=a.applyToLocalView(c,h),r.set(u,h);let f=(i.get(a.batchId)||le()).add(u);i=i.insert(a.batchId,f)})}).next(()=>{let s=[],a=i.getReverseIterator();for(;a.hasNext();){let u=a.getNext(),c=u.key,h=u.value,f=_M();h.forEach(m=>{if(!o.has(m)){let y=SM(t.get(m),r.get(m));y!==null&&f.set(m,y),o=o.add(m)}}),s.push(this.documentOverlayCache.saveOverlays(e,c,f))}return x.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return function(s){return q.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):qw(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(o=>{let s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-o.size):x.resolve(mr()),a=-1,u=o;return s.next(c=>x.forEach(c,(h,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),o.get(h)?x.resolve():this.remoteDocumentCache.getEntry(e,h).next(m=>{u=u.insert(h,m)}))).next(()=>this.populateOverlays(e,c,o)).next(()=>this.computeViews(e,u,c,le())).next(h=>({batchId:a,changes:vM(h)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new q(t)).next(r=>{let i=Ll();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){let o=t.collectionGroup,s=Ll();return this.indexManager.getCollectionParents(e,o).next(a=>x.forEach(a,u=>{let c=function(f,m){return new Yn(m,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(t,u.child(o));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(h=>{h.forEach((f,m)=>{s=s.insert(f,m)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,i))).next(s=>{o.forEach((u,c)=>{let h=c.getKey();s.get(h)===null&&(s=s.insert(h,gt.newInvalidDocument(h)))});let a=Ll();return s.forEach((u,c)=>{let h=o.get(u);h!==void 0&&$l(h.mutation,c,wn.empty(),qe.now()),gc(t,c)&&(a=a.insert(u,c))}),a})}};var j0=class{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,t){return x.resolve(this.hr.get(t))}saveBundleMetadata(e,t){return this.hr.set(t.id,function(i){return{id:i.id,version:i.version,createTime:st(i.createTime)}}(t)),x.resolve()}getNamedQuery(e,t){return x.resolve(this.Pr.get(t))}saveNamedQuery(e,t){return this.Pr.set(t.name,function(i){return{name:i.name,query:Kw(i.bundledQuery),readTime:st(i.readTime)}}(t)),x.resolve()}};var U0=class{constructor(){this.overlays=new ze(q.comparator),this.Ir=new Map}getOverlay(e,t){return x.resolve(this.overlays.get(t))}getOverlays(e,t){let r=mr();return x.forEach(t,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,o)=>{this.ht(e,t,o)}),x.resolve()}removeOverlaysForBatchId(e,t,r){let i=this.Ir.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Ir.delete(r)),x.resolve()}getOverlaysForCollection(e,t,r){let i=mr(),o=t.length+1,s=new q(t.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){let u=a.getNext().value,c=u.getKey();if(!t.isPrefixOf(c.path))break;c.path.length===o&&u.largestBatchId>r&&i.set(u.getKey(),u)}return x.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let o=new ze((c,h)=>c-h),s=this.overlays.getIterator();for(;s.hasNext();){let c=s.getNext().value;if(c.getKey().getCollectionGroup()===t&&c.largestBatchId>r){let h=o.get(c.largestBatchId);h===null&&(h=mr(),o=o.insert(c.largestBatchId,h)),h.set(c.getKey(),c)}}let a=mr(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((c,h)=>a.set(c,h)),!(a.size()>=i)););return x.resolve(a)}ht(e,t,r){let i=this.overlays.get(r.key);if(i!==null){let s=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new Xl(t,r));let o=this.Ir.get(t);o===void 0&&(o=le(),this.Ir.set(t,o)),this.Ir.set(t,o.add(r.key))}};var B0=class{constructor(){this.sessionToken=at.EMPTY_BYTE_STRING}getSessionToken(e){return x.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,x.resolve()}};var oc=class{constructor(){this.Tr=new Le(ft.Er),this.dr=new Le(ft.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,t){let r=new ft(e,t);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Vr(new ft(e,t))}mr(e,t){e.forEach(r=>this.removeReference(r,t))}gr(e){let t=new q(new Se([])),r=new ft(t,e),i=new ft(t,e+1),o=[];return this.dr.forEachInRange([r,i],s=>{this.Vr(s),o.push(s.key)}),o}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){let t=new q(new Se([])),r=new ft(t,e),i=new ft(t,e+1),o=le();return this.dr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){let t=new ft(e,0),r=this.Tr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}},ft=class{constructor(e,t){this.key=e,this.wr=t}static Er(e,t){return q.comparator(e.key,t.key)||ue(e.wr,t.wr)}static Ar(e,t){return ue(e.wr,t.wr)||q.comparator(e.key,t.key)}};var $0=class{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Sr=1,this.br=new Le(ft.Er)}checkEmpty(e){return x.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){let o=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new Jl(o,t,r,i);this.mutationQueue.push(s);for(let a of i)this.br=this.br.add(new ft(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return x.resolve(s)}lookupMutationBatch(e,t){return x.resolve(this.Dr(t))}getNextMutationBatchAfterBatchId(e,t){let r=t+1,i=this.vr(r),o=i<0?0:i;return x.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return x.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return x.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){let r=new ft(t,0),i=new ft(t,Number.POSITIVE_INFINITY),o=[];return this.br.forEachInRange([r,i],s=>{let a=this.Dr(s.wr);o.push(a)}),x.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Le(ue);return t.forEach(i=>{let o=new ft(i,0),s=new ft(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([o,s],a=>{r=r.add(a.wr)})}),x.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,t){let r=t.path,i=r.length+1,o=r;q.isDocumentKey(o)||(o=o.child(""));let s=new ft(new q(o),0),a=new Le(ue);return this.br.forEachWhile(u=>{let c=u.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(u.wr)),!0)},s),x.resolve(this.Cr(a))}Cr(e){let t=[];return e.forEach(r=>{let i=this.Dr(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){X(this.Fr(t.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return x.forEach(t.mutations,i=>{let o=new ft(i.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,t){let r=new ft(t,0),i=this.br.firstAfterOrEqual(r);return x.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,x.resolve()}Fr(e,t){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){let t=this.vr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}};var H0=class{constructor(e){this.Mr=e,this.docs=function(){return new ze(q.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){let r=t.key,i=this.docs.get(r),o=i?i.size:0,s=this.Mr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){let r=this.docs.get(t);return x.resolve(r?r.document.mutableCopy():gt.newInvalidDocument(t))}getEntries(e,t){let r=cn();return t.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():gt.newInvalidDocument(i))}),x.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let o=cn(),s=t.path,a=new q(s.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){let{key:c,value:{document:h}}=u.getNext();if(!s.isPrefixOf(c.path))break;c.path.length>s.length+1||jw(Qx(h),r)<=0||(i.has(h.key)||gc(t,h))&&(o=o.insert(h.key,h.mutableCopy()))}return x.resolve(o)}getAllFromCollectionGroup(e,t,r,i){Q()}Or(e,t){return x.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new q0(this)}getSize(e){return x.resolve(this.size)}},q0=class extends cp{constructor(e){super(),this.cr=e}applyChanges(e){let t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),x.waitFor(t)}getFromCache(e,t){return this.cr.getEntry(e,t)}getAllFromCache(e,t){return this.cr.getEntries(e,t)}};var z0=class{constructor(e){this.persistence=e,this.Nr=new Ir(t=>Qo(t),fc),this.lastRemoteSnapshotVersion=ie.min(),this.highestTargetId=0,this.Lr=0,this.Br=new oc,this.targetCount=0,this.kr=Ma.Bn()}forEachTarget(e,t){return this.Nr.forEach((r,i)=>t(i)),x.resolve()}getLastRemoteSnapshotVersion(e){return x.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return x.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),x.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Lr&&(this.Lr=t),x.resolve()}Kn(e){this.Nr.set(e.target,e);let t=e.targetId;t>this.highestTargetId&&(this.kr=new Ma(t),this.highestTargetId=t),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,t){return this.Kn(t),this.targetCount+=1,x.resolve()}updateTargetData(e,t){return this.Kn(t),x.resolve()}removeTargetData(e,t){return this.Nr.delete(t.target),this.Br.gr(t.targetId),this.targetCount-=1,x.resolve()}removeTargets(e,t,r){let i=0,o=[];return this.Nr.forEach((s,a)=>{a.sequenceNumber<=t&&r.get(a.targetId)===null&&(this.Nr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),x.waitFor(o).next(()=>i)}getTargetCount(e){return x.resolve(this.targetCount)}getTargetData(e,t){let r=this.Nr.get(t)||null;return x.resolve(r)}addMatchingKeys(e,t,r){return this.Br.Rr(t,r),x.resolve()}removeMatchingKeys(e,t,r){this.Br.mr(t,r);let i=this.persistence.referenceDelegate,o=[];return i&&t.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),x.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.Br.gr(t),x.resolve()}getMatchingKeysForTargetId(e,t){let r=this.Br.yr(t);return x.resolve(r)}containsKey(e,t){return x.resolve(this.Br.containsKey(t))}};var hp=class{constructor(e,t){this.qr={},this.overlays={},this.Qr=new _n(0),this.Kr=!1,this.Kr=!0,this.$r=new B0,this.referenceDelegate=e(this),this.Ur=new z0(this),this.indexManager=new x0,this.remoteDocumentCache=function(i){return new H0(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new rp(t),this.Gr=new j0(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new U0,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.qr[e.toKey()];return r||(r=new $0(t,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,t,r){V("MemoryPersistence","Starting transaction:",e);let i=new G0(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(o=>this.referenceDelegate.jr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Hr(e,t){return x.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,t)))}},G0=class extends zf{constructor(e){super(),this.currentSequenceNumber=e}},fp=class n{constructor(e){this.persistence=e,this.Jr=new oc,this.Yr=null}static Zr(e){return new n(e)}get Xr(){if(this.Yr)return this.Yr;throw Q()}addReference(e,t,r){return this.Jr.addReference(r,t),this.Xr.delete(r.toString()),x.resolve()}removeReference(e,t,r){return this.Jr.removeReference(r,t),this.Xr.add(r.toString()),x.resolve()}markPotentiallyOrphaned(e,t){return this.Xr.add(t.toString()),x.resolve()}removeTarget(e,t){this.Jr.gr(t.targetId).forEach(i=>this.Xr.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(o=>this.Xr.add(o.toString()))}).next(()=>r.removeTargetData(e,t))}zr(){this.Yr=new Set}jr(e){let t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return x.forEach(this.Xr,r=>{let i=q.fromPath(r);return this.ei(e,i).next(o=>{o||t.removeEntry(i,ie.min())})}).next(()=>(this.Yr=null,t.apply(e)))}updateLimboDocument(e,t){return this.ei(e,t).next(r=>{r?this.Xr.delete(t.toString()):this.Xr.add(t.toString())})}Wr(e){return 0}ei(e,t){return x.or([()=>x.resolve(this.Jr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Hr(e,t)])}};var W0=class{constructor(e){this.serializer=e}O(e,t,r,i){let o=new Gf("createOrUpgrade",t);r<1&&i>=1&&(function(u){u.createObjectStore("owner")}(e),function(u){u.createObjectStore("mutationQueues",{keyPath:"userId"}),u.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",zA,{unique:!0}),u.createObjectStore("documentMutations")}(e),Mx(e),function(u){u.createObjectStore("remoteDocuments")}(e));let s=x.resolve();return r<3&&i>=3&&(r!==0&&(function(u){u.deleteObjectStore("targetDocuments"),u.deleteObjectStore("targets"),u.deleteObjectStore("targetGlobal")}(e),Mx(e)),s=s.next(()=>function(u){let c=u.store("targetGlobal"),h={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:ie.min().toTimestamp(),targetCount:0};return c.put("targetGlobalKey",h)}(o))),r<4&&i>=4&&(r!==0&&(s=s.next(()=>function(u,c){return c.store("mutations").U().next(h=>{u.deleteObjectStore("mutations"),u.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",zA,{unique:!0});let f=c.store("mutations"),m=h.map(y=>f.put(y));return x.waitFor(m)})}(e,o))),s=s.next(()=>{(function(u){u.createObjectStore("clientMetadata",{keyPath:"clientId"})})(e)})),r<5&&i>=5&&(s=s.next(()=>this.ni(o))),r<6&&i>=6&&(s=s.next(()=>(function(u){u.createObjectStore("remoteDocumentGlobal")}(e),this.ri(o)))),r<7&&i>=7&&(s=s.next(()=>this.ii(o))),r<8&&i>=8&&(s=s.next(()=>this.si(e,o))),r<9&&i>=9&&(s=s.next(()=>{(function(u){u.objectStoreNames.contains("remoteDocumentChanges")&&u.deleteObjectStore("remoteDocumentChanges")})(e)})),r<10&&i>=10&&(s=s.next(()=>this.oi(o))),r<11&&i>=11&&(s=s.next(()=>{(function(u){u.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(u){u.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(s=s.next(()=>{(function(u){let c=u.createObjectStore("documentOverlays",{keyPath:o4});c.createIndex("collectionPathOverlayIndex",s4,{unique:!1}),c.createIndex("collectionGroupOverlayIndex",a4,{unique:!1})})(e)})),r<13&&i>=13&&(s=s.next(()=>function(u){let c=u.createObjectStore("remoteDocumentsV14",{keyPath:KB});c.createIndex("documentKeyIndex",QB),c.createIndex("collectionGroupIndex",YB)}(e)).next(()=>this._i(e,o)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(s=s.next(()=>this.ai(e,o))),r<15&&i>=15&&(s=s.next(()=>function(u){u.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),u.createObjectStore("indexState",{keyPath:t4}).createIndex("sequenceNumberIndex",n4,{unique:!1}),u.createObjectStore("indexEntries",{keyPath:r4}).createIndex("documentKeyIndex",i4,{unique:!1})}(e))),r<16&&i>=16&&(s=s.next(()=>{t.objectStore("indexState").clear()}).next(()=>{t.objectStore("indexEntries").clear()})),r<17&&i>=17&&(s=s.next(()=>{(function(u){u.createObjectStore("globals",{keyPath:"name"})})(e)})),s}ri(e){let t=0;return e.store("remoteDocuments").J((r,i)=>{t+=up(i)}).next(()=>{let r={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}ni(e){let t=e.store("mutationQueues"),r=e.store("mutations");return t.U().next(i=>x.forEach(i,o=>{let s=IDBKeyRange.bound([o.userId,-1],[o.userId,o.lastAcknowledgedBatchId]);return r.U("userMutationsIndex",s).next(a=>x.forEach(a,u=>{X(u.userId===o.userId);let c=Bo(this.serializer,u);return GM(e,o.userId,c).next(()=>{})}))}))}ii(e){let t=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{let o=[];return r.J((s,a)=>{let u=new Se(s),c=function(f){return[0,en(f)]}(u);o.push(t.get(c).next(h=>h?x.resolve():(f=>t.put({targetId:0,path:en(f),sequenceNumber:i.highestListenSequenceNumber}))(u)))}).next(()=>x.waitFor(o))})}si(e,t){e.createObjectStore("collectionParents",{keyPath:e4});let r=t.store("collectionParents"),i=new ic,o=s=>{if(i.add(s)){let a=s.lastSegment(),u=s.popLast();return r.put({collectionId:a,parent:en(u)})}};return t.store("remoteDocuments").J({H:!0},(s,a)=>{let u=new Se(s);return o(u.popLast())}).next(()=>t.store("documentMutations").J({H:!0},([s,a,u],c)=>{let h=gr(a);return o(h.popLast())}))}oi(e){let t=e.store("targets");return t.J((r,i)=>{let o=jl(i),s=HM(this.serializer,o);return t.put(s)})}_i(e,t){let r=t.store("remoteDocuments"),i=[];return r.J((o,s)=>{let a=t.store("remoteDocumentsV14"),u=function(f){return f.document?new q(Se.fromString(f.document.name).popFirst(5)):f.noDocument?q.fromSegments(f.noDocument.path):f.unknownDocument?q.fromSegments(f.unknownDocument.path):Q()}(s).path.toArray(),c={prefixPath:u.slice(0,u.length-2),collectionGroup:u[u.length-2],documentId:u[u.length-1],readTime:s.readTime||[0,0],unknownDocument:s.unknownDocument,noDocument:s.noDocument,document:s.document,hasCommittedMutations:!!s.hasCommittedMutations};i.push(a.put(c))}).next(()=>x.waitFor(i))}ai(e,t){let r=t.store("mutations"),i=QM(this.serializer),o=new hp(fp.Zr,this.serializer.ct);return r.U().next(s=>{let a=new Map;return s.forEach(u=>{var c;let h=(c=a.get(u.userId))!==null&&c!==void 0?c:le();Bo(this.serializer,u).keys().forEach(f=>h=h.add(f)),a.set(u.userId,h)}),x.forEach(a,(u,c)=>{let h=new pt(c),f=op.lt(this.serializer,h),m=o.getIndexManager(h),y=lp.lt(h,this.serializer,m,o.referenceDelegate);return new dp(i,y,f,m).recalculateAndSaveOverlaysForDocumentKeys(new Wl(t,_n.oe),u).next()})})}};function Mx(n){n.createObjectStore("targetDocuments",{keyPath:JB}).createIndex("documentTargetsIndex",XB,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",ZB,{unique:!0}),n.createObjectStore("targetGlobal")}var F_="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",K0=class n{constructor(e,t,r,i,o,s,a,u,c,h,f=17){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.ui=o,this.window=s,this.document=a,this.ci=c,this.li=h,this.hi=f,this.Qr=null,this.Kr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Pi=null,this.inForeground=!1,this.Ii=null,this.Ti=null,this.Ei=Number.NEGATIVE_INFINITY,this.di=m=>Promise.resolve(),!n.D())throw new O(N.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new F0(this,i),this.Ai=t+"main",this.serializer=new rp(u),this.Ri=new Bi(this.Ai,this.hi,new W0(this.serializer)),this.$r=new I0,this.Ur=new R0(this.referenceDelegate,this.serializer),this.remoteDocumentCache=QM(this.serializer),this.Gr=new E0,this.window&&this.window.localStorage?this.Vi=this.window.localStorage:(this.Vi=null,h===!1&&it("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new O(N.FAILED_PRECONDITION,F_);return this.fi(),this.gi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Ur.getHighestSequenceNumber(e))}).then(e=>{this.Qr=new _n(e,this.ci)}).then(()=>{this.Kr=!0}).catch(e=>(this.Ri&&this.Ri.close(),Promise.reject(e)))}yi(e){return this.di=t=>P(this,null,function*(){if(this.started)return e(t)}),e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ri.L(t=>P(this,null,function*(){t.newVersion===null&&(yield e())}))}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.ui.enqueueAndForget(()=>P(this,null,function*(){this.started&&(yield this.mi())})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Ff(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.wi(e).next(t=>{t||(this.isPrimary=!1,this.ui.enqueueRetryable(()=>this.di(!1)))})}).next(()=>this.Si(e)).next(t=>this.isPrimary&&!t?this.bi(e).next(()=>!1):!!t&&this.Di(e).next(()=>!0))).catch(e=>{if(Zi(e))return V("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return V("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.ui.enqueueRetryable(()=>this.di(e)),this.isPrimary=e})}wi(e){return Vl(e).get("owner").next(t=>x.resolve(this.vi(t)))}Ci(e){return Ff(e).delete(this.clientId)}Fi(){return P(this,null,function*(){if(this.isPrimary&&!this.Mi(this.Ei,18e5)){this.Ei=Date.now();let e=yield this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",t=>{let r=Et(t,"clientMetadata");return r.U().next(i=>{let o=this.xi(i,18e5),s=i.filter(a=>o.indexOf(a)===-1);return x.forEach(s,a=>r.delete(a.clientId)).next(()=>s)})}).catch(()=>[]);if(this.Vi)for(let t of e)this.Vi.removeItem(this.Oi(t.clientId))}})}pi(){this.Ti=this.ui.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.Fi()).then(()=>this.pi()))}vi(e){return!!e&&e.ownerId===this.clientId}Si(e){return this.li?x.resolve(!0):Vl(e).get("owner").next(t=>{if(t!==null&&this.Mi(t.leaseTimestampMs,5e3)&&!this.Ni(t.ownerId)){if(this.vi(t)&&this.networkEnabled)return!0;if(!this.vi(t)){if(!t.allowTabSynchronization)throw new O(N.FAILED_PRECONDITION,F_);return!1}}return!(!this.networkEnabled||!this.inForeground)||Ff(e).U().next(r=>this.xi(r,5e3).find(i=>{if(this.clientId!==i.clientId){let o=!this.networkEnabled&&i.networkEnabled,s=!this.inForeground&&i.inForeground,a=this.networkEnabled===i.networkEnabled;if(o||s&&a)return!0}return!1})===void 0)}).next(t=>(this.isPrimary!==t&&V("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){return P(this,null,function*(){this.Kr=!1,this.Li(),this.Ti&&(this.Ti.cancel(),this.Ti=null),this.Bi(),this.ki(),yield this.Ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{let t=new Wl(e,_n.oe);return this.bi(t).next(()=>this.Ci(t))}),this.Ri.close(),this.qi()})}xi(e,t){return e.filter(r=>this.Mi(r.updateTimeMs,t)&&!this.Ni(r.clientId))}Qi(){return this.runTransaction("getActiveClients","readonly",e=>Ff(e).U().next(t=>this.xi(t,18e5).map(r=>r.clientId)))}get started(){return this.Kr}getGlobalsCache(){return this.$r}getMutationQueue(e,t){return lp.lt(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new M0(e,this.serializer.ct.databaseId)}getDocumentOverlayCache(e){return op.lt(this.serializer,e)}getBundleCache(){return this.Gr}runTransaction(e,t,r){V("IndexedDbPersistence","Starting transaction:",e);let i=t==="readonly"?"readonly":"readwrite",o=function(u){return u===17?c4:u===16?l4:u===15?Bw:u===14?nM:u===13?tM:u===12?u4:u===11?eM:void Q()}(this.hi),s;return this.Ri.runTransaction(e,i,o,a=>(s=new Wl(a,this.Qr?this.Qr.next():_n.oe),t==="readwrite-primary"?this.wi(s).next(u=>!!u||this.Si(s)).next(u=>{if(!u)throw it(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.ui.enqueueRetryable(()=>this.di(!1)),new O(N.FAILED_PRECONDITION,Yx);return r(s)}).next(u=>this.Di(s).next(()=>u)):this.Ki(s).next(()=>r(s)))).then(a=>(s.raiseOnCommittedEvent(),a))}Ki(e){return Vl(e).get("owner").next(t=>{if(t!==null&&this.Mi(t.leaseTimestampMs,5e3)&&!this.Ni(t.ownerId)&&!this.vi(t)&&!(this.li||this.allowTabSynchronization&&t.allowTabSynchronization))throw new O(N.FAILED_PRECONDITION,F_)})}Di(e){let t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Vl(e).put("owner",t)}static D(){return Bi.D()}bi(e){let t=Vl(e);return t.get("owner").next(r=>this.vi(r)?(V("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):x.resolve())}Mi(e,t){let r=Date.now();return!(e<r-t)&&(!(e>r)||(it(`Detected an update time that is in the future: ${e} > ${r}`),!1))}fi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Ii=()=>{this.ui.enqueueAndForget(()=>(this.inForeground=this.document.visibilityState==="visible",this.mi()))},this.document.addEventListener("visibilitychange",this.Ii),this.inForeground=this.document.visibilityState==="visible")}Bi(){this.Ii&&(this.document.removeEventListener("visibilitychange",this.Ii),this.Ii=null)}gi(){var e;typeof((e=this.window)===null||e===void 0?void 0:e.addEventListener)=="function"&&(this.Pi=()=>{this.Li();let t=/(?:Version|Mobile)\/1[456]/;xg()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.ui.enterRestrictedMode(!0),this.ui.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Pi))}ki(){this.Pi&&(this.window.removeEventListener("pagehide",this.Pi),this.Pi=null)}Ni(e){var t;try{let r=((t=this.Vi)===null||t===void 0?void 0:t.getItem(this.Oi(e)))!==null;return V("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return it("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}Li(){if(this.Vi)try{this.Vi.setItem(this.Oi(this.clientId),String(Date.now()))}catch(e){it("Failed to set zombie client id.",e)}}qi(){if(this.Vi)try{this.Vi.removeItem(this.Oi(this.clientId))}catch{}}Oi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}};function Vl(n){return Et(n,"owner")}function Ff(n){return Et(n,"clientMetadata")}function Yw(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}var Q0=class n{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.$i=r,this.Ui=i}static Wi(e,t){let r=le(),i=le();for(let o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new n(e,t.fromCache,r,i)}};var Y0=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var pp=class{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return xg()?8:Zx(gu())>0?6:4}()}initialize(e,t){this.Ji=e,this.indexManager=t,this.Gi=!0}getDocumentsMatchingQuery(e,t,r,i){let o={result:null};return this.Yi(e,t).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Zi(e,t,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new Y0;return this.Xi(e,t,s).next(a=>{if(o.result=a,this.zi)return this.es(e,t,s,a.size)})}).next(()=>o.result)}es(e,t,r,i){return r.documentReadCount<this.ji?(fa()<=er.DEBUG&&V("QueryEngine","SDK will not create cache indexes for query:",pa(t),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),x.resolve()):(fa()<=er.DEBUG&&V("QueryEngine","Query:",pa(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(fa()<=er.DEBUG&&V("QueryEngine","The SDK decides to create cache indexes for query:",pa(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,tn(t))):x.resolve())}Yi(e,t){if(rx(t))return x.resolve(null);let r=tn(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=Xf(t,null,"F"),r=tn(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let s=le(...o);return this.Ji.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{let c=this.ts(t,a);return this.ns(t,c,s,u.readTime)?this.Yi(e,Xf(t,null,"F")):this.rs(e,c,t,u)}))})))}Zi(e,t,r,i){return rx(t)||i.isEqual(ie.min())?x.resolve(null):this.Ji.getDocuments(e,r).next(o=>{let s=this.ts(t,o);return this.ns(t,s,r,i)?x.resolve(null):(fa()<=er.DEBUG&&V("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),pa(t)),this.rs(e,s,t,Kx(i,-1)).next(a=>a))})}ts(e,t){let r=new Le(mM(e));return t.forEach((i,o)=>{gc(e,o)&&(r=r.add(o))}),r}ns(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;let o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Xi(e,t,r){return fa()<=er.DEBUG&&V("QueryEngine","Using full collection scan to execute query:",pa(t)),this.Ji.getDocumentsMatchingQuery(e,t,Mn.min(),r)}rs(e,t,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(o=>(t.forEach(s=>{o=o.insert(s.key,s)}),o))}};var Z0=class{constructor(e,t,r,i){this.persistence=e,this.ss=t,this.serializer=i,this.os=new ze(ue),this._s=new Ir(o=>Qo(o),fc),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new dp(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.os))}};function YM(n,e,t,r){return new Z0(n,e,t,r)}function ZM(n,e){return P(this,null,function*(){let t=H(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,t.ls(e),t.mutationQueue.getAllMutationBatches(r))).next(o=>{let s=[],a=[],u=le();for(let c of i){s.push(c.batchId);for(let h of c.mutations)u=u.add(h.key)}for(let c of o){a.push(c.batchId);for(let h of c.mutations)u=u.add(h.key)}return t.localDocuments.getDocuments(r,u).next(c=>({hs:c,removedBatchIds:s,addedBatchIds:a}))})})})}function H4(n,e){let t=H(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),o=t.cs.newChangeBuffer({trackRemovals:!0});return function(a,u,c,h){let f=c.batch,m=f.keys(),y=x.resolve();return m.forEach(S=>{y=y.next(()=>h.getEntry(u,S)).next(D=>{let T=c.docVersions.get(S);X(T!==null),D.version.compareTo(T)<0&&(f.applyToRemoteDocument(D,c),D.isValidDocument()&&(D.setReadTime(c.commitVersion),h.addEntry(D)))})}),y.next(()=>a.mutationQueue.removeMutationBatch(u,f))}(t,r,e,o).next(()=>o.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=le();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(u=u.add(a.batch.mutations[c].key));return u}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function JM(n){let e=H(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ur.getLastRemoteSnapshotVersion(t))}function q4(n,e){let t=H(n),r=e.snapshotVersion,i=t.os;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=t.cs.newChangeBuffer({trackRemovals:!0});i=t.os;let a=[];e.targetChanges.forEach((h,f)=>{let m=i.get(f);if(!m)return;a.push(t.Ur.removeMatchingKeys(o,h.removedDocuments,f).next(()=>t.Ur.addMatchingKeys(o,h.addedDocuments,f)));let y=m.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(f)!==null?y=y.withResumeToken(at.EMPTY_BYTE_STRING,ie.min()).withLastLimboFreeSnapshotVersion(ie.min()):h.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(h.resumeToken,r)),i=i.insert(f,y),function(D,T,L){return D.resumeToken.approximateByteSize()===0||T.snapshotVersion.toMicroseconds()-D.snapshotVersion.toMicroseconds()>=3e8?!0:L.addedDocuments.size+L.modifiedDocuments.size+L.removedDocuments.size>0}(m,y,h)&&a.push(t.Ur.updateTargetData(o,y))});let u=cn(),c=le();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(o,h))}),a.push(XM(o,s,e.documentUpdates).next(h=>{u=h.Ps,c=h.Is})),!r.isEqual(ie.min())){let h=t.Ur.getLastRemoteSnapshotVersion(o).next(f=>t.Ur.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(h)}return x.waitFor(a).next(()=>s.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,u,c)).next(()=>u)}).then(o=>(t.os=i,o))}function XM(n,e,t){let r=le(),i=le();return t.forEach(o=>r=r.add(o)),e.getEntries(n,r).next(o=>{let s=cn();return t.forEach((a,u)=>{let c=o.get(a);u.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(ie.min())?(e.removeEntry(a,u.readTime),s=s.insert(a,u)):!c.isValidDocument()||u.version.compareTo(c.version)>0||u.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(u),s=s.insert(a,u)):V("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",u.version)}),{Ps:s,Is:i}})}function z4(n,e){let t=H(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Ra(n,e){let t=H(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Ur.getTargetData(r,e).next(o=>o?(i=o,x.resolve(i)):t.Ur.allocateTargetId(r).next(s=>(i=new xa(e,s,"TargetPurposeListen",r.currentSequenceNumber),t.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=t.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.os=t.os.insert(r.targetId,r),t._s.set(e,r.targetId)),r})}function Na(n,e,t){return P(this,null,function*(){let r=H(n),i=r.os.get(e),o=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!Zi(s))throw s;V("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.os=r.os.remove(e),r._s.delete(i.target)})}function gp(n,e,t){let r=H(n),i=ie.min(),o=le();return r.persistence.runTransaction("Execute query","readwrite",s=>function(u,c,h){let f=H(u),m=f._s.get(h);return m!==void 0?x.resolve(f.os.get(m)):f.Ur.getTargetData(c,h)}(r,s,tn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(s,a.targetId).next(u=>{o=u})}).next(()=>r.ss.getDocumentsMatchingQuery(s,e,t?i:ie.min(),t?o:le())).next(a=>(n1(r,gM(e),a),{documents:a,Ts:o})))}function e1(n,e){let t=H(n),r=H(t.Ur),i=t.os.get(e);return i?Promise.resolve(i.target):t.persistence.runTransaction("Get target data","readonly",o=>r.ot(o,e).next(s=>s?s.target:null))}function t1(n,e){let t=H(n),r=t.us.get(e)||ie.min();return t.persistence.runTransaction("Get new document changes","readonly",i=>t.cs.getAllFromCollectionGroup(i,e,Kx(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(n1(t,e,i),i))}function n1(n,e,t){let r=n.us.get(e)||ie.min();t.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),n.us.set(e,r)}function G4(n,e,t,r){return P(this,null,function*(){let i=H(n),o=le(),s=cn();for(let c of t){let h=e.Es(c.metadata.name);c.document&&(o=o.add(h));let f=e.ds(c);f.setReadTime(e.As(c.metadata.readTime)),s=s.insert(h,f)}let a=i.cs.newChangeBuffer({trackRemovals:!0}),u=yield Ra(i,function(h){return tn(Ua(Se.fromString(`__bundle__/docs/${h}`)))}(r));return i.persistence.runTransaction("Apply bundle documents","readwrite",c=>XM(c,a,s).next(h=>(a.apply(c),h)).next(h=>i.Ur.removeMatchingKeysForTargetId(c,u.targetId).next(()=>i.Ur.addMatchingKeys(c,o,u.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(c,h.Ps,h.Is)).next(()=>h.Ps)))})}function W4(r,i){return P(this,arguments,function*(n,e,t=le()){let o=yield Ra(n,tn(Kw(e.bundledQuery))),s=H(n);return s.persistence.runTransaction("Save named query","readwrite",a=>{let u=st(e.readTime);if(o.snapshotVersion.compareTo(u)>=0)return s.Gr.saveNamedQuery(a,e);let c=o.withResumeToken(at.EMPTY_BYTE_STRING,u);return s.os=s.os.insert(c.targetId,c),s.Ur.updateTargetData(a,c).next(()=>s.Ur.removeMatchingKeysForTargetId(a,o.targetId)).next(()=>s.Ur.addMatchingKeys(a,t,o.targetId)).next(()=>s.Gr.saveNamedQuery(a,e))})})}function Rx(n,e){return`firestore_clients_${n}_${e}`}function Nx(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function O_(n,e){return`firestore_targets_${n}_${e}`}var mp=class n{constructor(e,t,r,i){this.user=e,this.batchId=t,this.state=r,this.error=i}static Rs(e,t,r){let i=JSON.parse(r),o,s=typeof i=="object"&&["pending","acknowledged","rejected"].indexOf(i.state)!==-1&&(i.error===void 0||typeof i.error=="object");return s&&i.error&&(s=typeof i.error.message=="string"&&typeof i.error.code=="string",s&&(o=new O(i.error.code,i.error.message))),s?new n(e,t,i.state,o):(it("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}Vs(){let e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}},Hl=class n{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static Rs(e,t){let r=JSON.parse(t),i,o=typeof r=="object"&&["not-current","current","rejected"].indexOf(r.state)!==-1&&(r.error===void 0||typeof r.error=="object");return o&&r.error&&(o=typeof r.error.message=="string"&&typeof r.error.code=="string",o&&(i=new O(r.error.code,r.error.message))),o?new n(e,r.state,i):(it("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}Vs(){let e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}},yp=class n{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Rs(e,t){let r=JSON.parse(t),i=typeof r=="object"&&r.activeTargetIds instanceof Array,o=zw();for(let s=0;i&&s<r.activeTargetIds.length;++s)i=Jx(r.activeTargetIds[s]),o=o.add(r.activeTargetIds[s]);return i?new n(e,o):(it("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}},J0=class n{constructor(e,t){this.clientId=e,this.onlineState=t}static Rs(e){let t=JSON.parse(e);return typeof t=="object"&&["Unknown","Online","Offline"].indexOf(t.onlineState)!==-1&&typeof t.clientId=="string"?new n(t.clientId,t.onlineState):(it("SharedClientState",`Failed to parse online state: ${e}`),null)}},sc=class{constructor(){this.activeTargetIds=zw()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}},ql=class{constructor(e,t,r,i,o){this.window=e,this.ui=t,this.persistenceKey=r,this.ps=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ys=this.ws.bind(this),this.Ss=new ze(ue),this.started=!1,this.bs=[];let s=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=o,this.Ds=Rx(this.persistenceKey,this.ps),this.vs=function(u){return`firestore_sequence_number_${u}`}(this.persistenceKey),this.Ss=this.Ss.insert(this.ps,new sc),this.Cs=new RegExp(`^firestore_clients_${s}_([^_]*)$`),this.Fs=new RegExp(`^firestore_mutations_${s}_(\\d+)(?:_(.*))?$`),this.Ms=new RegExp(`^firestore_targets_${s}_(\\d+)$`),this.xs=function(u){return`firestore_online_state_${u}`}(this.persistenceKey),this.Os=function(u){return`firestore_bundle_loaded_v2_${u}`}(this.persistenceKey),this.window.addEventListener("storage",this.ys)}static D(e){return!(!e||!e.localStorage)}start(){return P(this,null,function*(){let e=yield this.syncEngine.Qi();for(let r of e){if(r===this.ps)continue;let i=this.getItem(Rx(this.persistenceKey,r));if(i){let o=yp.Rs(r,i);o&&(this.Ss=this.Ss.insert(o.clientId,o))}}this.Ns();let t=this.storage.getItem(this.xs);if(t){let r=this.Ls(t);r&&this.Bs(r)}for(let r of this.bs)this.ws(r);this.bs=[],this.window.addEventListener("pagehide",()=>this.shutdown()),this.started=!0})}writeSequenceNumber(e){this.setItem(this.vs,JSON.stringify(e))}getAllActiveQueryTargets(){return this.ks(this.Ss)}isActiveQueryTarget(e){let t=!1;return this.Ss.forEach((r,i)=>{i.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.qs(e,"pending")}updateMutationState(e,t,r){this.qs(e,t,r),this.Qs(e)}addLocalQueryTarget(e,t=!0){let r="not-current";if(this.isActiveQueryTarget(e)){let i=this.storage.getItem(O_(this.persistenceKey,e));if(i){let o=Hl.Rs(e,i);o&&(r=o.state)}}return t&&this.Ks.fs(e),this.Ns(),r}removeLocalQueryTarget(e){this.Ks.gs(e),this.Ns()}isLocalQueryTarget(e){return this.Ks.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(O_(this.persistenceKey,e))}updateQueryState(e,t,r){this.$s(e,t,r)}handleUserChange(e,t,r){t.forEach(i=>{this.Qs(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.Us(e)}notifyBundleLoaded(e){this.Ws(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ys),this.removeItem(this.Ds),this.started=!1)}getItem(e){let t=this.storage.getItem(e);return V("SharedClientState","READ",e,t),t}setItem(e,t){V("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){V("SharedClientState","REMOVE",e),this.storage.removeItem(e)}ws(e){let t=e;if(t.storageArea===this.storage){if(V("SharedClientState","EVENT",t.key,t.newValue),t.key===this.Ds)return void it("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ui.enqueueRetryable(()=>P(this,null,function*(){if(this.started){if(t.key!==null){if(this.Cs.test(t.key)){if(t.newValue==null){let r=this.Gs(t.key);return this.zs(r,null)}{let r=this.js(t.key,t.newValue);if(r)return this.zs(r.clientId,r)}}else if(this.Fs.test(t.key)){if(t.newValue!==null){let r=this.Hs(t.key,t.newValue);if(r)return this.Js(r)}}else if(this.Ms.test(t.key)){if(t.newValue!==null){let r=this.Ys(t.key,t.newValue);if(r)return this.Zs(r)}}else if(t.key===this.xs){if(t.newValue!==null){let r=this.Ls(t.newValue);if(r)return this.Bs(r)}}else if(t.key===this.vs){let r=function(o){let s=_n.oe;if(o!=null)try{let a=JSON.parse(o);X(typeof a=="number"),s=a}catch(a){it("SharedClientState","Failed to read sequence number from WebStorage",a)}return s}(t.newValue);r!==_n.oe&&this.sequenceNumberHandler(r)}else if(t.key===this.Os){let r=this.Xs(t.newValue);yield Promise.all(r.map(i=>this.syncEngine.eo(i)))}}}else this.bs.push(t)}))}}get Ks(){return this.Ss.get(this.ps)}Ns(){this.setItem(this.Ds,this.Ks.Vs())}qs(e,t,r){let i=new mp(this.currentUser,e,t,r),o=Nx(this.persistenceKey,this.currentUser,e);this.setItem(o,i.Vs())}Qs(e){let t=Nx(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Us(e){let t={clientId:this.ps,onlineState:e};this.storage.setItem(this.xs,JSON.stringify(t))}$s(e,t,r){let i=O_(this.persistenceKey,e),o=new Hl(e,t,r);this.setItem(i,o.Vs())}Ws(e){let t=JSON.stringify(Array.from(e));this.setItem(this.Os,t)}Gs(e){let t=this.Cs.exec(e);return t?t[1]:null}js(e,t){let r=this.Gs(e);return yp.Rs(r,t)}Hs(e,t){let r=this.Fs.exec(e),i=Number(r[1]),o=r[2]!==void 0?r[2]:null;return mp.Rs(new pt(o),i,t)}Ys(e,t){let r=this.Ms.exec(e),i=Number(r[1]);return Hl.Rs(i,t)}Ls(e){return J0.Rs(e)}Xs(e){return JSON.parse(e)}Js(e){return P(this,null,function*(){if(e.user.uid===this.currentUser.uid)return this.syncEngine.no(e.batchId,e.state,e.error);V("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})}Zs(e){return this.syncEngine.ro(e.targetId,e.state,e.error)}zs(e,t){let r=t?this.Ss.insert(e,t):this.Ss.remove(e),i=this.ks(this.Ss),o=this.ks(r),s=[],a=[];return o.forEach(u=>{i.has(u)||s.push(u)}),i.forEach(u=>{o.has(u)||a.push(u)}),this.syncEngine.io(s,a).then(()=>{this.Ss=r})}Bs(e){this.Ss.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}ks(e){let t=zw();return e.forEach((r,i)=>{t=t.unionWith(i.activeTargetIds)}),t}},vp=class{constructor(){this.so=new sc,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,t,r){this.oo[e]=t}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new sc,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var X0=class{_o(e){}shutdown(){}};var _p=class{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){V("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.ho)e(0)}lo(){V("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var Of=null;function V_(){return Of===null?Of=function(){return 268435456+Math.round(2147483648*Math.random())}():Of++,"0x"+Of.toString(16)}var K4={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var ew=class{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}};var Bt="WebChannelConnection",tw=class extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;let r=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+t.host,this.vo=`projects/${i}/databases/${o}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get Fo(){return!1}Mo(t,r,i,o,s){let a=V_(),u=this.xo(t,r.toUriEncodedString());V("RestConnection",`Sending RPC '${t}' ${a}:`,u,i);let c={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(c,o,s),this.No(t,u,c,i).then(h=>(V("RestConnection",`Received RPC '${t}' ${a}: `,h),h),h=>{throw Qn("RestConnection",`RPC '${t}' ${a} failed with error: `,h,"url: ",u,"request:",i),h})}Lo(t,r,i,o,s,a){return this.Mo(t,r,i,o,s)}Oo(t,r,i){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ja}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,s)=>t[s]=o),i&&i.headers.forEach((o,s)=>t[s]=o)}xo(t,r){let i=K4[t];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,t,r,i){let o=V_();return new Promise((s,a)=>{let u=new x_;u.setWithCredentials(!0),u.listenOnce(M_.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Pl.NO_ERROR:let h=u.getResponseJson();V(Bt,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(h)),s(h);break;case Pl.TIMEOUT:V(Bt,`RPC '${e}' ${o} timed out`),a(new O(N.DEADLINE_EXCEEDED,"Request time out"));break;case Pl.HTTP_ERROR:let f=u.getStatus();if(V(Bt,`RPC '${e}' ${o} failed with status:`,f,"response text:",u.getResponseText()),f>0){let m=u.getResponseJson();Array.isArray(m)&&(m=m[0]);let y=m?.error;if(y&&y.status&&y.message){let S=function(T){let L=T.toLowerCase().replace(/_/g,"-");return Object.values(N).indexOf(L)>=0?L:N.UNKNOWN}(y.status);a(new O(S,y.message))}else a(new O(N.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new O(N.UNAVAILABLE,"Connection failed."));break;default:Q()}}finally{V(Bt,`RPC '${e}' ${o} completed.`)}});let c=JSON.stringify(i);V(Bt,`RPC '${e}' ${o} sending request:`,i),u.send(t,"POST",c,r,15)})}Bo(e,t,r){let i=V_(),o=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=P_(),a=N_(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(u.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Oo(u.initMessageHeaders,t,r),u.encodeInitMessageHeaders=!0;let h=o.join("");V(Bt,`Creating RPC '${e}' stream ${i}: ${h}`,u);let f=s.createWebChannel(h,u),m=!1,y=!1,S=new ew({Io:T=>{y?V(Bt,`Not sending because RPC '${e}' stream ${i} is closed:`,T):(m||(V(Bt,`Opening RPC '${e}' stream ${i} transport.`),f.open(),m=!0),V(Bt,`RPC '${e}' stream ${i} sending:`,T),f.send(T))},To:()=>f.close()}),D=(T,L,K)=>{T.listen(L,F=>{try{K(F)}catch(J){setTimeout(()=>{throw J},0)}})};return D(f,ua.EventType.OPEN,()=>{y||(V(Bt,`RPC '${e}' stream ${i} transport opened.`),S.yo())}),D(f,ua.EventType.CLOSE,()=>{y||(y=!0,V(Bt,`RPC '${e}' stream ${i} transport closed`),S.So())}),D(f,ua.EventType.ERROR,T=>{y||(y=!0,Qn(Bt,`RPC '${e}' stream ${i} transport errored:`,T),S.So(new O(N.UNAVAILABLE,"The operation could not be completed")))}),D(f,ua.EventType.MESSAGE,T=>{var L;if(!y){let K=T.data[0];X(!!K);let F=K,J=F.error||((L=F[0])===null||L===void 0?void 0:L.error);if(J){V(Bt,`RPC '${e}' stream ${i} received error:`,J);let oe=J.status,ne=function(w){let I=ht[w];if(I!==void 0)return xM(I)}(oe),E=J.message;ne===void 0&&(ne=N.INTERNAL,E="Unknown error status: "+oe+" with message "+J.message),y=!0,S.So(new O(ne,E)),f.close()}else V(Bt,`RPC '${e}' stream ${i} received:`,K),S.bo(K)}}),D(a,R_.STAT_EVENT,T=>{T.stat===Nf.PROXY?V(Bt,`RPC '${e}' stream ${i} detected buffering proxy`):T.stat===Nf.NOPROXY&&V(Bt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{S.wo()},0),S}};function r1(){return typeof window<"u"?window:null}function Bf(){return typeof document<"u"?document:null}function mc(n){return new m0(n,!0)}var ac=class{constructor(e,t,r=1e3,i=1.5,o=6e4){this.ui=e,this.timerId=t,this.ko=r,this.qo=i,this.Qo=o,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();let t=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,t-r);i>0&&V("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}};var wp=class{constructor(e,t,r,i,o,s,a,u){this.ui=e,this.Ho=r,this.Jo=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new ac(e,t)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}stop(){return P(this,null,function*(){this.n_()&&(yield this.close(0))})}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}__(){return P(this,null,function*(){if(this.r_())return this.close(0)})}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(e,t){return P(this,null,function*(){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():t&&t.code===N.RESOURCE_EXHAUSTED?(it(t.toString()),it("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):t&&t.code===N.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.mo(t)})}l_(){}auth(){this.state=1;let e=this.h_(this.Yo),t=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===t&&this.P_(r,i)},r=>{e(()=>{let i=new O(N.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,t){let r=this.h_(this.Yo);this.stream=this.T_(e,t),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(()=>P(this,null,function*(){this.state=0,this.start()}))}I_(e){return V("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return t=>{this.ui.enqueueAndForget(()=>this.Yo===e?t():(V("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},nw=class extends wp{constructor(e,t,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}T_(e,t){return this.connection.Bo("Listen",e,t)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();let t=N4(this.serializer,e),r=function(o){if(!("targetChange"in o))return ie.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?ie.min():s.readTime?st(s.readTime):ie.min()}(e);return this.listener.d_(t,r)}A_(e){let t={};t.database=_0(this.serializer),t.addTarget=function(o,s){let a,u=s.target;if(a=Zf(u)?{documents:VM(o,u)}:{query:LM(o,u)._t},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=RM(o,s.resumeToken);let c=y0(o,s.expectedCount);c!==null&&(a.expectedCount=c)}else if(s.snapshotVersion.compareTo(ie.min())>0){a.readTime=Aa(o,s.snapshotVersion.toTimestamp());let c=y0(o,s.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);let r=k4(this.serializer,e);r&&(t.labels=r),this.a_(t)}R_(e){let t={};t.database=_0(this.serializer),t.removeTarget=e,this.a_(t)}},rw=class extends wp{constructor(e,t,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,t){return this.connection.Bo("Write",e,t)}E_(e){return X(!!e.streamToken),this.lastStreamToken=e.streamToken,X(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){X(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();let t=P4(e.writeResults,e.commitTime),r=st(e.commitTime);return this.listener.g_(r,t)}p_(){let e={};e.database=_0(this.serializer),this.a_(e)}m_(e){let t={streamToken:this.lastStreamToken,writes:e.map(r=>rc(this.serializer,r))};this.a_(t)}};var iw=class extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new O(N.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,t,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Mo(e,v0(t,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===N.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new O(N.UNKNOWN,o.toString())})}Lo(e,t,r,i,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Lo(e,v0(t,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===N.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new O(N.UNKNOWN,s.toString())})}terminate(){this.y_=!0,this.connection.terminate()}},ow=class{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){let t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(it(t),this.D_=!1):V("OnlineStateTracker",t)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}};var sw=class{constructor(e,t,r,i,o){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=o,this.k_._o(s=>{r.enqueueAndForget(()=>P(this,null,function*(){Ji(this)&&(V("RemoteStore","Restarting streams for network reachability change."),yield function(u){return P(this,null,function*(){let c=H(u);c.L_.add(4),yield Ba(c),c.q_.set("Unknown"),c.L_.delete(4),yield yc(c)})}(this))}))}),this.q_=new ow(r,i)}};function yc(n){return P(this,null,function*(){if(Ji(n))for(let e of n.B_)yield e(!0)})}function Ba(n){return P(this,null,function*(){for(let e of n.B_)yield e(!1)})}function Bp(n,e){let t=H(n);t.N_.has(e.targetId)||(t.N_.set(e.targetId,e),Xw(t)?Jw(t):Ha(t).r_()&&Zw(t,e))}function Pa(n,e){let t=H(n),r=Ha(t);t.N_.delete(e),r.r_()&&i1(t,e),t.N_.size===0&&(r.r_()?r.o_():Ji(t)&&t.q_.set("Unknown"))}function Zw(n,e){if(n.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ie.min())>0){let t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Ha(n).A_(e)}function i1(n,e){n.Q_.xe(e),Ha(n).R_(e)}function Jw(n){n.Q_=new g0({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>n.N_.get(e)||null,tt:()=>n.datastore.serializer.databaseId}),Ha(n).start(),n.q_.v_()}function Xw(n){return Ji(n)&&!Ha(n).n_()&&n.N_.size>0}function Ji(n){return H(n).L_.size===0}function o1(n){n.Q_=void 0}function Q4(n){return P(this,null,function*(){n.q_.set("Online")})}function Y4(n){return P(this,null,function*(){n.N_.forEach((e,t)=>{Zw(n,e)})})}function Z4(n,e){return P(this,null,function*(){o1(n),Xw(n)?(n.q_.M_(e),Jw(n)):n.q_.set("Unknown")})}function J4(n,e,t){return P(this,null,function*(){if(n.q_.set("Online"),e instanceof tp&&e.state===2&&e.cause)try{yield function(i,o){return P(this,null,function*(){let s=o.cause;for(let a of o.targetIds)i.N_.has(a)&&(yield i.remoteSyncer.rejectListen(a,s),i.N_.delete(a),i.Q_.removeTarget(a))})}(n,e)}catch(r){V("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Ep(n,r)}else if(e instanceof Ea?n.Q_.Ke(e):e instanceof ep?n.Q_.He(e):n.Q_.We(e),!t.isEqual(ie.min()))try{let r=yield JM(n.localStore);t.compareTo(r)>=0&&(yield function(o,s){let a=o.Q_.rt(s);return a.targetChanges.forEach((u,c)=>{if(u.resumeToken.approximateByteSize()>0){let h=o.N_.get(c);h&&o.N_.set(c,h.withResumeToken(u.resumeToken,s))}}),a.targetMismatches.forEach((u,c)=>{let h=o.N_.get(u);if(!h)return;o.N_.set(u,h.withResumeToken(at.EMPTY_BYTE_STRING,h.snapshotVersion)),i1(o,u);let f=new xa(h.target,u,c,h.sequenceNumber);Zw(o,f)}),o.remoteSyncer.applyRemoteEvent(a)}(n,t))}catch(r){V("RemoteStore","Failed to raise snapshot:",r),yield Ep(n,r)}})}function Ep(n,e,t){return P(this,null,function*(){if(!Zi(e))throw e;n.L_.add(1),yield Ba(n),n.q_.set("Offline"),t||(t=()=>JM(n.localStore)),n.asyncQueue.enqueueRetryable(()=>P(this,null,function*(){V("RemoteStore","Retrying IndexedDB access"),yield t(),n.L_.delete(1),yield yc(n)}))})}function s1(n,e){return e().catch(t=>Ep(n,t,e))}function $a(n){return P(this,null,function*(){let e=H(n),t=Qi(e),r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;X4(e);)try{let i=yield z4(e.localStore,r);if(i===null){e.O_.length===0&&t.o_();break}r=i.batchId,e$(e,i)}catch(i){yield Ep(e,i)}a1(e)&&u1(e)})}function X4(n){return Ji(n)&&n.O_.length<10}function e$(n,e){n.O_.push(e);let t=Qi(n);t.r_()&&t.V_&&t.m_(e.mutations)}function a1(n){return Ji(n)&&!Qi(n).n_()&&n.O_.length>0}function u1(n){Qi(n).start()}function t$(n){return P(this,null,function*(){Qi(n).p_()})}function n$(n){return P(this,null,function*(){let e=Qi(n);for(let t of n.O_)e.m_(t.mutations)})}function r$(n,e,t){return P(this,null,function*(){let r=n.O_.shift(),i=h0.from(r,e,t);yield s1(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield $a(n)})}function i$(n,e){return P(this,null,function*(){e&&Qi(n).V_&&(yield function(r,i){return P(this,null,function*(){if(function(s){return AM(s)&&s!==N.ABORTED}(i.code)){let o=r.O_.shift();Qi(r).s_(),yield s1(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield $a(r)}})}(n,e)),a1(n)&&u1(n)})}function Px(n,e){return P(this,null,function*(){let t=H(n);t.asyncQueue.verifyOperationInProgress(),V("RemoteStore","RemoteStore received new credentials");let r=Ji(t);t.L_.add(3),yield Ba(t),r&&t.q_.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.L_.delete(3),yield yc(t)})}function aw(n,e){return P(this,null,function*(){let t=H(n);e?(t.L_.delete(2),yield yc(t)):e||(t.L_.add(2),yield Ba(t),t.q_.set("Unknown"))})}function Ha(n){return n.K_||(n.K_=function(t,r,i){let o=H(t);return o.w_(),new nw(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{Eo:Q4.bind(null,n),Ro:Y4.bind(null,n),mo:Z4.bind(null,n),d_:J4.bind(null,n)}),n.B_.push(e=>P(this,null,function*(){e?(n.K_.s_(),Xw(n)?Jw(n):n.q_.set("Unknown")):(yield n.K_.stop(),o1(n))}))),n.K_}function Qi(n){return n.U_||(n.U_=function(t,r,i){let o=H(t);return o.w_(),new rw(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{Eo:()=>Promise.resolve(),Ro:t$.bind(null,n),mo:i$.bind(null,n),f_:n$.bind(null,n),g_:r$.bind(null,n)}),n.B_.push(e=>P(this,null,function*(){e?(n.U_.s_(),yield $a(n)):(yield n.U_.stop(),n.O_.length>0&&(V("RemoteStore",`Stopping write stream with ${n.O_.length} pending writes`),n.O_=[]))}))),n.U_}var uw=class n{constructor(e,t,r,i,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new wt,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,o){let s=Date.now()+r,a=new n(e,t,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new O(N.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function qa(n,e){if(it("AsyncQueue",`${e}: ${n}`),Zi(n))return new O(N.UNAVAILABLE,`${e}: ${n}`);throw n}var Ip=class n{constructor(e){this.comparator=e?(t,r)=>e(t,r)||q.comparator(t.key,r.key):(t,r)=>q.comparator(t.key,r.key),this.keyedMap=Ll(),this.sortedSet=new ze(this.comparator)}static emptySet(e){return new n(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){let t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){let t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){let r=new n;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}};var Cp=class{constructor(){this.W_=new ze(q.comparator)}track(e){let t=e.doc.key,r=this.W_.get(t);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(t,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(t):e.type===1&&r.type===2?this.W_=this.W_.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):Q():this.W_=this.W_.insert(t,e)}G_(){let e=[];return this.W_.inorderTraversal((t,r)=>{e.push(r)}),e}},ka=class n{constructor(e,t,r,i,o,s,a,u,c){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=c}static fromInitialDocuments(e,t,r,i,o){let s=[];return t.forEach(a=>{s.push({type:0,doc:a})}),new n(e,t,Ip.emptySet(t),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&pc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}};var lw=class{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}},cw=class{constructor(){this.queries=kx(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(t,r){let i=H(t),o=i.queries;i.queries=kx(),o.forEach((s,a)=>{for(let u of a.j_)u.onError(r)})})(this,new O(N.ABORTED,"Firestore shutting down"))}};function kx(){return new Ir(n=>pM(n),pc)}function eE(n,e){return P(this,null,function*(){let t=H(n),r=3,i=e.query,o=t.queries.get(i);o?!o.H_()&&e.J_()&&(r=2):(o=new lw,r=e.J_()?0:1);try{switch(r){case 0:o.z_=yield t.onListen(i,!0);break;case 1:o.z_=yield t.onListen(i,!1);break;case 2:yield t.onFirstRemoteStoreListen(i)}}catch(s){let a=qa(s,`Initialization of query '${pa(e.query)}' failed`);return void e.onError(a)}t.queries.set(i,o),o.j_.push(e),e.Z_(t.onlineState),o.z_&&e.X_(o.z_)&&nE(t)})}function tE(n,e){return P(this,null,function*(){let t=H(n),r=e.query,i=3,o=t.queries.get(r);if(o){let s=o.j_.indexOf(e);s>=0&&(o.j_.splice(s,1),o.j_.length===0?i=e.J_()?0:1:!o.H_()&&e.J_()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}})}function o$(n,e){let t=H(n),r=!1;for(let i of e){let o=i.query,s=t.queries.get(o);if(s){for(let a of s.j_)a.X_(i)&&(r=!0);s.z_=i}}r&&nE(t)}function s$(n,e,t){let r=H(n),i=r.queries.get(e);if(i)for(let o of i.j_)o.onError(t);r.queries.delete(e)}function nE(n){n.Y_.forEach(e=>{e.next()})}var dw,Fx;(Fx=dw||(dw={})).ea="default",Fx.Cache="cache";var uc=class{constructor(e,t,r){this.query=e,this.ta=t,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new ka(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.na?this.ia(e)&&(this.ta.next(e),t=!0):this.sa(e,this.onlineState)&&(this.oa(e),t=!0),this.ra=e,t}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let t=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),t=!0),t}sa(e,t){if(!e.fromCache||!this.J_())return!0;let r=t!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}ia(e){if(e.docChanges.length>0)return!0;let t=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}oa(e){e=ka.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==dw.Cache}};var hw=class{constructor(e,t){this.aa=e,this.byteLength=t}ua(){return"metadata"in this.aa}};var Dp=class{constructor(e){this.serializer=e}Es(e){return vr(this.serializer,e)}ds(e){return e.metadata.exists?OM(this.serializer,e.document,!1):gt.newNoDocument(this.Es(e.metadata.name),this.As(e.metadata.readTime))}As(e){return st(e)}},fw=class{constructor(e,t,r){this.ca=e,this.localStore=t,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=l1(e)}la(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.aa.namedQuery)this.queries.push(e.aa.namedQuery);else if(e.aa.documentMetadata){this.documents.push({metadata:e.aa.documentMetadata}),e.aa.documentMetadata.exists||++t;let r=Se.fromString(e.aa.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.aa.document&&(this.documents[this.documents.length-1].document=e.aa.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}ha(e){let t=new Map,r=new Dp(this.serializer);for(let i of e)if(i.metadata.queries){let o=r.Es(i.metadata.name);for(let s of i.metadata.queries){let a=(t.get(s)||le()).add(o);t.set(s,a)}}return t}complete(){return P(this,null,function*(){let e=yield G4(this.localStore,new Dp(this.serializer),this.documents,this.ca.id),t=this.ha(this.documents);for(let r of this.queries)yield W4(this.localStore,r,t.get(r.name));return this.progress.taskState="Success",{progress:this.progress,Pa:this.collectionGroups,Ia:e}})}};function l1(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}var bp=class{constructor(e){this.key=e}},Sp=class{constructor(e){this.key=e}},Tp=class{constructor(e,t){this.query=e,this.Ta=t,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=le(),this.mutatedKeys=le(),this.Aa=mM(e),this.Ra=new Ip(this.Aa)}get Va(){return this.Ta}ma(e,t){let r=t?t.fa:new Cp,i=t?t.Ra:this.Ra,o=t?t.mutatedKeys:this.mutatedKeys,s=i,a=!1,u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,f)=>{let m=i.get(h),y=gc(this.query,f)?f:null,S=!!m&&this.mutatedKeys.has(m.key),D=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations),T=!1;m&&y?m.data.isEqual(y.data)?S!==D&&(r.track({type:3,doc:y}),T=!0):this.ga(m,y)||(r.track({type:2,doc:y}),T=!0,(u&&this.Aa(y,u)>0||c&&this.Aa(y,c)<0)&&(a=!0)):!m&&y?(r.track({type:0,doc:y}),T=!0):m&&!y&&(r.track({type:1,doc:m}),T=!0,(u||c)&&(a=!0)),T&&(y?(s=s.add(y),o=D?o.add(h):o.delete(h)):(s=s.delete(h),o=o.delete(h)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let h=this.query.limitType==="F"?s.last():s.first();s=s.delete(h.key),o=o.delete(h.key),r.track({type:1,doc:h})}return{Ra:s,fa:r,ns:a,mutatedKeys:o}}ga(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){let o=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;let s=e.fa.G_();s.sort((h,f)=>function(y,S){let D=T=>{switch(T){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Q()}};return D(y)-D(S)}(h.type,f.type)||this.Aa(h.doc,f.doc)),this.pa(r),i=i!=null&&i;let a=t&&!i?this.ya():[],u=this.da.size===0&&this.current&&!i?1:0,c=u!==this.Ea;return this.Ea=u,s.length!==0||c?{snapshot:new ka(this.query,e.Ra,o,s,e.mutatedKeys,u===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new Cp,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(t=>this.Ta=this.Ta.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ta=this.Ta.delete(t)),this.current=e.current)}ya(){if(!this.current)return[];let e=this.da;this.da=le(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});let t=[];return e.forEach(r=>{this.da.has(r)||t.push(new Sp(r))}),this.da.forEach(r=>{e.has(r)||t.push(new bp(r))}),t}ba(e){this.Ta=e.Ts,this.da=le();let t=this.ma(e.documents);return this.applyChanges(t,!0)}Da(){return ka.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}},pw=class{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}},gw=class{constructor(e){this.key=e,this.va=!1}},mw=class{constructor(e,t,r,i,o,s){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Ca={},this.Fa=new Ir(a=>pM(a),pc),this.Ma=new Map,this.xa=new Set,this.Oa=new ze(q.comparator),this.Na=new Map,this.La=new oc,this.Ba={},this.ka=new Map,this.qa=Ma.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}};function a$(n,e,t=!0){return P(this,null,function*(){let r=$p(n),i,o=r.Fa.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Da()):i=yield c1(r,e,t,!0),i})}function u$(n,e){return P(this,null,function*(){let t=$p(n);yield c1(t,e,!0,!1)})}function c1(n,e,t,r){return P(this,null,function*(){let i=yield Ra(n.localStore,tn(e)),o=i.targetId,s=n.sharedClientState.addLocalQueryTarget(o,t),a;return r&&(a=yield rE(n,e,o,s==="current",i.resumeToken)),n.isPrimaryClient&&t&&Bp(n.remoteStore,i),a})}function rE(n,e,t,r,i){return P(this,null,function*(){n.Ka=(f,m,y)=>function(D,T,L,K){return P(this,null,function*(){let F=T.view.ma(L);F.ns&&(F=yield gp(D.localStore,T.query,!1).then(({documents:E})=>T.view.ma(E,F)));let J=K&&K.targetChanges.get(T.targetId),oe=K&&K.targetMismatches.get(T.targetId)!=null,ne=T.view.applyChanges(F,D.isPrimaryClient,J,oe);return yw(D,T.targetId,ne.wa),ne.snapshot})}(n,f,m,y);let o=yield gp(n.localStore,e,!0),s=new Tp(e,o.Ts),a=s.ma(o.documents),u=tc.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),c=s.applyChanges(a,n.isPrimaryClient,u);yw(n,t,c.wa);let h=new pw(e,t,s);return n.Fa.set(e,h),n.Ma.has(t)?n.Ma.get(t).push(e):n.Ma.set(t,[e]),c.snapshot})}function l$(n,e,t){return P(this,null,function*(){let r=H(n),i=r.Fa.get(e),o=r.Ma.get(i.targetId);if(o.length>1)return r.Ma.set(i.targetId,o.filter(s=>!pc(s,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield Na(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&Pa(r.remoteStore,i.targetId),Fa(r,i.targetId)}).catch(Yi))):(Fa(r,i.targetId),yield Na(r.localStore,i.targetId,!0))})}function c$(n,e){return P(this,null,function*(){let t=H(n),r=t.Fa.get(e),i=t.Ma.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),Pa(t.remoteStore,r.targetId))})}function d$(n,e,t){return P(this,null,function*(){let r=aE(n);try{let i=yield function(s,a){let u=H(s),c=qe.now(),h=a.reduce((y,S)=>y.add(S.key),le()),f,m;return u.persistence.runTransaction("Locally write mutations","readwrite",y=>{let S=cn(),D=le();return u.cs.getEntries(y,h).next(T=>{S=T,S.forEach((L,K)=>{K.isValidDocument()||(D=D.add(L))})}).next(()=>u.localDocuments.getOverlayedDocuments(y,S)).next(T=>{f=T;let L=[];for(let K of a){let F=b4(K,f.get(K.key).overlayedDocument);F!=null&&L.push(new Zn(K.key,F,aM(F.value.mapValue),Xe.exists(!0)))}return u.mutationQueue.addMutationBatch(y,c,L,a)}).next(T=>{m=T;let L=T.applyToLocalDocumentSet(f,D);return u.documentOverlayCache.saveOverlays(y,T.batchId,L)})}).then(()=>({batchId:m.batchId,changes:vM(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,u){let c=s.Ba[s.currentUser.toKey()];c||(c=new ze(ue)),c=c.insert(a,u),s.Ba[s.currentUser.toKey()]=c}(r,i.batchId,t),yield Xr(r,i.changes),yield $a(r.remoteStore)}catch(i){let o=qa(i,"Failed to persist write");t.reject(o)}})}function d1(n,e){return P(this,null,function*(){let t=H(n);try{let r=yield q4(t.localStore,e);e.targetChanges.forEach((i,o)=>{let s=t.Na.get(o);s&&(X(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.va=!0:i.modifiedDocuments.size>0?X(s.va):i.removedDocuments.size>0&&(X(s.va),s.va=!1))}),yield Xr(t,r,e)}catch(r){yield Yi(r)}})}function Ox(n,e,t){let r=H(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){let i=[];r.Fa.forEach((o,s)=>{let a=s.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){let u=H(s);u.onlineState=a;let c=!1;u.queries.forEach((h,f)=>{for(let m of f.j_)m.Z_(a)&&(c=!0)}),c&&nE(u)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function h$(n,e,t){return P(this,null,function*(){let r=H(n);r.sharedClientState.updateQueryState(e,"rejected",t);let i=r.Na.get(e),o=i&&i.key;if(o){let s=new ze(q.comparator);s=s.insert(o,gt.newNoDocument(o,ie.min()));let a=le().add(o),u=new ec(ie.min(),new Map,new ze(ue),s,a);yield d1(r,u),r.Oa=r.Oa.remove(o),r.Na.delete(e),sE(r)}else yield Na(r.localStore,e,!1).then(()=>Fa(r,e,t)).catch(Yi)})}function f$(n,e){return P(this,null,function*(){let t=H(n),r=e.batch.batchId;try{let i=yield H4(t.localStore,e);oE(t,r,null),iE(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield Xr(t,i)}catch(i){yield Yi(i)}})}function p$(n,e,t){return P(this,null,function*(){let r=H(n);try{let i=yield function(s,a){let u=H(s);return u.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let h;return u.mutationQueue.lookupMutationBatch(c,a).next(f=>(X(f!==null),h=f.keys(),u.mutationQueue.removeMutationBatch(c,f))).next(()=>u.mutationQueue.performConsistencyCheck(c)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(c,h,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,h)).next(()=>u.localDocuments.getDocuments(c,h))})}(r.localStore,e);oE(r,e,t),iE(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield Xr(r,i)}catch(i){yield Yi(i)}})}function g$(n,e){return P(this,null,function*(){let t=H(n);Ji(t.remoteStore)||V("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{let r=yield function(s){let a=H(s);return a.persistence.runTransaction("Get highest unacknowledged batch id","readonly",u=>a.mutationQueue.getHighestUnacknowledgedBatchId(u))}(t.localStore);if(r===-1)return void e.resolve();let i=t.ka.get(r)||[];i.push(e),t.ka.set(r,i)}catch(r){let i=qa(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}})}function iE(n,e){(n.ka.get(e)||[]).forEach(t=>{t.resolve()}),n.ka.delete(e)}function oE(n,e,t){let r=H(n),i=r.Ba[r.currentUser.toKey()];if(i){let o=i.get(e);o&&(t?o.reject(t):o.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function Fa(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(let r of n.Ma.get(e))n.Fa.delete(r),t&&n.Ca.$a(r,t);n.Ma.delete(e),n.isPrimaryClient&&n.La.gr(e).forEach(r=>{n.La.containsKey(r)||h1(n,r)})}function h1(n,e){n.xa.delete(e.path.canonicalString());let t=n.Oa.get(e);t!==null&&(Pa(n.remoteStore,t),n.Oa=n.Oa.remove(e),n.Na.delete(t),sE(n))}function yw(n,e,t){for(let r of t)r instanceof bp?(n.La.addReference(r.key,e),m$(n,r)):r instanceof Sp?(V("SyncEngine","Document no longer in limbo: "+r.key),n.La.removeReference(r.key,e),n.La.containsKey(r.key)||h1(n,r.key)):Q()}function m$(n,e){let t=e.key,r=t.path.canonicalString();n.Oa.get(t)||n.xa.has(r)||(V("SyncEngine","New document in limbo: "+t),n.xa.add(r),sE(n))}function sE(n){for(;n.xa.size>0&&n.Oa.size<n.maxConcurrentLimboResolutions;){let e=n.xa.values().next().value;n.xa.delete(e);let t=new q(Se.fromString(e)),r=n.qa.next();n.Na.set(r,new gw(t)),n.Oa=n.Oa.insert(t,r),Bp(n.remoteStore,new xa(tn(Ua(t.path)),r,"TargetPurposeLimboResolution",_n.oe))}}function Xr(n,e,t){return P(this,null,function*(){let r=H(n),i=[],o=[],s=[];r.Fa.isEmpty()||(r.Fa.forEach((a,u)=>{s.push(r.Ka(u,e,t).then(c=>{var h;if((c||t)&&r.isPrimaryClient){let f=c?!c.fromCache:(h=t?.targetChanges.get(u.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(u.targetId,f?"current":"not-current")}if(c){i.push(c);let f=Q0.Wi(u.targetId,c);o.push(f)}}))}),yield Promise.all(s),r.Ca.d_(i),yield function(u,c){return P(this,null,function*(){let h=H(u);try{yield h.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>x.forEach(c,m=>x.forEach(m.$i,y=>h.persistence.referenceDelegate.addReference(f,m.targetId,y)).next(()=>x.forEach(m.Ui,y=>h.persistence.referenceDelegate.removeReference(f,m.targetId,y)))))}catch(f){if(!Zi(f))throw f;V("LocalStore","Failed to update sequence numbers: "+f)}for(let f of c){let m=f.targetId;if(!f.fromCache){let y=h.os.get(m),S=y.snapshotVersion,D=y.withLastLimboFreeSnapshotVersion(S);h.os=h.os.insert(m,D)}}})}(r.localStore,o))})}function y$(n,e){return P(this,null,function*(){let t=H(n);if(!t.currentUser.isEqual(e)){V("SyncEngine","User change. New user:",e.toKey());let r=yield ZM(t.localStore,e);t.currentUser=e,function(o,s){o.ka.forEach(a=>{a.forEach(u=>{u.reject(new O(N.CANCELLED,s))})}),o.ka.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Xr(t,r.hs)}})}function v$(n,e){let t=H(n),r=t.Na.get(e);if(r&&r.va)return le().add(r.key);{let i=le(),o=t.Ma.get(e);if(!o)return i;for(let s of o){let a=t.Fa.get(s);i=i.unionWith(a.view.Va)}return i}}function _$(n,e){return P(this,null,function*(){let t=H(n),r=yield gp(t.localStore,e.query,!0),i=e.view.ba(r);return t.isPrimaryClient&&yw(t,e.targetId,i.wa),i})}function w$(n,e){return P(this,null,function*(){let t=H(n);return t1(t.localStore,e).then(r=>Xr(t,r))})}function E$(n,e,t,r){return P(this,null,function*(){let i=H(n),o=yield function(a,u){let c=H(a),h=H(c.mutationQueue);return c.persistence.runTransaction("Lookup mutation documents","readonly",f=>h.Mn(f,u).next(m=>m?c.localDocuments.getDocuments(f,m):x.resolve(null)))}(i.localStore,e);o!==null?(t==="pending"?yield $a(i.remoteStore):t==="acknowledged"||t==="rejected"?(oE(i,e,r||null),iE(i,e),function(a,u){H(H(a).mutationQueue).On(u)}(i.localStore,e)):Q(),yield Xr(i,o)):V("SyncEngine","Cannot apply mutation batch with id: "+e)})}function I$(n,e){return P(this,null,function*(){let t=H(n);if($p(t),aE(t),e===!0&&t.Qa!==!0){let r=t.sharedClientState.getAllActiveQueryTargets(),i=yield Vx(t,r.toArray());t.Qa=!0,yield aw(t.remoteStore,!0);for(let o of i)Bp(t.remoteStore,o)}else if(e===!1&&t.Qa!==!1){let r=[],i=Promise.resolve();t.Ma.forEach((o,s)=>{t.sharedClientState.isLocalQueryTarget(s)?r.push(s):i=i.then(()=>(Fa(t,s),Na(t.localStore,s,!0))),Pa(t.remoteStore,s)}),yield i,yield Vx(t,r),function(s){let a=H(s);a.Na.forEach((u,c)=>{Pa(a.remoteStore,c)}),a.La.pr(),a.Na=new Map,a.Oa=new ze(q.comparator)}(t),t.Qa=!1,yield aw(t.remoteStore,!1)}})}function Vx(n,e,t){return P(this,null,function*(){let r=H(n),i=[],o=[];for(let s of e){let a,u=r.Ma.get(s);if(u&&u.length!==0){a=yield Ra(r.localStore,tn(u[0]));for(let c of u){let h=r.Fa.get(c),f=yield _$(r,h);f.snapshot&&o.push(f.snapshot)}}else{let c=yield e1(r.localStore,s);a=yield Ra(r.localStore,c),yield rE(r,f1(c),s,!1,a.resumeToken)}i.push(a)}return r.Ca.d_(o),i})}function f1(n){return fM(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function C$(n){return function(t){return H(H(t).persistence).Qi()}(H(n).localStore)}function D$(n,e,t,r){return P(this,null,function*(){let i=H(n);if(i.Qa)return void V("SyncEngine","Ignoring unexpected query state notification.");let o=i.Ma.get(e);if(o&&o.length>0)switch(t){case"current":case"not-current":{let s=yield t1(i.localStore,gM(o[0])),a=ec.createSynthesizedRemoteEventForCurrentChange(e,t==="current",at.EMPTY_BYTE_STRING);yield Xr(i,s,a);break}case"rejected":yield Na(i.localStore,e,!0),Fa(i,e,r);break;default:Q()}})}function b$(n,e,t){return P(this,null,function*(){let r=$p(n);if(r.Qa){for(let i of e){if(r.Ma.has(i)&&r.sharedClientState.isActiveQueryTarget(i)){V("SyncEngine","Adding an already active target "+i);continue}let o=yield e1(r.localStore,i),s=yield Ra(r.localStore,o);yield rE(r,f1(o),s.targetId,!1,s.resumeToken),Bp(r.remoteStore,s)}for(let i of t)r.Ma.has(i)&&(yield Na(r.localStore,i,!1).then(()=>{Pa(r.remoteStore,i),Fa(r,i)}).catch(Yi))}})}function $p(n){let e=H(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=d1.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=v$.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=h$.bind(null,e),e.Ca.d_=o$.bind(null,e.eventManager),e.Ca.$a=s$.bind(null,e.eventManager),e}function aE(n){let e=H(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=f$.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=p$.bind(null,e),e}function S$(n,e,t){let r=H(n);(function(o,s,a){return P(this,null,function*(){try{let u=yield s.getMetadata();if(yield function(y,S){let D=H(y),T=st(S.createTime);return D.persistence.runTransaction("hasNewerBundle","readonly",L=>D.Gr.getBundleMetadata(L,S.id)).then(L=>!!L&&L.createTime.compareTo(T)>=0)}(o.localStore,u))return yield s.close(),a._completeWith(function(y){return{taskState:"Success",documentsLoaded:y.totalDocuments,bytesLoaded:y.totalBytes,totalDocuments:y.totalDocuments,totalBytes:y.totalBytes}}(u)),Promise.resolve(new Set);a._updateProgress(l1(u));let c=new fw(u,o.localStore,s.serializer),h=yield s.Ua();for(;h;){let m=yield c.la(h);m&&a._updateProgress(m),h=yield s.Ua()}let f=yield c.complete();return yield Xr(o,f.Ia,void 0),yield function(y,S){let D=H(y);return D.persistence.runTransaction("Save bundle","readwrite",T=>D.Gr.saveBundleMetadata(T,S))}(o.localStore,u),a._completeWith(f.progress),Promise.resolve(f.Pa)}catch(u){return Qn("SyncEngine",`Loading bundle failed with ${u}`),a._failWith(u),Promise.resolve(new Set)}})})(r,e,t).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}var vw=(()=>{class n{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(t){return P(this,null,function*(){this.serializer=mc(t.databaseInfo.databaseId),this.sharedClientState=this.Wa(t),this.persistence=this.Ga(t),yield this.persistence.start(),this.localStore=this.za(t),this.gcScheduler=this.ja(t,this.localStore),this.indexBackfillerScheduler=this.Ha(t,this.localStore)})}ja(t,r){return null}Ha(t,r){return null}za(t){return YM(this.persistence,new pp,t.initialUser,this.serializer)}Ga(t){return new hp(fp.Zr,this.serializer)}Wa(t){return new vp}terminate(){return P(this,null,function*(){var t,r;(t=this.gcScheduler)===null||t===void 0||t.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return n.provider={build:()=>new n},n})();var Ap=class n extends vw{constructor(e,t,r){super(),this.Ja=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.kind="persistent",this.synchronizeTabs=!1}initialize(e){return P(this,null,function*(){yield Tg(n.prototype,this,"initialize").call(this,e),yield this.Ja.initialize(this,e),yield aE(this.Ja.syncEngine),yield $a(this.Ja.remoteStore),yield this.persistence.yi(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))})}za(e){return YM(this.persistence,new pp,e.initialUser,this.serializer)}ja(e,t){let r=this.persistence.referenceDelegate.garbageCollector;return new P0(r,e.asyncQueue,t)}Ha(e,t){let r=new Y_(t,this.persistence);return new Q_(e.asyncQueue,r)}Ga(e){let t=Yw(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?xn.withCacheSize(this.cacheSizeBytes):xn.DEFAULT;return new K0(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,r1(),Bf(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Wa(e){return new vp}},_w=class n extends Ap{constructor(e,t){super(e,t,!1),this.Ja=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){return P(this,null,function*(){yield Tg(n.prototype,this,"initialize").call(this,e);let t=this.Ja.syncEngine;this.sharedClientState instanceof ql&&(this.sharedClientState.syncEngine={no:E$.bind(null,t),ro:D$.bind(null,t),io:b$.bind(null,t),Qi:C$.bind(null,t),eo:w$.bind(null,t)},yield this.sharedClientState.start()),yield this.persistence.yi(r=>P(this,null,function*(){yield I$(this.Ja.syncEngine,r),this.gcScheduler&&(r&&!this.gcScheduler.started?this.gcScheduler.start():r||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(r&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():r||this.indexBackfillerScheduler.stop())}))})}Wa(e){let t=r1();if(!ql.D(t))throw new O(N.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");let r=Yw(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new ql(t,e.asyncQueue,r,e.clientId,e.initialUser)}},uE=(()=>{class n{initialize(t,r){return P(this,null,function*(){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>Ox(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=y$.bind(null,this.syncEngine),yield aw(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(t){return function(){return new cw}()}createDatastore(t){let r=mc(t.databaseInfo.databaseId),i=function(s){return new tw(s)}(t.databaseInfo);return function(s,a,u,c){return new iw(s,a,u,c)}(t.authCredentials,t.appCheckCredentials,i,r)}createRemoteStore(t){return function(i,o,s,a,u){return new sw(i,o,s,a,u)}(this.localStore,this.datastore,t.asyncQueue,r=>Ox(this.syncEngine,r,0),function(){return _p.D()?new _p:new X0}())}createSyncEngine(t,r){return function(o,s,a,u,c,h,f){let m=new mw(o,s,a,u,c,h);return f&&(m.Qa=!0),m}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,r)}terminate(){return P(this,null,function*(){var t,r;yield function(o){return P(this,null,function*(){let s=H(o);V("RemoteStore","RemoteStore shutting down."),s.L_.add(5),yield Ba(s),s.k_.shutdown(),s.q_.set("Unknown")})}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()})}}return n.provider={build:()=>new n},n})();function Lx(n,e=10240){let t=0;return{read(){return P(this,null,function*(){if(t<n.byteLength){let i={value:n.slice(t,t+e),done:!1};return t+=e,i}return{done:!0}})},cancel(){return P(this,null,function*(){})},releaseLock(){},closed:Promise.resolve()}}var Oa=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):it("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,t){setTimeout(()=>{this.muted||e(t)},0)}};var ww=class{constructor(e,t){this.Xa=e,this.serializer=t,this.metadata=new wt,this.buffer=new Uint8Array,this.eu=function(){return new TextDecoder("utf-8")}(),this.tu().then(r=>{r&&r.ua()?this.metadata.resolve(r.aa.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is
             ${JSON.stringify(r?.aa)}`))},r=>this.metadata.reject(r))}close(){return this.Xa.cancel()}getMetadata(){return P(this,null,function*(){return this.metadata.promise})}Ua(){return P(this,null,function*(){return yield this.getMetadata(),this.tu()})}tu(){return P(this,null,function*(){let e=yield this.nu();if(e===null)return null;let t=this.eu.decode(e),r=Number(t);isNaN(r)&&this.ru(`length string (${t}) is not valid number`);let i=yield this.iu(r);return new hw(JSON.parse(i),e.length+r)})}su(){return this.buffer.findIndex(e=>e===123)}nu(){return P(this,null,function*(){for(;this.su()<0&&!(yield this.ou()););if(this.buffer.length===0)return null;let e=this.su();e<0&&this.ru("Reached the end of bundle when a length string is expected.");let t=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),t})}iu(e){return P(this,null,function*(){for(;this.buffer.length<e;)(yield this.ou())&&this.ru("Reached the end of bundle when more is expected.");let t=this.eu.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),t})}ru(e){throw this.Xa.cancel(),new Error(`Invalid bundle format: ${e}`)}ou(){return P(this,null,function*(){let e=yield this.Xa.read();if(!e.done){let t=new Uint8Array(this.buffer.length+e.value.length);t.set(this.buffer),t.set(e.value,this.buffer.length),this.buffer=t}return e.done})}};var Ew=class{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}lookup(e){return P(this,null,function*(){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new O(N.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;let t=yield function(i,o){return P(this,null,function*(){let s=H(i),a={documents:o.map(f=>nc(s.serializer,f))},u=yield s.Lo("BatchGetDocuments",s.serializer.databaseId,Se.emptyPath(),a,o.length),c=new Map;u.forEach(f=>{let m=R4(s.serializer,f);c.set(m.key.toString(),m)});let h=[];return o.forEach(f=>{let m=c.get(f.toString());X(!!m),h.push(m)}),h})}(this.datastore,e);return t.forEach(r=>this.recordVersion(r)),t})}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastTransactionError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new Ki(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){return P(this,null,function*(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;let e=this.readVersions;this.mutations.forEach(t=>{e.delete(t.key.toString())}),e.forEach((t,r)=>{let i=q.fromPath(r);this.mutations.push(new Zl(i,this.precondition(i)))}),yield function(r,i){return P(this,null,function*(){let o=H(r),s={writes:i.map(a=>rc(o.serializer,a))};yield o.Mo("Commit",o.serializer.databaseId,Se.emptyPath(),s)})}(this.datastore,this.mutations),this.committed=!0})}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Q();t=ie.min()}let r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new O(N.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){let t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(ie.min())?Xe.exists(!1):Xe.updateTime(t):Xe.none()}preconditionForUpdate(e){let t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(ie.min()))throw new O(N.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Xe.updateTime(t)}return Xe.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}};var Iw=class{constructor(e,t,r,i,o){this.asyncQueue=e,this.datastore=t,this.options=r,this.updateFunction=i,this.deferred=o,this._u=r.maxAttempts,this.t_=new ac(this.asyncQueue,"transaction_retry")}au(){this._u-=1,this.uu()}uu(){this.t_.Go(()=>P(this,null,function*(){let e=new Ew(this.datastore),t=this.cu(e);t&&t.then(r=>{this.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{this.deferred.resolve(r)}).catch(i=>{this.lu(i)}))}).catch(r=>{this.lu(r)})}))}cu(e){try{let t=this.updateFunction(e);return!hc(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}lu(e){this._u>0&&this.hu(e)?(this._u-=1,this.asyncQueue.enqueueAndForget(()=>(this.uu(),Promise.resolve()))):this.deferred.reject(e)}hu(e){if(e.name==="FirebaseError"){let t=e.code;return t==="aborted"||t==="failed-precondition"||t==="already-exists"||!AM(t)}return!1}};var Cw=class{constructor(e,t,r,i,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=pt.UNAUTHENTICATED,this.clientId=Hf.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,s=>P(this,null,function*(){V("FirestoreClient","Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(V("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new wt;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>P(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){let r=qa(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function L_(n,e){return P(this,null,function*(){n.asyncQueue.verifyOperationInProgress(),V("FirestoreClient","Initializing OfflineComponentProvider");let t=n.configuration;yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(i=>P(this,null,function*(){r.isEqual(i)||(yield ZM(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e})}function jx(n,e){return P(this,null,function*(){n.asyncQueue.verifyOperationInProgress();let t=yield lE(n);V("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>Px(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>Px(e.remoteStore,i)),n._onlineComponents=e})}function lE(n){return P(this,null,function*(){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){V("FirestoreClient","Using user provided OfflineComponentProvider");try{yield L_(n,n._uninitializedComponentsProvider._offline)}catch(e){let t=e;if(!function(i){return i.name==="FirebaseError"?i.code===N.FAILED_PRECONDITION||i.code===N.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(t))throw t;Qn("Error using user provided cache. Falling back to memory cache: "+t),yield L_(n,new vw)}}else V("FirestoreClient","Using default OfflineComponentProvider"),yield L_(n,new vw);return n._offlineComponents})}function Hp(n){return P(this,null,function*(){return n._onlineComponents||(n._uninitializedComponentsProvider?(V("FirestoreClient","Using user provided OnlineComponentProvider"),yield jx(n,n._uninitializedComponentsProvider._online)):(V("FirestoreClient","Using default OnlineComponentProvider"),yield jx(n,new uE))),n._onlineComponents})}function p1(n){return lE(n).then(e=>e.persistence)}function cE(n){return lE(n).then(e=>e.localStore)}function g1(n){return Hp(n).then(e=>e.remoteStore)}function dE(n){return Hp(n).then(e=>e.syncEngine)}function T$(n){return Hp(n).then(e=>e.datastore)}function Va(n){return P(this,null,function*(){let e=yield Hp(n),t=e.eventManager;return t.onListen=a$.bind(null,e.syncEngine),t.onUnlisten=l$.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=u$.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=c$.bind(null,e.syncEngine),t})}function A$(n){return n.asyncQueue.enqueue(()=>P(this,null,function*(){let e=yield p1(n),t=yield g1(n);return e.setNetworkEnabled(!0),function(i){let o=H(i);return o.L_.delete(0),yc(o)}(t)}))}function x$(n){return n.asyncQueue.enqueue(()=>P(this,null,function*(){let e=yield p1(n),t=yield g1(n);return e.setNetworkEnabled(!1),function(i){return P(this,null,function*(){let o=H(i);o.L_.add(0),yield Ba(o),o.q_.set("Offline")})}(t)}))}function M$(n,e){let t=new wt;return n.asyncQueue.enqueueAndForget(()=>P(this,null,function*(){return function(i,o,s){return P(this,null,function*(){try{let a=yield function(c,h){let f=H(c);return f.persistence.runTransaction("read document","readonly",m=>f.localDocuments.getDocument(m,h))}(i,o);a.isFoundDocument()?s.resolve(a):a.isNoDocument()?s.resolve(null):s.reject(new O(N.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(a){let u=qa(a,`Failed to get document '${o} from cache`);s.reject(u)}})}(yield cE(n),e,t)})),t.promise}function m1(n,e,t={}){let r=new wt;return n.asyncQueue.enqueueAndForget(()=>P(this,null,function*(){return function(o,s,a,u,c){let h=new Oa({next:m=>{h.Za(),s.enqueueAndForget(()=>tE(o,f));let y=m.docs.has(a);!y&&m.fromCache?c.reject(new O(N.UNAVAILABLE,"Failed to get document because the client is offline.")):y&&m.fromCache&&u&&u.source==="server"?c.reject(new O(N.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(m)},error:m=>c.reject(m)}),f=new uc(Ua(a.path),h,{includeMetadataChanges:!0,_a:!0});return eE(o,f)}(yield Va(n),n.asyncQueue,e,t,r)})),r.promise}function R$(n,e){let t=new wt;return n.asyncQueue.enqueueAndForget(()=>P(this,null,function*(){return function(i,o,s){return P(this,null,function*(){try{let a=yield gp(i,o,!0),u=new Tp(o,a.Ts),c=u.ma(a.documents),h=u.applyChanges(c,!1);s.resolve(h.snapshot)}catch(a){let u=qa(a,`Failed to execute query '${o} against cache`);s.reject(u)}})}(yield cE(n),e,t)})),t.promise}function y1(n,e,t={}){let r=new wt;return n.asyncQueue.enqueueAndForget(()=>P(this,null,function*(){return function(o,s,a,u,c){let h=new Oa({next:m=>{h.Za(),s.enqueueAndForget(()=>tE(o,f)),m.fromCache&&u.source==="server"?c.reject(new O(N.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(m)},error:m=>c.reject(m)}),f=new uc(a,h,{includeMetadataChanges:!0,_a:!0});return eE(o,f)}(yield Va(n),n.asyncQueue,e,t,r)})),r.promise}function N$(n,e){let t=new Oa(e);return n.asyncQueue.enqueueAndForget(()=>P(this,null,function*(){return function(i,o){H(i).Y_.add(o),o.next()}(yield Va(n),t)})),()=>{t.Za(),n.asyncQueue.enqueueAndForget(()=>P(this,null,function*(){return function(i,o){H(i).Y_.delete(o)}(yield Va(n),t)}))}}function P$(n,e,t,r){let i=function(s,a){let u;return u=typeof s=="string"?MM().encode(s):s,function(h,f){return new ww(h,f)}(function(h,f){if(h instanceof Uint8Array)return Lx(h,f);if(h instanceof ArrayBuffer)return Lx(new Uint8Array(h),f);if(h instanceof ReadableStream)return h.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(u),a)}(t,mc(e));n.asyncQueue.enqueueAndForget(()=>P(this,null,function*(){S$(yield dE(n),i,r)}))}function k$(n,e){return n.asyncQueue.enqueue(()=>P(this,null,function*(){return function(r,i){let o=H(r);return o.persistence.runTransaction("Get named query","readonly",s=>o.Gr.getNamedQuery(s,i))}(yield cE(n),e)}))}function v1(n){let e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}var Ux=new Map;function hE(n,e,t){if(!t)throw new O(N.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function fE(n,e,t,r){if(e===!0&&r===!0)throw new O(N.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function Bx(n){if(!q.isDocumentKey(n))throw new O(N.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function $x(n){if(q.isDocumentKey(n))throw new O(N.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function qp(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Q()}function Ae(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new O(N.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let t=qp(n);throw new O(N.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function _1(n,e){if(e<=0)throw new O(N.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}var xp=class{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new O(N.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new O(N.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}fE("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=v1((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new O(N.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new O(N.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new O(N.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},Xo=class{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new xp({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new O(N.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new O(N.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new xp(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new j_;switch(r.type){case"firstParty":return new H_(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new O(N.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return P(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){let r=Ux.get(t);r&&(V("ComponentProvider","Removing Datastore"),Ux.delete(t),r.terminate())}(this),Promise.resolve()}};function w1(n,e,t,r={}){var i;let o=(n=Ae(n,Xo))._getSettings(),s=`${e}:${t}`;if(o.host!=="firestore.googleapis.com"&&o.host!==s&&Qn("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let a,u;if(typeof r.mockUserToken=="string")a=r.mockUserToken,u=pt.MOCK_USER;else{a=$I(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);let c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new O(N.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new pt(c)}n._authCredentials=new U_(new $f(a,u))}}var Mt=class n{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new n(this.firestore,e,this._query)}},Ue=class n{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new _r(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new n(this.firestore,e,this._key)}},_r=class n extends Mt{constructor(e,t,r){super(e,t,Ua(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new Ue(this.firestore,null,new q(e))}withConverter(e){return new n(this.firestore,e,this._path)}};function pE(n,e,...t){if(n=Ke(n),hE("collection","path",e),n instanceof Xo){let r=Se.fromString(e,...t);return $x(r),new _r(n,null,r)}{if(!(n instanceof Ue||n instanceof _r))throw new O(N.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(Se.fromString(e,...t));return $x(r),new _r(n.firestore,null,r)}}function E1(n,e){if(n=Ae(n,Xo),hE("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new O(N.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Mt(n,null,function(r){return new Yn(Se.emptyPath(),r)}(e))}function vc(n,e,...t){if(n=Ke(n),arguments.length===1&&(e=Hf.newId()),hE("doc","path",e),n instanceof Xo){let r=Se.fromString(e,...t);return Bx(r),new Ue(n,null,new q(r))}{if(!(n instanceof Ue||n instanceof _r))throw new O(N.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(Se.fromString(e,...t));return Bx(r),new Ue(n.firestore,n instanceof _r?n.converter:null,new q(r))}}function gE(n,e){return n=Ke(n),e=Ke(e),(n instanceof Ue||n instanceof _r)&&(e instanceof Ue||e instanceof _r)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function mE(n,e){return n=Ke(n),e=Ke(e),n instanceof Mt&&e instanceof Mt&&n.firestore===e.firestore&&pc(n._query,e._query)&&n.converter===e.converter}var Mp=class{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new ac(this,"async_queue_retry"),this.Vu=()=>{let r=Bf();r&&V("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;let t=Bf();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;let t=Bf();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});let t=new wt;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}pu(){return P(this,null,function*(){if(this.Pu.length!==0){try{yield this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Zi(e))throw e;V("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}})}gu(e){let t=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;let i=function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(r);throw it("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=t,t}enqueueAfterDelay(e,t,r){this.fu(),this.Ru.indexOf(e)>-1&&(t=0);let i=uw.createAndSchedule(this,e,t,r,o=>this.yu(o));return this.Tu.push(i),i}fu(){this.Eu&&Q()}verifyOperationInProgress(){}wu(){return P(this,null,function*(){let e;do e=this.mu,yield e;while(e!==this.mu)})}Su(e){for(let t of this.Tu)if(t.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(let t of this.Tu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){let t=this.Tu.indexOf(e);this.Tu.splice(t,1)}};function Dw(n){return function(t,r){if(typeof t!="object"||t===null)return!1;let i=t;for(let o of r)if(o in i&&typeof i[o]=="function")return!0;return!1}(n,["next","error","complete"])}var bw=class{constructor(){this._progressObserver={},this._taskCompletionResolver=new wt,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}};var I1=-1,Ze=class extends Xo{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new Mp,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return P(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new Mp(e),this._firestoreClient=void 0,yield e}})}};function Rt(n){if(n._terminated)throw new O(N.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||C1(n),n._firestoreClient}function C1(n){var e,t,r;let i=n._freezeSettings(),o=function(a,u,c,h){return new Z_(a,u,c,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,v1(h.experimentalLongPollingOptions),h.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new Cw(n._authCredentials,n._appCheckCredentials,n._queue,o,n._componentsProvider&&function(a){let u=a?._online.build();return{_offline:a?._offline.build(u),_online:u}}(n._componentsProvider))}function D1(n,e){Qn("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");let t=n._freezeSettings();return S1(n,uE.provider,{build:r=>new Ap(r,t.cacheSizeBytes,e?.forceOwnership)}),Promise.resolve()}function b1(n){return P(this,null,function*(){Qn("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");let e=n._freezeSettings();S1(n,uE.provider,{build:t=>new _w(t,e.cacheSizeBytes)})})}function S1(n,e,t){if((n=Ae(n,Ze))._firestoreClient||n._terminated)throw new O(N.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(n._componentsProvider||n._getSettings().localCache)throw new O(N.FAILED_PRECONDITION,"SDK cache is already specified.");n._componentsProvider={_online:e,_offline:t},C1(n)}function T1(n){if(n._initialized&&!n._terminated)throw new O(N.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");let e=new wt;return n._queue.enqueueAndForgetEvenWhileRestricted(()=>P(this,null,function*(){try{yield function(r){return P(this,null,function*(){if(!Bi.D())return Promise.resolve();let i=r+"main";yield Bi.delete(i)})}(Yw(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}})),e.promise}function A1(n){return function(t){let r=new wt;return t.asyncQueue.enqueueAndForget(()=>P(this,null,function*(){return g$(yield dE(t),r)})),r.promise}(Rt(n=Ae(n,Ze)))}function x1(n){return A$(Rt(n=Ae(n,Ze)))}function M1(n){return x$(Rt(n=Ae(n,Ze)))}function R1(n,e){let t=Rt(n=Ae(n,Ze)),r=new bw;return P$(t,n._databaseId,e,r),r}function N1(n,e){return k$(Rt(n=Ae(n,Ze)),e).then(t=>t?new Mt(n,null,t.query):null)}var Cr=class n{constructor(e){this._byteString=e}static fromBase64String(e){try{return new n(at.fromBase64String(e))}catch(t){throw new O(N.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new n(at.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var Jn=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new O(N.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ot(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var Zr=class{constructor(e){this._methodName=e}};var es=class{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new O(N.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new O(N.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ue(this._lat,e._lat)||ue(this._long,e._long)}};var lc=class{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}};var F$=/^__.*__$/,Sw=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new Zn(e,this.data,this.fieldMask,t,this.fieldTransforms):new Wi(e,this.data,t,this.fieldTransforms)}},Rp=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Zn(e,this.data,this.fieldMask,t,this.fieldTransforms)}};function P1(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Q()}}var Np=class n{constructor(e,t,r,i,o,s){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.vu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new n(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Pp(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(P1(this.Cu)&&F$.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}},Tw=class{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||mc(e)}Qu(e,t,r,i=!1){return new Np({Cu:e,methodName:t,qu:r,path:ot.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function is(n){let e=n._freezeSettings(),t=mc(n._databaseId);return new Tw(n._databaseId,!!e.ignoreUndefinedProperties,t)}function zp(n,e,t,r,i,o={}){let s=n.Qu(o.merge||o.mergeFields?2:0,e,t,i);_E("Data must be an object, but it was:",s,r);let a=O1(r,s),u,c;if(o.merge)u=new wn(s.fieldMask),c=s.fieldTransforms;else if(o.mergeFields){let h=[];for(let f of o.mergeFields){let m=Nw(e,f,t);if(!s.contains(m))throw new O(N.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);L1(h,m)||h.push(m)}u=new wn(h),c=s.fieldTransforms.filter(f=>u.covers(f.field))}else u=null,c=s.fieldTransforms;return new Sw(new $t(a),u,c)}var cc=class n extends Zr{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof n}};function k1(n,e,t){return new Np({Cu:3,qu:e.settings.qu,methodName:n._methodName,xu:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}var Aw=class n extends Zr{_toFieldTransform(e){return new Yo(e.path,new zi)}isEqual(e){return e instanceof n}},xw=class n extends Zr{constructor(e,t){super(e),this.Ku=t}_toFieldTransform(e){let t=k1(this,e,!0),r=this.Ku.map(o=>os(o,t)),i=new Qr(r);return new Yo(e.path,i)}isEqual(e){return e instanceof n&&Mg(this.Ku,e.Ku)}},Mw=class n extends Zr{constructor(e,t){super(e),this.Ku=t}_toFieldTransform(e){let t=k1(this,e,!0),r=this.Ku.map(o=>os(o,t)),i=new Yr(r);return new Yo(e.path,i)}isEqual(e){return e instanceof n&&Mg(this.Ku,e.Ku)}},Rw=class n extends Zr{constructor(e,t){super(e),this.$u=t}_toFieldTransform(e){let t=new Gi(e.serializer,EM(e.serializer,this.$u));return new Yo(e.path,t)}isEqual(e){return e instanceof n&&this.$u===e.$u}};function yE(n,e,t,r){let i=n.Qu(1,e,t);_E("Data must be an object, but it was:",i,r);let o=[],s=$t.empty();rs(r,(u,c)=>{let h=wE(e,u,t);c=Ke(c);let f=i.Nu(h);if(c instanceof cc)o.push(h);else{let m=os(c,f);m!=null&&(o.push(h),s.set(h,m))}});let a=new wn(o);return new Rp(s,a,i.fieldTransforms)}function vE(n,e,t,r,i,o){let s=n.Qu(1,e,t),a=[Nw(e,r,t)],u=[i];if(o.length%2!=0)throw new O(N.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let m=0;m<o.length;m+=2)a.push(Nw(e,o[m])),u.push(o[m+1]);let c=[],h=$t.empty();for(let m=a.length-1;m>=0;--m)if(!L1(c,a[m])){let y=a[m],S=u[m];S=Ke(S);let D=s.Nu(y);if(S instanceof cc)c.push(y);else{let T=os(S,D);T!=null&&(c.push(y),h.set(y,T))}}let f=new wn(c);return new Rp(h,f,s.fieldTransforms)}function F1(n,e,t,r=!1){return os(t,n.Qu(r?4:3,e))}function os(n,e){if(V1(n=Ke(n)))return _E("Unsupported field value:",e,n),O1(n,e);if(n instanceof Zr)return function(r,i){if(!P1(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);let o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){let o=[],s=0;for(let a of r){let u=os(a,i.Lu(s));u==null&&(u={nullValue:"NULL_VALUE"}),o.push(u),s++}return{arrayValue:{values:o}}}(n,e)}return function(r,i){if((r=Ke(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return EM(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let o=qe.fromDate(r);return{timestampValue:Aa(i.serializer,o)}}if(r instanceof qe){let o=new qe(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Aa(i.serializer,o)}}if(r instanceof es)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Cr)return{bytesValue:RM(i.serializer,r._byteString)};if(r instanceof Ue){let o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Bu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Ww(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof lc)return function(s,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:s.toArray().map(u=>{if(typeof u!="number")throw a.Bu("VectorValues must only contain numeric values.");return Gw(a.serializer,u)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${qp(r)}`)}(n,e)}function O1(n,e){let t={};return rM(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):rs(n,(r,i)=>{let o=os(i,e.Mu(r));o!=null&&(t[r]=o)}),{mapValue:{fields:t}}}function V1(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof qe||n instanceof es||n instanceof Cr||n instanceof Ue||n instanceof Zr||n instanceof lc)}function _E(n,e,t){if(!V1(t)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(t)){let r=qp(t);throw r==="an object"?e.Bu(n+" a custom object"):e.Bu(n+" "+r)}}function Nw(n,e,t){if((e=Ke(e))instanceof Jn)return e._internalPath;if(typeof e=="string")return wE(n,e);throw Pp("Field path arguments must be of type string or ",n,!1,void 0,t)}var O$=new RegExp("[~\\*/\\[\\]]");function wE(n,e,t){if(e.search(O$)>=0)throw Pp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Jn(...e.split("."))._internalPath}catch{throw Pp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Pp(n,e,t,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(o||s)&&(u+=" (found",o&&(u+=` in field ${r}`),s&&(u+=` in document ${i}`),u+=")"),new O(N.INVALID_ARGUMENT,a+n+u)}function L1(n,e){return n.some(t=>t.isEqual(e))}var ts=class{constructor(e,t,r,i,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Ue(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new Pw(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let t=this._document.data.field(Gp("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}},Pw=class extends ts{data(){return super.data()}};function Gp(n,e){return typeof e=="string"?wE(n,e):e instanceof Jn?e._internalPath:e._delegate._internalPath}function j1(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new O(N.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var dc=class{},ns=class extends dc{};function ei(n,e,...t){let r=[];e instanceof dc&&r.push(e),r=r.concat(t),function(o){let s=o.filter(u=>u instanceof kw).length,a=o.filter(u=>u instanceof kp).length;if(s>1||s>0&&a>0)throw new O(N.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(let i of r)n=i._apply(n);return n}var kp=class n extends ns{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new n(e,t,r)}_apply(e){let t=this._parse(e);return Q1(e._query,t),new Mt(e.firestore,e.converter,c0(e._query,t))}_parse(e){let t=is(e.firestore);return function(o,s,a,u,c,h,f){let m;if(c.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new O(N.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){qx(f,h);let y=[];for(let S of f)y.push(Hx(u,o,S));m={arrayValue:{values:y}}}else m=Hx(u,o,f)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||qx(f,h),m=F1(a,s,f,h==="in"||h==="not-in");return we.create(c,h,m)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}};function U1(n,e,t){let r=e,i=Gp("where",n);return kp._create(i,r,t)}var kw=class n extends dc{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new n(e,t)}_parse(e){let t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:ke.create(t,this._getOperator())}_apply(e){let t=this._parse(e);return t.getFilters().length===0?e:(function(i,o){let s=i,a=o.getFlattenedFilters();for(let u of a)Q1(s,u),s=c0(s,u)}(e._query,t),new Mt(e.firestore,e.converter,c0(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};var Fw=class n extends ns{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new n(e,t)}_apply(e){let t=function(i,o,s){if(i.startAt!==null)throw new O(N.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new O(N.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Ko(o,s)}(e._query,this._field,this._direction);return new Mt(e.firestore,e.converter,function(i,o){let s=i.explicitOrderBy.concat([o]);return new Yn(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,t))}};function B1(n,e="asc"){let t=e,r=Gp("orderBy",n);return Fw._create(r,t)}var Fp=class n extends ns{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new n(e,t,r)}_apply(e){return new Mt(e.firestore,e.converter,Xf(e._query,this._limit,this._limitType))}};function $1(n){return _1("limit",n),Fp._create("limit",n,"F")}function H1(n){return _1("limitToLast",n),Fp._create("limitToLast",n,"L")}var Op=class n extends ns{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new n(e,t,r)}_apply(e){let t=K1(e,this.type,this._docOrFields,this._inclusive);return new Mt(e.firestore,e.converter,function(i,o){return new Yn(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,o,i.endAt)}(e._query,t))}};function q1(...n){return Op._create("startAt",n,!0)}function z1(...n){return Op._create("startAfter",n,!1)}var Vp=class n extends ns{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new n(e,t,r)}_apply(e){let t=K1(e,this.type,this._docOrFields,this._inclusive);return new Mt(e.firestore,e.converter,function(i,o){return new Yn(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,o)}(e._query,t))}};function G1(...n){return Vp._create("endBefore",n,!1)}function W1(...n){return Vp._create("endAt",n,!0)}function K1(n,e,t,r){if(t[0]=Ke(t[0]),t[0]instanceof ts)return function(o,s,a,u,c){if(!u)throw new O(N.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${a}().`);let h=[];for(let f of wa(o))if(f.field.isKeyField())h.push(Wo(s,u.key));else{let m=u.data.field(f.field);if(jp(m))throw new O(N.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+f.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(m===null){let y=f.field.canonicalString();throw new O(N.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${y}' (used as the orderBy) does not exist.`)}h.push(m)}return new Er(h,c)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{let i=is(n.firestore);return function(s,a,u,c,h,f){let m=s.explicitOrderBy;if(h.length>m.length)throw new O(N.INVALID_ARGUMENT,`Too many arguments provided to ${c}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);let y=[];for(let S=0;S<h.length;S++){let D=h[S];if(m[S].field.isKeyField()){if(typeof D!="string")throw new O(N.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${c}(), but got a ${typeof D}`);if(!qw(s)&&D.indexOf("/")!==-1)throw new O(N.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${c}() must be a plain document ID, but '${D}' contains a slash.`);let T=s.path.child(Se.fromString(D));if(!q.isDocumentKey(T))throw new O(N.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${c}() must result in a valid document path, but '${T}' is not because it contains an odd number of segments.`);let L=new q(T);y.push(Wo(a,L))}else{let T=F1(u,c,D);y.push(T)}}return new Er(y,f)}(n._query,n.firestore._databaseId,i,e,t,r)}}function Hx(n,e,t){if(typeof(t=Ke(t))=="string"){if(t==="")throw new O(N.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!qw(e)&&t.indexOf("/")!==-1)throw new O(N.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);let r=e.path.child(Se.fromString(t));if(!q.isDocumentKey(r))throw new O(N.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Wo(n,new q(r))}if(t instanceof Ue)return Wo(n,t._key);throw new O(N.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${qp(t)}.`)}function qx(n,e){if(!Array.isArray(n)||n.length===0)throw new O(N.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Q1(n,e){let t=function(i,o){for(let s of i)for(let a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new O(N.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new O(N.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}var La=class{convertValue(e,t="none"){switch(Go(e)){case 0:return null;case 1:return e.booleanValue;case 2:return We(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes($i(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Q()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){let r={};return rs(e,(i,o)=>{r[i]=this.convertValue(o,t)}),r}convertVectorValue(e){var t,r,i;let o=(i=(r=(t=e.fields)===null||t===void 0?void 0:t.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>We(s.doubleValue));return new lc(o)}convertGeoPoint(e){return new es(We(e.latitude),We(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":let r=$w(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Kl(e));default:return null}}convertTimestamp(e){let t=Kr(e);return new qe(t.seconds,t.nanos)}convertDocumentKey(e,t){let r=Se.fromString(e);X($M(r));let i=new Hi(r.get(1),r.get(3)),o=new q(r.popFirst(5));return i.isEqual(t)||it(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}};function Wp(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}var Ow=class extends La{constructor(e){super(),this.firestore=e}convertBytes(e){return new Cr(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new Ue(this.firestore,null,t)}};var Wr=class{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},Rn=class extends ts{constructor(e,t,r,i,o,s){super(e,t,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let t=new ji(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){let r=this._document.data.field(Gp("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}},ji=class extends Rn{data(e={}){return super.data(e)}},Xn=class{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Wr(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new ji(this._firestore,this._userDataWriter,r.key,r,new Wr(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new O(N.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{let u=new ji(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Wr(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{let u=new ji(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Wr(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),c=-1,h=-1;return a.type!==0&&(c=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),h=s.indexOf(a.doc.key)),{type:V$(a.type),doc:u,oldIndex:c,newIndex:h}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}};function V$(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Q()}}function EE(n,e){return n instanceof Rn&&e instanceof Rn?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(n._document===null?e._document===null:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof Xn&&e instanceof Xn&&n._firestore===e._firestore&&mE(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}function Y1(n){n=Ae(n,Ue);let e=Ae(n.firestore,Ze);return m1(Rt(e),n._key).then(t=>bE(e,n,t))}var Jr=class extends La{constructor(e){super(),this.firestore=e}convertBytes(e){return new Cr(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new Ue(this.firestore,null,t)}};function Z1(n){n=Ae(n,Ue);let e=Ae(n.firestore,Ze),t=Rt(e),r=new Jr(e);return M$(t,n._key).then(i=>new Rn(e,r,n._key,i,new Wr(i!==null&&i.hasLocalMutations,!0),n.converter))}function J1(n){n=Ae(n,Ue);let e=Ae(n.firestore,Ze);return m1(Rt(e),n._key,{source:"server"}).then(t=>bE(e,n,t))}function X1(n){n=Ae(n,Mt);let e=Ae(n.firestore,Ze),t=Rt(e),r=new Jr(e);return j1(n._query),y1(t,n._query).then(i=>new Xn(e,r,n,i))}function eR(n){n=Ae(n,Mt);let e=Ae(n.firestore,Ze),t=Rt(e),r=new Jr(e);return R$(t,n._query).then(i=>new Xn(e,r,n,i))}function tR(n){n=Ae(n,Mt);let e=Ae(n.firestore,Ze),t=Rt(e),r=new Jr(e);return y1(t,n._query,{source:"server"}).then(i=>new Xn(e,r,n,i))}function IE(n,e,t){n=Ae(n,Ue);let r=Ae(n.firestore,Ze),i=Wp(n.converter,e,t);return za(r,[zp(is(r),"setDoc",n._key,i,n.converter!==null,t).toMutation(n._key,Xe.none())])}function CE(n,e,t,...r){n=Ae(n,Ue);let i=Ae(n.firestore,Ze),o=is(i),s;return s=typeof(e=Ke(e))=="string"||e instanceof Jn?vE(o,"updateDoc",n._key,e,t,r):yE(o,"updateDoc",n._key,e),za(i,[s.toMutation(n._key,Xe.exists(!0))])}function nR(n){return za(Ae(n.firestore,Ze),[new Ki(n._key,Xe.none())])}function rR(n,e){let t=Ae(n.firestore,Ze),r=vc(n),i=Wp(n.converter,e);return za(t,[zp(is(n.firestore),"addDoc",r._key,i,n.converter!==null,{}).toMutation(r._key,Xe.exists(!1))]).then(()=>r)}function DE(n,...e){var t,r,i;n=Ke(n);let o={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||Dw(e[s])||(o=e[s],s++);let a={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(Dw(e[s])){let f=e[s];e[s]=(t=f.next)===null||t===void 0?void 0:t.bind(f),e[s+1]=(r=f.error)===null||r===void 0?void 0:r.bind(f),e[s+2]=(i=f.complete)===null||i===void 0?void 0:i.bind(f)}let u,c,h;if(n instanceof Ue)c=Ae(n.firestore,Ze),h=Ua(n._key.path),u={next:f=>{e[s]&&e[s](bE(c,n,f))},error:e[s+1],complete:e[s+2]};else{let f=Ae(n,Mt);c=Ae(f.firestore,Ze),h=f._query;let m=new Jr(c);u={next:y=>{e[s]&&e[s](new Xn(c,m,f,y))},error:e[s+1],complete:e[s+2]},j1(n._query)}return function(m,y,S,D){let T=new Oa(D),L=new uc(y,T,S);return m.asyncQueue.enqueueAndForget(()=>P(this,null,function*(){return eE(yield Va(m),L)})),()=>{T.Za(),m.asyncQueue.enqueueAndForget(()=>P(this,null,function*(){return tE(yield Va(m),L)}))}}(Rt(c),h,a,u)}function iR(n,e){return N$(Rt(n=Ae(n,Ze)),Dw(e)?e:{next:e})}function za(n,e){return function(r,i){let o=new wt;return r.asyncQueue.enqueueAndForget(()=>P(this,null,function*(){return d$(yield dE(r),i,o)})),o.promise}(Rt(n),e)}function bE(n,e,t){let r=t.docs.get(e._key),i=new Jr(n);return new Rn(n,i,e._key,r,new Wr(t.hasPendingWrites,t.fromCache),e.converter)}var L$={maxAttempts:5};var Lp=class{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=is(e)}set(e,t,r){this._verifyNotCommitted();let i=Vi(e,this._firestore),o=Wp(i.converter,t,r),s=zp(this._dataReader,"WriteBatch.set",i._key,o,i.converter!==null,r);return this._mutations.push(s.toMutation(i._key,Xe.none())),this}update(e,t,r,...i){this._verifyNotCommitted();let o=Vi(e,this._firestore),s;return s=typeof(t=Ke(t))=="string"||t instanceof Jn?vE(this._dataReader,"WriteBatch.update",o._key,t,r,i):yE(this._dataReader,"WriteBatch.update",o._key,t),this._mutations.push(s.toMutation(o._key,Xe.exists(!0))),this}delete(e){this._verifyNotCommitted();let t=Vi(e,this._firestore);return this._mutations=this._mutations.concat(new Ki(t._key,Xe.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new O(N.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}};function Vi(n,e){if((n=Ke(n)).firestore!==e)throw new O(N.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}var Vw=class extends class{constructor(t,r){this._firestore=t,this._transaction=r,this._dataReader=is(t)}get(t){let r=Vi(t,this._firestore),i=new Ow(this._firestore);return this._transaction.lookup([r._key]).then(o=>{if(!o||o.length!==1)return Q();let s=o[0];if(s.isFoundDocument())return new ts(this._firestore,i,s.key,s,r.converter);if(s.isNoDocument())return new ts(this._firestore,i,r._key,null,r.converter);throw Q()})}set(t,r,i){let o=Vi(t,this._firestore),s=Wp(o.converter,r,i),a=zp(this._dataReader,"Transaction.set",o._key,s,o.converter!==null,i);return this._transaction.set(o._key,a),this}update(t,r,i,...o){let s=Vi(t,this._firestore),a;return a=typeof(r=Ke(r))=="string"||r instanceof Jn?vE(this._dataReader,"Transaction.update",s._key,r,i,o):yE(this._dataReader,"Transaction.update",s._key,r),this._transaction.update(s._key,a),this}delete(t){let r=Vi(t,this._firestore);return this._transaction.delete(r._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){let t=Vi(e,this._firestore),r=new Jr(this._firestore);return super.get(e).then(i=>new Rn(this._firestore,r,t._key,i._document,new Wr(!1,!1),t.converter))}};function oR(n,e,t){n=Ae(n,Ze);let r=Object.assign(Object.assign({},L$),t);return function(o){if(o.maxAttempts<1)throw new O(N.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(o,s,a){let u=new wt;return o.asyncQueue.enqueueAndForget(()=>P(this,null,function*(){let c=yield T$(o);new Iw(o.asyncQueue,c,a,s,u).au()})),u.promise}(Rt(n),i=>e(new Vw(n,i)),r)}function sR(){return new cc("deleteField")}function aR(){return new Aw("serverTimestamp")}function uR(...n){return new xw("arrayUnion",n)}function lR(...n){return new Mw("arrayRemove",n)}function cR(n){return new Rw("increment",n)}(function(e,t=!0){(function(i){ja=i})(zI),mu(new io("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),a=new Ze(new B_(r.getProvider("auth-internal")),new z_(r.getProvider("app-check-internal")),function(c,h){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new O(N.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Hi(c.options.projectId,h)}(s,i),s);return o=Object.assign({useFetchStreams:t},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),oi($A,"4.7.3",e),oi($A,"4.7.3","esm2017")})();var j$="@firebase/firestore-compat",U$="0.3.38";function RE(n,e){if(e===void 0)return{merge:!1};if(e.mergeFields!==void 0&&e.merge!==void 0)throw new O("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function dR(){if(typeof Uint8Array>"u")throw new O("unimplemented","Uint8Arrays are not available in this environment.")}function hR(){if(!iM())throw new O("unimplemented","Blobs are unavailable in Firestore in this environment.")}var Kp=class n{constructor(e){this._delegate=e}static fromBase64String(e){return hR(),new n(Cr.fromBase64String(e))}static fromUint8Array(e){return dR(),new n(Cr.fromUint8Array(e))}toBase64(){return hR(),this._delegate.toBase64()}toUint8Array(){return dR(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}};function SE(n){return B$(n,["next","error","complete"])}function B$(n,e){if(typeof n!="object"||n===null)return!1;let t=n;for(let r of e)if(r in t&&typeof t[r]=="function")return!0;return!1}var TE=class{enableIndexedDbPersistence(e,t){return D1(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return b1(e._delegate)}clearIndexedDbPersistence(e){return T1(e._delegate)}},Qp=class{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof Hi||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){let t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Qn("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&(e=Object.assign(Object.assign({},t),e),delete e.merge),this._delegate._setSettings(e)}useEmulator(e,t,r={}){w1(this._delegate,e,t,r)}enableNetwork(){return x1(this._delegate)}disableNetwork(){return M1(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,fE("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return A1(this._delegate)}onSnapshotsInSync(e){return iR(this._delegate,e)}get app(){if(!this._appCompat)throw new O("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Ka(this,pE(this._delegate,e))}catch(t){throw nn(t,"collection()","Firestore.collection()")}}doc(e){try{return new Dr(this,vc(this._delegate,e))}catch(t){throw nn(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new ls(this,E1(this._delegate,e))}catch(t){throw nn(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return oR(this._delegate,t=>e(new Yp(this,t)))}batch(){return Rt(this._delegate),new Zp(new Lp(this._delegate,e=>za(this._delegate,e)))}loadBundle(e){return R1(this._delegate,e)}namedQuery(e){return N1(this._delegate,e).then(t=>t?new ls(this,t):null)}},Ga=class extends La{constructor(e){super(),this.firestore=e}convertBytes(e){return new Kp(new Cr(e))}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return Dr.forKey(t,this.firestore,null)}};function $$(n){zx(n)}var Yp=class{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new Ga(e)}get(e){let t=ss(e);return this._delegate.get(t).then(r=>new as(this._firestore,new Rn(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){let i=ss(e);return r?(RE("Transaction.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){let o=ss(e);return arguments.length===2?this._delegate.update(o,t):this._delegate.update(o,t,r,...i),this}delete(e){let t=ss(e);return this._delegate.delete(t),this}},Zp=class{constructor(e){this._delegate=e}set(e,t,r){let i=ss(e);return r?(RE("WriteBatch.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){let o=ss(e);return arguments.length===2?this._delegate.update(o,t):this._delegate.update(o,t,r,...i),this}delete(e){let t=ss(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}},Wa=class n{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){let r=new ji(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new us(this._firestore,r),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){let r=n.INSTANCES,i=r.get(e);i||(i=new WeakMap,r.set(e,i));let o=i.get(t);return o||(o=new n(e,new Ga(e),t),i.set(t,o)),o}};Wa.INSTANCES=new WeakMap;var Dr=class n{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Ga(e)}static forPath(e,t,r){if(e.length%2!==0)throw new O("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new n(t,new Ue(t._delegate,r,new q(e)))}static forKey(e,t,r){return new n(t,new Ue(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new Ka(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Ka(this.firestore,pE(this._delegate,e))}catch(t){throw nn(t,"collection()","DocumentReference.collection()")}}isEqual(e){return e=Ke(e),e instanceof Ue?gE(this._delegate,e):!1}set(e,t){t=RE("DocumentReference.set",t);try{return t?IE(this._delegate,e,t):IE(this._delegate,e)}catch(r){throw nn(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return arguments.length===1?CE(this._delegate,e):CE(this._delegate,e,t,...r)}catch(i){throw nn(i,"updateDoc()","DocumentReference.update()")}}delete(){return nR(this._delegate)}onSnapshot(...e){let t=fR(e),r=pR(e,i=>new as(this.firestore,new Rn(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return DE(this._delegate,t,r)}get(e){let t;return e?.source==="cache"?t=Z1(this._delegate):e?.source==="server"?t=J1(this._delegate):t=Y1(this._delegate),t.then(r=>new as(this.firestore,new Rn(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new n(this.firestore,e?this._delegate.withConverter(Wa.getInstance(this.firestore,e)):this._delegate.withConverter(null))}};function nn(n,e,t){return n.message=n.message.replace(e,t),n}function fR(n){for(let e of n)if(typeof e=="object"&&!SE(e))return e;return{}}function pR(n,e){var t,r;let i;return SE(n[0])?i=n[0]:SE(n[1])?i=n[1]:typeof n[0]=="function"?i={next:n[0],error:n[1],complete:n[2]}:i={next:n[1],error:n[2],complete:n[3]},{next:o=>{i.next&&i.next(e(o))},error:(t=i.error)===null||t===void 0?void 0:t.bind(i),complete:(r=i.complete)===null||r===void 0?void 0:r.bind(i)}}var as=class{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Dr(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return EE(this._delegate,e._delegate)}},us=class extends as{data(e){let t=this._delegate.data(e);return this._delegate._converter||Gx(t!==void 0,"Document in a QueryDocumentSnapshot should exist"),t}},ls=class n{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Ga(e)}where(e,t,r){try{return new n(this.firestore,ei(this._delegate,U1(e,t,r)))}catch(i){throw nn(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new n(this.firestore,ei(this._delegate,B1(e,t)))}catch(r){throw nn(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new n(this.firestore,ei(this._delegate,$1(e)))}catch(t){throw nn(t,"limit()","Query.limit()")}}limitToLast(e){try{return new n(this.firestore,ei(this._delegate,H1(e)))}catch(t){throw nn(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new n(this.firestore,ei(this._delegate,q1(...e)))}catch(t){throw nn(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new n(this.firestore,ei(this._delegate,z1(...e)))}catch(t){throw nn(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new n(this.firestore,ei(this._delegate,G1(...e)))}catch(t){throw nn(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new n(this.firestore,ei(this._delegate,W1(...e)))}catch(t){throw nn(t,"endAt()","Query.endAt()")}}isEqual(e){return mE(this._delegate,e._delegate)}get(e){let t;return e?.source==="cache"?t=eR(this._delegate):e?.source==="server"?t=tR(this._delegate):t=X1(this._delegate),t.then(r=>new _c(this.firestore,new Xn(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){let t=fR(e),r=pR(e,i=>new _c(this.firestore,new Xn(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return DE(this._delegate,t,r)}withConverter(e){return new n(this.firestore,e?this._delegate.withConverter(Wa.getInstance(this.firestore,e)):this._delegate.withConverter(null))}},AE=class{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new us(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}},_c=class{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new ls(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new us(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new AE(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new us(this._firestore,r))})}isEqual(e){return EE(this._delegate,e._delegate)}},Ka=class n extends ls{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){let e=this._delegate.parent;return e?new Dr(this.firestore,e):null}doc(e){try{return e===void 0?new Dr(this.firestore,vc(this._delegate)):new Dr(this.firestore,vc(this._delegate,e))}catch(t){throw nn(t,"doc()","CollectionReference.doc()")}}add(e){return rR(this._delegate,e).then(t=>new Dr(this.firestore,t))}isEqual(e){return gE(this._delegate,e._delegate)}withConverter(e){return new n(this.firestore,e?this._delegate.withConverter(Wa.getInstance(this.firestore,e)):this._delegate.withConverter(null))}};function ss(n){return Ae(n,Ue)}var xE=class n{constructor(...e){this._delegate=new Jn(...e)}static documentId(){return new n(ot.keyField().canonicalString())}isEqual(e){return e=Ke(e),e instanceof Jn?this._delegate._internalPath.isEqual(e._internalPath):!1}};var ME=class n{constructor(e){this._delegate=e}static serverTimestamp(){let e=aR();return e._methodName="FieldValue.serverTimestamp",new n(e)}static delete(){let e=sR();return e._methodName="FieldValue.delete",new n(e)}static arrayUnion(...e){let t=uR(...e);return t._methodName="FieldValue.arrayUnion",new n(t)}static arrayRemove(...e){let t=lR(...e);return t._methodName="FieldValue.arrayRemove",new n(t)}static increment(e){let t=cR(e);return t._methodName="FieldValue.increment",new n(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}};var H$={Firestore:Qp,GeoPoint:es,Timestamp:qe,Blob:Kp,Transaction:Yp,WriteBatch:Zp,DocumentReference:Dr,DocumentSnapshot:as,Query:ls,QueryDocumentSnapshot:us,QuerySnapshot:_c,CollectionReference:Ka,FieldPath:xE,FieldValue:ME,setLogLevel:$$,CACHE_SIZE_UNLIMITED:I1};function q$(n,e){n.INTERNAL.registerComponent(new io("firestore-compat",t=>{let r=t.getProvider("app-compat").getImmediate(),i=t.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},H$)))}function z$(n){q$(n,(e,t)=>new Qp(e,t,new TE)),n.registerVersion(j$,U$)}z$(It);function G$(n,e=wu){return new me(t=>{let r;return e!=null?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{r?.()}})}function gR(n,e){return G$(n,e)}function W$(n,e){return gR(n,e).pipe(lo(void 0),Iu(),ee(t=>{let[r,i]=t;return i.exists?r?.exists?{payload:i,type:"modified"}:{payload:i,type:"added"}:{payload:i,type:"removed"}}))}function kE(n,e){return gR(n,e).pipe(ee(t=>({payload:t,type:"query"})))}var Jp=class{ref;afs;constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){let r=this.ref.collection(e),{ref:i,query:o}=wR(r,t);return new eg(i,o,this.afs)}snapshotChanges(){return W$(this.ref,this.afs.schedulers.outsideAngular).pipe(ln)}valueChanges(e={}){return this.snapshotChanges().pipe(ee(({payload:t})=>e.idField?Ne(G({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return Ie(this.ref.get(e)).pipe(ln)}};function Xp(n,e){return kE(n,e).pipe(lo(void 0),Iu(),ee(t=>{let[r,i]=t,o=i.payload.docChanges(),s=o.map(a=>({type:a.type,payload:a}));return r&&JSON.stringify(r.payload.metadata)!==JSON.stringify(i.payload.metadata)&&i.payload.docs.forEach((a,u)=>{let c=o.find(f=>f.doc.ref.isEqual(a.ref)),h=r?.payload.docs.find(f=>f.ref.isEqual(a.ref));c&&JSON.stringify(c.doc.metadata)===JSON.stringify(a.metadata)||!c&&h&&JSON.stringify(h.metadata)===JSON.stringify(a.metadata)||s.push({type:"modified",payload:{oldIndex:u,newIndex:u,type:"modified",doc:a}})}),s}))}function mR(n,e,t){return Xp(n,t).pipe(uo((r,i)=>K$(r,i.map(o=>o.payload),e),[]),Zg(),ee(r=>r.map(i=>({type:i.type,payload:i}))))}function K$(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=Q$(n,r))}),n}function NE(n,e,t,...r){let i=n.slice();return i.splice(e,t,...r),i}function Q$(n,e){switch(e.type){case"added":if(!(n[e.newIndex]&&n[e.newIndex].doc.ref.isEqual(e.doc.ref)))return NE(n,e.newIndex,0,e);break;case"modified":if(n[e.oldIndex]==null||n[e.oldIndex].doc.ref.isEqual(e.doc.ref))if(e.oldIndex!==e.newIndex){let t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}else return NE(n,e.newIndex,1,e);break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return NE(n,e.oldIndex,1);break}return n}function yR(n){return(!n||n.length===0)&&(n=["added","removed","modified"]),n}var eg=class{ref;query;afs;constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=Xp(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe(ee(r=>r.filter(i=>e.indexOf(i.type)>-1)))),t.pipe(lo(void 0),Iu(),mt(([r,i])=>i.length>0||!r),ee(([,r])=>r),ln)}auditTrail(e){return this.stateChanges(e).pipe(uo((t,r)=>[...t,...r],[]))}snapshotChanges(e){let t=yR(e);return mR(this.query,t,this.afs.schedulers.outsideAngular).pipe(ln)}valueChanges(e={}){return kE(this.query,this.afs.schedulers.outsideAngular).pipe(ee(t=>t.payload.docs.map(r=>e.idField?Ne(G({},r.data()),{[e.idField]:r.id}):r.data())),ln)}get(e){return Ie(this.query.get(e)).pipe(ln)}add(e){return this.ref.add(e)}doc(e){return new Jp(this.ref.doc(e),this.afs)}},PE=class{query;afs;constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return!e||e.length===0?Xp(this.query,this.afs.schedulers.outsideAngular).pipe(ln):Xp(this.query,this.afs.schedulers.outsideAngular).pipe(ee(t=>t.filter(r=>e.indexOf(r.type)>-1)),mt(t=>t.length>0),ln)}auditTrail(e){return this.stateChanges(e).pipe(uo((t,r)=>[...t,...r],[]))}snapshotChanges(e){let t=yR(e);return mR(this.query,t,this.afs.schedulers.outsideAngular).pipe(ln)}valueChanges(e={}){return kE(this.query,this.afs.schedulers.outsideAngular).pipe(ee(r=>r.payload.docs.map(i=>e.idField?G({[e.idField]:i.id},i.data()):i.data())),ln)}get(e){return Ie(this.query.get(e)).pipe(ln)}},vR=new z("angularfire2.enableFirestorePersistence"),_R=new z("angularfire2.firestore.persistenceSettings"),Y$=new z("angularfire2.firestore.settings"),Z$=new z("angularfire2.firestore.use-emulator");function wR(n,e=t=>t){return{query:e(n),ref:n}}var wc=(()=>{class n{schedulers;firestore;persistenceEnabled$;constructor(t,r,i,o,s,a,u,c,h,f,m,y,S,D,T,L,K){this.schedulers=u;let F=Rl(t,a,r),J=h;f&&T_(F,a,m,S,D,T,y,L),[this.firestore,this.persistenceEnabled$]=Mf(`${F.name}.firestore`,"AngularFirestore",F.name,()=>{let oe=a.runOutsideAngular(()=>F.firestore());if(o&&oe.settings(o),J&&oe.useEmulator(...J),i&&!Ci(s)){let ne=()=>{try{return Ie(oe.enablePersistence(c||void 0).then(()=>!0,()=>!1))}catch(E){return typeof console<"u"&&console.warn(E),re(!1)}};return[oe,a.runOutsideAngular(ne)]}else return[oe,re(!1)]},[o,J,i])}collection(t,r){let i;typeof t=="string"?i=this.firestore.collection(t):i=t;let{ref:o,query:s}=wR(i,r),a=this.schedulers.ngZone.run(()=>o);return new eg(a,s,this)}collectionGroup(t,r){let i=r||(s=>s),o=this.firestore.collectionGroup(t);return new PE(i(o),this)}doc(t){let r;typeof t=="string"?r=this.firestore.doc(t):r=t;let i=this.schedulers.ngZone.run(()=>r);return new Jp(i,this)}createId(){return this.firestore.collection("_").doc().id}static \u0275fac=function(r){return new(r||n)(j(sa),j(aa,8),j(vR,8),j(Y$,8),j(jt),j(Ce),j(Tf),j(_R,8),j(Z$,8),j(Kn,8),j(E_,8),j(I_,8),j(C_,8),j(D_,8),j(b_,8),j(S_,8),j(Oo,8))};static \u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"any"})}return n})(),ER=(()=>{class n{constructor(){It.registerVersion("angularfire",Vo.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:vR,useValue:!0},{provide:_R,useValue:t}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=Ye({type:n});static \u0275inj=Qe({providers:[wc]})}return n})();var Ht=(()=>{class n{constructor(t,r,i){this.store=t,this.FireAuth=r,this.injector=i,this.Users="Users",this.User_Data=[],this.LoginState=!1}Add_New_Users(t){this.store.collection(this.Users).add(t)}Update_Users(t){this.store.collection(this.Users).doc(t.id).update(t)}Remove_Users(t){this.store.collection(this.Users).doc(t.id).delete()}Sign_In(t){this.Users_collection=this.store.collection(this.Users,r=>r.where("User_Code","==",t.loginCode).where("User_Password","==",t.password)).valueChanges({idField:"id"}),this.Users_collection.subscribe(r=>{r.length>0?(this.User_Data=r[0],this.Calender_Serv||(this.Calender_Serv=this.injector.get(rn)),this.Calender_Serv.Calender_Creation.Append_Event_Data_For_Day(this.User_Data),this.LoginState=!0):alert("No User For This , Please Try Again Or SingUp")})}No_User_Duplicate(t){return this.Users_collection=this.store.collection(this.Users,r=>r.where("User_Code","==",t.SignupCode)).valueChanges({idField:"id"}),this.Users_collection.pipe(ee(r=>r.length===0))}Sign_Up(t){this.No_User_Duplicate(t).subscribe(r=>{if(r){let i={User_FullName:t.SignupName,User_Code:t.SignupCode,User_Password:t.password,Hour_Salary:[],Month_Data:[]};this.Add_New_Users(i)}})}static{this.\u0275fac=function(r){return new(r||n)(j(wc),j(Kn),j(gn))}}static{this.\u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var rn=(()=>{class n{constructor(t){this.Fire_Users=t,this.Calender_Creation=new bf(this.Fire_Users),this.Selected_Date=null,this.popup_event=!1}Open_popup_event(){this.popup_event=!0}Close_popup_event(){this.popup_event=!1}static{this.\u0275fac=function(r){return new(r||n)(j(Ht))}}static{this.\u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var Ec=(()=>{class n{constructor(t,r){this.store=t,this.FireAuth=r,this.Salary_Functionalty_Control="Salary-Functionalty-Control",this.Array_Salary_Functionalty_Control=[],this.Salary_Functionalty_Control_collection=this.store.collection(this.Salary_Functionalty_Control,i=>i.orderBy("Order_Field","asc")).valueChanges({idField:"id"})}Add_New_Salary_Functionalty_Control(t){this.store.collection(this.Salary_Functionalty_Control).add(t)}Update_Salary_Functionalty_Control(t){this.store.collection(this.Salary_Functionalty_Control).doc(t.id).update(t)}Remove_Salary_Functionalty_Control(t){this.store.collection(this.Salary_Functionalty_Control).doc(t.id).delete()}Get_Salary_Functionalty_Control(){this.Salary_Functionalty_Control_collection.subscribe(t=>{this.Array_Salary_Functionalty_Control=t})}static{this.\u0275fac=function(r){return new(r||n)(j(wc),j(Kn))}}static{this.\u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var Qa=(()=>{class n{constructor(){this.SignIn=!0,this.SignUp=!1}Toggel_Sign(){this.SignIn=!this.SignIn,this.SignUp=!this.SignUp}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var CR=(()=>{class n{transform(t){return["January","February","March","April","May","June","July","August","September","October","November","December"][t]}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275pipe=Yd({name:"monthName",type:n,pure:!0})}}return n})();var X$=n=>({hidden:n}),DR=(()=>{class n{constructor(t){this.Calender_Serv=t,this.Show_Month_View=!1}OnClick_Month_View(){this.Show_Month_View=!this.Show_Month_View}ngOnInit(){}static{this.\u0275fac=function(r){return new(r||n)(Z(rn))}}static{this.\u0275cmp=ct({type:n,selectors:[["calender-header"]],decls:62,vars:7,consts:[[1,"flex","items-center","justify-between","border-b","border-gray-200","px-6","py-4","lg:flex-none"],[1,"text-base","font-semibold","leading-6","text-gray-900"],["datetime","2022-01"],[1,"flex","items-center"],[1,"relative","flex","items-center","rounded-md","bg-white","shadow-sm","md:items-stretch"],["type","button",1,"flex","h-9","w-12","items-center","justify-center","rounded-l-md","border-y","border-l","border-gray-300","pr-1","text-gray-400","hover:text-gray-500","focus:relative","md:w-9","md:pr-0","md:hover:bg-gray-50",3,"click"],[1,"sr-only"],["viewBox","0 0 20 20","fill","currentColor","aria-hidden","true",1,"h-5","w-5"],["fill-rule","evenodd","d","M12.79 5.23a.75.75 0 01-.02 1.06L8.832 10l3.938 3.71a.75.75 0 11-1.04 1.08l-4.5-4.25a.75.75 0 010-1.08l4.5-4.25a.75.75 0 011.06.02z","clip-rule","evenodd"],["type","button",1,"hidden","border-y","border-gray-300","px-3.5","text-sm","font-semibold","text-gray-900","hover:bg-gray-50","focus:relative","md:block",3,"click"],[1,"relative","-mx-px","h-5","w-px","bg-gray-300","md:hidden"],["type","button",1,"flex","h-9","w-12","items-center","justify-center","rounded-r-md","border-y","border-r","border-gray-300","pl-1","text-gray-400","hover:text-gray-500","focus:relative","md:w-9","md:pl-0","md:hover:bg-gray-50",3,"click"],["fill-rule","evenodd","d","M7.21 14.77a.75.75 0 01.02-1.06L11.168 10 7.23 6.29a.75.75 0 111.04-1.08l4.5 4.25a.75.75 0 010 1.08l-4.5 4.25a.75.75 0 01-1.06-.02z","clip-rule","evenodd"],[1,"hidden","md:ml-4","md:flex","md:items-center"],[1,"relative"],["type","button","id","menu-button","aria-expanded","false","aria-haspopup","true",1,"flex","items-center","gap-x-1.5","rounded-md","bg-white","px-3","py-2","text-sm","font-semibold","text-gray-900","shadow-sm","ring-1","ring-inset","ring-gray-300","hover:bg-gray-50",3,"click"],["viewBox","0 0 20 20","fill","currentColor","aria-hidden","true",1,"-mr-1","h-5","w-5","text-gray-400"],["fill-rule","evenodd","d","M5.23 7.21a.75.75 0 011.06.02L10 11.168l3.71-3.938a.75.75 0 111.08 1.04l-4.25 4.5a.75.75 0 01-1.08 0l-4.25-4.5a.75.75 0 01.02-1.06z","clip-rule","evenodd"],["role","menu","aria-orientation","vertical","aria-labelledby","menu-button","tabindex","-1",1,"absolute","right-0","z-10","mt-3","w-36","origin-top-right","overflow-hidden","rounded-md","bg-white","shadow-lg","ring-1","ring-black","ring-opacity-5","focus:outline-none",3,"ngClass"],["role","none",1,"py-1"],["href","#","role","menuitem","tabindex","-1","id","menu-item-0",1,"text-gray-700","block","px-4","py-2","text-sm"],["href","#","role","menuitem","tabindex","-1","id","menu-item-1",1,"text-gray-700","block","px-4","py-2","text-sm"],["href","#","role","menuitem","tabindex","-1","id","menu-item-2",1,"text-gray-700","block","px-4","py-2","text-sm"],["href","#","role","menuitem","tabindex","-1","id","menu-item-3",1,"text-gray-700","block","px-4","py-2","text-sm"],[1,"ml-6","h-6","w-px","bg-gray-300"],["type","button",1,"ml-6","rounded-md","bg-indigo-600","px-3","py-2","text-sm","font-semibold","text-white","shadow-sm","hover:bg-indigo-500","focus-visible:outline","focus-visible:outline-2","focus-visible:outline-offset-2","focus-visible:outline-indigo-500"],[1,"relative","ml-6","md:hidden"],["type","button","id","menu-0-button","aria-expanded","false","aria-haspopup","true",1,"-mx-2","flex","items-center","rounded-full","border","border-transparent","p-2","text-gray-400","hover:text-gray-500"],["d","M3 10a1.5 1.5 0 113 0 1.5 1.5 0 01-3 0zM8.5 10a1.5 1.5 0 113 0 1.5 1.5 0 01-3 0zM15.5 8.5a1.5 1.5 0 100 3 1.5 1.5 0 000-3z"],[2,"display","none"],["role","menu","aria-orientation","vertical","aria-labelledby","menu-0-button","tabindex","-1",1,"absolute","right-0","z-10","mt-3","w-36","origin-top-right","divide-y","divide-gray-100","overflow-hidden","rounded-md","bg-white","shadow-lg","ring-1","ring-black","ring-opacity-5","focus:outline-none"],["href","#","role","menuitem","tabindex","-1","id","menu-0-item-0",1,"text-gray-700","block","px-4","py-2","text-sm"],["href","#","role","menuitem","tabindex","-1","id","menu-0-item-1",1,"text-gray-700","block","px-4","py-2","text-sm"],["href","#","role","menuitem","tabindex","-1","id","menu-0-item-2",1,"text-gray-700","block","px-4","py-2","text-sm"],["href","#","role","menuitem","tabindex","-1","id","menu-0-item-3",1,"text-gray-700","block","px-4","py-2","text-sm"],["href","#","role","menuitem","tabindex","-1","id","menu-0-item-4",1,"text-gray-700","block","px-4","py-2","text-sm"],["href","#","role","menuitem","tabindex","-1","id","menu-0-item-5",1,"text-gray-700","block","px-4","py-2","text-sm"]],template:function(r,i){r&1&&(R(0,"header",0)(1,"h1",1)(2,"time",2),B(3),mh(4,"monthName"),k()(),R(5,"div",3)(6,"div",4)(7,"button",5),ce("click",function(){return i.Calender_Serv.Calender_Creation.Previous_Month()}),R(8,"span",6),B(9,"Previous month"),k(),fn(),R(10,"svg",7),ve(11,"path",8),k()(),pn(),R(12,"button",9),ce("click",function(){return i.Calender_Serv.Calender_Creation.getDaysInCurrentMonth()}),B(13,"Today"),k(),ve(14,"span",10),R(15,"button",11),ce("click",function(){return i.Calender_Serv.Calender_Creation.Next_Month()}),R(16,"span",6),B(17,"Next month"),k(),fn(),R(18,"svg",7),ve(19,"path",12),k()()(),pn(),R(20,"div",13)(21,"div",14)(22,"button",15),ce("click",function(){return i.OnClick_Month_View()}),B(23," Month view "),fn(),R(24,"svg",16),ve(25,"path",17),k()(),pn(),R(26,"div",18)(27,"div",19)(28,"a",20),B(29,"Day view"),k(),R(30,"a",21),B(31,"Week view"),k(),R(32,"a",22),B(33,"Month view"),k(),R(34,"a",23),B(35,"Year view"),k()()()(),ve(36,"div",24),R(37,"button",25),B(38,"Add event"),k()(),R(39,"div",26)(40,"button",27)(41,"span",6),B(42,"Open menu"),k(),fn(),R(43,"svg",7),ve(44,"path",28),k()(),pn(),R(45,"span",29)(46,"div",30)(47,"div",19)(48,"a",31),B(49,"Create event"),k()(),R(50,"div",19)(51,"a",32),B(52,"Go to today"),k()(),R(53,"div",19)(54,"a",33),B(55,"Day view"),k(),R(56,"a",34),B(57,"Week view"),k(),R(58,"a",35),B(59,"Month view"),k(),R(60,"a",36),B(61,"Year view"),k()()()()()()()),r&2&&(Y(3),$y("",rS(4,3,i.Calender_Serv.Calender_Creation.month)," ",i.Calender_Serv.Calender_Creation.year,""),Y(23),ye("ngClass",Gu(5,X$,!i.Show_Month_View)))},dependencies:[Gs,CR]})}}return n})();var t3=(n,e)=>({"bg-white ":n,"bg-gray-50 text-gray-500 ":e}),n3=n=>({"flex h-6 w-6 items-center justify-center rounded-full bg-indigo-600 font-semibold text-white":n}),r3=(n,e,t)=>({" bg-gray-100 text-gray-400  ":n," bg-white text-gray-500  ":e," text-white font-semibold":t}),i3=n=>({"ml-auto flex h-6 w-6 items-center justify-center rounded-full bg-indigo-600":n}),o3=(n,e)=>({"outline outline-offset-0 outline-green-500 bg-gray-100":n,"bg-green-500":e}),s3=(n,e)=>({"outline outline-offset-0 outline-amber-500 bg-gray-100":n,"bg-amber-500":e}),a3=(n,e)=>({"outline outline-offset-0 outline-indigo-500 bg-gray-100":n,"bg-indigo-500":e}),u3=(n,e)=>({"outline outline-offset-0 outline-red-500 bg-gray-100":n,"bg-red-500":e});function l3(n,e){if(n&1&&(R(0,"div",2)(1,"span"),B(2),k(),R(3,"span",8),B(4),k()()),n&2){let t=e.$implicit;Y(2),Jt(t.Week_Name_1Char),Y(2),Jt(t.Week_Name_2Char)}}function c3(n,e){if(n&1&&(R(0,"li")(1,"p",12),B(2),k()()),n&2){let t=Te().$implicit;Y(2),Lr("Hour : ",t.Event.Attendance,"")}}function d3(n,e){n&1&&(R(0,"li")(1,"p",13),B(2,"Late"),k()())}function h3(n,e){n&1&&(R(0,"li")(1,"p",14),B(2,"Holiday"),k()())}function f3(n,e){n&1&&(R(0,"li")(1,"p",15),B(2,"Absence"),k()())}function p3(n,e){if(n&1){let t=Zt();R(0,"div",9),ce("click",function(){let i=At(t).$implicit,o=Te();return xt(o.Open_popup_event(i))}),R(1,"time",10),B(2),k(),R(3,"ol",11),vt(4,c3,3,1,"li")(5,d3,3,0,"li")(6,h3,3,0,"li")(7,f3,3,0,"li"),k()()}if(n&2){let t=e.$implicit;ye("ngClass",wi(7,t3,t.Current_Month,!t.Current_Month)),Y(),ye("ngClass",Gu(10,n3,t.Current_Day)),Y(),Jt(t.Day_Number),Y(2),Bn(4,!(!(t==null||t.Event==null)&&t.Event.Absence)&&(t.Event==null?null:t.Event.Attendance.length)>0&&!t.Hide_Element_Attendance?4:-1),Y(),Bn(5,!(t==null||t.Event==null)&&t.Event.Late&&!t.Hide_Element_Late?5:-1),Y(),Bn(6,!(t==null||t.Event==null)&&t.Event.Holiday&&!t.Hide_Element_Holiday?6:-1),Y(),Bn(7,!(t==null||t.Event==null)&&t.Event.Absence&&!t.Hide_Element_Absence?7:-1)}}function g3(n,e){if(n&1&&ve(0,"span",18),n&2){let t=Te().$implicit;ye("ngClass",wi(1,o3,!t.Current_Month,t.Current_Month))}}function m3(n,e){if(n&1&&ve(0,"span",19),n&2){let t=Te().$implicit;ye("ngClass",wi(1,s3,!t.Current_Month,t.Current_Month))}}function y3(n,e){if(n&1&&ve(0,"span",20),n&2){let t=Te().$implicit;ye("ngClass",wi(1,a3,!t.Current_Month,t.Current_Month))}}function v3(n,e){if(n&1&&ve(0,"span",21),n&2){let t=Te().$implicit;ye("ngClass",wi(1,u3,!t.Current_Month,t.Current_Month))}}function _3(n,e){if(n&1){let t=Zt();R(0,"button",16),ce("click",function(){let i=At(t).$implicit,o=Te();return xt(o.Open_popup_event(i))}),R(1,"time",10),B(2),k(),R(3,"span",17),vt(4,g3,1,4,"span",18)(5,m3,1,4,"span",19)(6,y3,1,4,"span",20)(7,v3,1,4,"span",21),k()()}if(n&2){let t=e.$implicit;ye("ngClass",eS(7,r3,!t.Current_Month,t.Current_Month,t.Current_Day)),Y(),ye("ngClass",Gu(11,i3,t.Current_Day)),Y(),Jt(t.Day_Number),Y(2),Bn(4,!(!(t==null||t.Event==null)&&t.Event.Absence)&&(t==null||t.Event==null||t.Event.Attendance==null?null:t.Event.Attendance.length)>0&&!t.Hide_Element_Attendance?4:-1),Y(),Bn(5,!(t==null||t.Event==null)&&t.Event.Late&&!t.Hide_Element_Late?5:-1),Y(),Bn(6,!(t==null||t.Event==null)&&t.Event.Holiday&&!t.Hide_Element_Holiday?6:-1),Y(),Bn(7,!(t==null||t.Event==null)&&t.Event.Absence&&!t.Hide_Element_Absence?7:-1)}}var bR=(()=>{class n{constructor(t,r){this.Calender_Serv=t,this.Fire_Users=r,this.Arr_Week=[{Week_Name_1Char:"S",Week_Name_2Char:"at"},{Week_Name_1Char:"S",Week_Name_2Char:"un"},{Week_Name_1Char:"M",Week_Name_2Char:"on"},{Week_Name_1Char:"T",Week_Name_2Char:"ue"},{Week_Name_1Char:"W",Week_Name_2Char:"ed"},{Week_Name_1Char:"T",Week_Name_2Char:"hu"},{Week_Name_1Char:"F",Week_Name_2Char:"ri"}]}get User_Data(){return this.Fire_Users.User_Data}Open_popup_event(t){this.Calender_Serv.Selected_Date=t,this.Calender_Serv.Open_popup_event()}ngOnInit(){}static{this.\u0275fac=function(r){return new(r||n)(Z(rn),Z(Ht))}}static{this.\u0275cmp=ct({type:n,selectors:[["calender-body"]],decls:11,vars:0,consts:[[1,"shadow","ring-1","ring-black","ring-opacity-5","lg:flex","lg:flex-auto","lg:flex-col"],[1,"grid","grid-cols-7","gap-px","border-b","border-gray-300","bg-gray-200","text-center","text-xs","font-semibold","leading-6","text-gray-700","lg:flex-none"],[1,"flex","justify-center","bg-white","py-2"],[1,"flex","bg-gray-200","text-xs","leading-6","text-gray-700","lg:flex-auto"],[1,"hidden","w-full","lg:grid","lg:grid-cols-7","lg:grid-rows-6","lg:gap-px"],[1,"relative","min-h-32","px-3","py-2",3,"ngClass"],[1,"isolate","grid","w-full","grid-cols-7","grid-rows-6","gap-px","lg:hidden"],["type","button",1,"flex","h-14","flex-col","py-2","px-3","hover:bg-gray-100","focus:z-10",3,"ngClass"],[1,"sr-only","sm:not-sr-only"],[1,"relative","min-h-32","px-3","py-2",3,"click","ngClass"],["datetime","2021-12-27",3,"ngClass"],[1,"mt-2"],[1,"flex-auto","truncate","font-medium","cursor-pointer","text-green-600","hover:text-green-700"],[1,"flex-auto","truncate","font-medium","cursor-pointer","text-amber-500","hover:text-amber-400"],[1,"flex-auto","truncate","font-medium","cursor-pointer","text-indigo-500","hover:text-indigo-600"],[1,"flex-auto","truncate","font-medium","cursor-pointer","text-red-500","hover:text-red-600"],["type","button",1,"flex","h-14","flex-col","py-2","px-3","hover:bg-gray-100","focus:z-10",3,"click","ngClass"],[1,"-mx-0.5","mt-auto","flex","flex-wrap-reverse"],[1,"mx-1","mb-1","h-2","w-2","rounded-full",3,"ngClass"],[1,"outline","outline-offset-0","outline-amber-500","mx-1","mb-1","h-2","w-2","rounded-full","bg-amber-500",3,"ngClass"],[1,"outline","outline-offset-0","outline-indigo-500","mx-1","mb-1","h-2","w-2","rounded-full","bg-indigo-500",3,"ngClass"],[1,"outline","outline-offset-0","outline-red-500","mx-1","mb-1","h-2","w-2","rounded-full","bg-red-500",3,"ngClass"]],template:function(r,i){r&1&&(R(0,"div",0)(1,"div",1),Hn(2,l3,5,2,"div",2,$n),k(),R(4,"div",3)(5,"div",4),Hn(6,p3,8,12,"div",5,$n),k(),R(8,"div",6),Hn(9,_3,8,13,"button",7,$n),k()()()),r&2&&(Y(2),qn(i.Arr_Week),Y(4),qn(i.Calender_Serv.Calender_Creation.final_42_days),Y(3),qn(i.Calender_Serv.Calender_Creation.final_42_days))},dependencies:[Gs]})}}return n})();var SR=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275cmp=ct({type:n,selectors:[["calender"]],decls:3,vars:0,consts:[[1,"lg:flex","lg:h-full","lg:flex-col"]],template:function(r,i){r&1&&(R(0,"div",0),ve(1,"calender-header")(2,"calender-body"),k())},dependencies:[DR,bR]})}}return n})();var tg={production:!1,firebaseConfig:{apiKey:"AIzaSyC2SJzpTQRlEv19pztPNISvZYiInmX75JY",authDomain:"emp-attendance-1d923.firebaseapp.com",projectId:"emp-attendance-1d923",storageBucket:"emp-attendance-1d923.appspot.com",messagingSenderId:"71798254609",appId:"1:71798254609:web:9d67347cf4c388157fd5b0",measurementId:"G-D3K2T6R6FL"}};var I3=(n,e)=>({"bg-white hover:bg-slate-50 text-slate-700":n,"bg-green-600 hover:bg-green-500 text-white":e});function C3(n,e){if(n&1){let t=Zt();R(0,"div",31),ce("click",function(){let i=At(t).$implicit,o=Te();return xt(o.OnClick_Select_Attendance(i))}),B(1),k()}if(n&2){let t=e.$implicit,r=Te();ye("ngClass",wi(2,I3,r.Set_Select_Hour()!=t.Hour,r.Set_Select_Hour()==t.Hour)),Y(),Jt(t.Hour)}}var TR=(()=>{class n{constructor(t,r){this.Calender_Serv=t,this.Fire_Users=r,this.Event_Data={Attendance:"",Late:!1,Holiday:!1,Absence:!1}}get User_Data(){return this.Fire_Users.User_Data}get Selected_Date(){return this.Calender_Serv.Selected_Date}Close_popup_event(){this.Calender_Serv.Close_popup_event()}OnClick_Select_Attendance(t){this.Selected_Date.Event=this.Event_Data;let r=this.User_Data.Month_Data;It.initializeApp(tg.firebaseConfig);function i(s,a){return s?s.findIndex(u=>{let c=u.Date instanceof It.firestore.Timestamp?u.Date.toDate():u.Date;return String(c)===String(a.Date)}):[]}let o=i(r,this.Selected_Date);o>-1&&r?this.User_Data.Month_Data[o]=this.Selected_Date:r?this.User_Data.Month_Data.push(G({},this.Selected_Date)):this.User_Data.Month_Data=this.Selected_Date,this.Event_Data={Attendance:t.Hour,Late:this.Event_Data.Late,Holiday:this.Event_Data.Holiday,Absence:!1},this.Get_Event_From_FireBase().Event=this.Event_Data}On_Change_Late(t){let r=t.target.checked;this.Event_Data={Attendance:this.Event_Data.Attendance,Late:r,Holiday:this.Event_Data.Holiday,Absence:!1},this.Get_Event_From_FireBase().Event=this.Event_Data}On_Change_Holiday(t){let r=t.target.checked;this.Event_Data={Attendance:this.Event_Data.Attendance,Late:this.Event_Data.Late,Holiday:r,Absence:!1},this.Get_Event_From_FireBase().Event=this.Event_Data}On_Change_Absence(t){let r=t.target.checked;this.Event_Data={Attendance:"",Late:!1,Holiday:!1,Absence:r},this.Get_Event_From_FireBase().Event=this.Event_Data}Save(){this.Fire_Users.Update_Users(this.User_Data),this.Close_popup_event()}Reset_Event_Data(){this.Event_Data={Attendance:"",Late:!1,Holiday:!1,Absence:!1},this.Get_Event_From_FireBase().Event=this.Event_Data}OnDestroy(){this.Calender_Serv.Selected_Date=null}Get_Event_From_FireBase(){let t=this.User_Data.Month_Data.find(r=>{let i=r.Date instanceof qe?r.Date.toDate():r.Date;return String(i)===String(this.Calender_Serv.Selected_Date.Date)});if(t===void 0)this.Selected_Date.Event={Absence:!1,Attendance:"",Holiday:!1,Late:!1},this.User_Data.Month_Data.push(this.Selected_Date);else return t}Set_Select_Hour(){return this.Get_Event_From_FireBase()==null?!1:this.Get_Event_From_FireBase().Event.Attendance}ngOnInit(){if(this.Calender_Serv.Selected_Date.Event){let t=this.Calender_Serv.Selected_Date.Event,r=this.User_Data.Hour_Salary;this.Event_Data=t,r.map(i=>{t.Attendance==i.Hour&&(i.Selected=!0)})}}static{this.\u0275fac=function(r){return new(r||n)(Z(rn),Z(Ht))}}static{this.\u0275cmp=ct({type:n,selectors:[["calender-popup-event"]],decls:49,vars:7,consts:[["x-show.transition.opacity","openEventModal",1,"fixed","z-40","top-0","right-0","left-0","bottom-0","h-full","w-full",2,"background-color","rgba(0, 0, 0, 0.8)"],[1,"p-4","max-w-xl","mx-auto","relative","absolute","left-0","right-0","overflow-hidden","mt-24"],[1,"shadow","absolute","right-0","top-0","w-10","h-10","rounded-full","bg-white","text-gray-500","hover:text-gray-800","inline-flex","items-center","justify-center","cursor-pointer",3,"click"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 24 24",1,"fill-current","w-6","h-6"],["d","M16.192 6.344L11.949 10.586 7.707 6.344 6.293 7.758 10.535 12 6.293 16.242 7.707 17.656 11.949 13.414 16.192 17.656 17.606 16.242 13.364 12 17.606 7.758z"],[1,"shadow","w-full","rounded-lg","bg-white","overflow-hidden","block","p-8"],[1,"font-bold","text-2xl","mb-2","text-gray-800"],[1,"border-b","pb-2","mb-6"],[1,"mb-4"],[1,"text-gray-800","block","mb-1","font-bold","text-sm","tracking-wide"],[1,"flex"],[1,"m-1","px-3","py-2","cursor-pointer","relaive","rounded-md","text-[0.8125rem]","font-medium","shadow-sm","ring-1","ring-slate-700/10",3,"ngClass"],[1,"flex","gap-2"],[1,"ring-amber-500","shadow-sm","ring-1","ring-slate-700/10","w-fit","rounded-md","inline-flex","items-center"],["for","checkbox-4","data-ripple-dark","true",1,"relative","flex","cursor-pointer","items-center","rounded-full","p-3"],["type","checkbox","id","checkbox-4",1,"ring-1","ring-amber-500","before:content['']","peer","relative","h-5","w-5","cursor-pointer","appearance-none","rounded-md","border","border-blue-gray-200","transition-all","before:absolute","before:top-2/4","before:left-2/4","before:block","before:h-12","before:w-12","before:-translate-y-2/4","before:-translate-x-2/4","before:rounded-full","before:bg-blue-gray-500","before:opacity-0","before:transition-opacity","checked:border-amber-500","checked:bg-amber-500","checked:before:bg-amber-500","hover:before:opacity-10",3,"change","ngModelChange","ngModel"],[1,"pointer-events-none","absolute","top-2/4","left-2/4","-translate-y-2/4","-translate-x-2/4","text-white","opacity-0","transition-opacity","peer-checked:opacity-100"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 20 20","fill","currentColor","stroke","currentColor","stroke-width","1",1,"h-3.5","w-3.5"],["fill-rule","evenodd","d","M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z","clip-rule","evenodd"],[1,"text-amber-500","block","select-none","font-bold","text-sm","tracking-wide","me-3"],[1,"ring-indigo-500","shadow-sm","ring-1","ring-slate-700/10","w-fit","rounded-md","inline-flex","items-center"],["for","checkbox-6","data-ripple-dark","true",1,"relative","flex","cursor-pointer","items-center","rounded-full","p-3"],["type","checkbox","id","checkbox-6",1,"ring-1","ring-indigo-500","before:content['']","peer","relative","h-5","w-5","cursor-pointer","appearance-none","rounded-md","border","border-blue-gray-200","transition-all","before:absolute","before:top-2/4","before:left-2/4","before:block","before:h-12","before:w-12","before:-translate-y-2/4","before:-translate-x-2/4","before:rounded-full","before:bg-blue-gray-500","before:opacity-0","before:transition-opacity","checked:border-indigo-500","checked:bg-indigo-500","checked:before:bg-indigo-500","hover:before:opacity-10",3,"change","ngModelChange","ngModel"],[1,"text-indigo-500","block","select-none","font-bold","text-sm","tracking-wide","me-3"],[1,"ring-red-500","shadow-sm","ring-1","ring-slate-700/10","w-fit","rounded-md","inline-flex","items-center"],["for","checkbox-2","data-ripple-dark","true",1,"relative","flex","cursor-pointer","items-center","rounded-full","p-3"],["type","checkbox","id","checkbox-2",1,"ring-1","ring-red-500","before:content['']","peer","relative","h-5","w-5","cursor-pointer","appearance-none","rounded-md","border","border-blue-gray-200","transition-all","before:absolute","before:top-2/4","before:left-2/4","before:block","before:h-12","before:w-12","before:-translate-y-2/4","before:-translate-x-2/4","before:rounded-full","before:bg-blue-gray-500","before:opacity-0","before:transition-opacity","checked:border-red-500","checked:bg-red-500","checked:before:bg-red-500","hover:before:opacity-10",3,"change","ngModelChange","ngModel"],[1,"text-red-500","block","select-none","font-bold","text-sm","tracking-wide","me-3"],[1,"mt-8","text-right"],["type","button",1,"bg-white","text-gray-700","hover:bg-gray-100","focus-visible:outline-gray-500","ring-1","ring-slate-700/10","ml-3","rounded-md","px-3","py-2","text-sm","font-semibold","shadow-sm","focus-visible:outline","focus-visible:outline-2","focus-visible:outline-offset-2",3,"click"],["type","button",1,"bg-indigo-600","text-white","hover:bg-indigo-500","focus-visible:outline-indigo-500","ml-3","rounded-md","px-3","py-2","text-sm","font-semibold","shadow-sm","focus-visible:outline","focus-visible:outline-2","focus-visible:outline-offset-2",3,"click"],[1,"m-1","px-3","py-2","cursor-pointer","relaive","rounded-md","text-[0.8125rem]","font-medium","shadow-sm","ring-1","ring-slate-700/10",3,"click","ngClass"]],template:function(r,i){r&1&&(R(0,"div",0)(1,"div",1)(2,"div",2),ce("click",function(){return i.Close_popup_event()}),fn(),R(3,"svg",3),ve(4,"path",4),k()(),pn(),R(5,"div",5)(6,"h2",6),B(7,"Day Details"),k(),R(8,"h4",7),B(9),mh(10,"date"),k(),R(11,"div",8)(12,"label",9),B(13,"Attendance"),k(),R(14,"div",10),Hn(15,C3,2,5,"div",11,$n),k()(),R(17,"div",12)(18,"div",13)(19,"label",14)(20,"input",15),ce("change",function(s){return i.On_Change_Late(s)}),cr("ngModelChange",function(s){return jr(i.Event_Data.Late,s)||(i.Event_Data.Late=s),s}),k(),R(21,"div",16),fn(),R(22,"svg",17),ve(23,"path",18),k()()(),pn(),R(24,"label",19),B(25,"Late"),k()(),R(26,"div",20)(27,"label",21)(28,"input",22),ce("change",function(s){return i.On_Change_Holiday(s)}),cr("ngModelChange",function(s){return jr(i.Event_Data.Holiday,s)||(i.Event_Data.Holiday=s),s}),k(),R(29,"div",16),fn(),R(30,"svg",17),ve(31,"path",18),k()()(),pn(),R(32,"label",23),B(33,"Holiday"),k()(),R(34,"div",24)(35,"label",25)(36,"input",26),ce("change",function(s){return i.On_Change_Absence(s)}),cr("ngModelChange",function(s){return jr(i.Event_Data.Absence,s)||(i.Event_Data.Absence=s),s}),k(),R(37,"div",16),fn(),R(38,"svg",17),ve(39,"path",18),k()()(),pn(),R(40,"label",27),B(41,"Absence"),k()()(),R(42,"div",28)(43,"button",29),ce("click",function(){return i.Close_popup_event()}),B(44," Cancel "),k(),R(45,"button",29),ce("click",function(){return i.Reset_Event_Data()}),B(46," Reset "),k(),R(47,"button",30),ce("click",function(){return i.Save()}),B(48," Save "),k()()()()()),r&2&&(Y(9),Jt(iS(10,4,i.Selected_Date==null?null:i.Selected_Date.Date,"dd MMMM yyyy")),Y(6),qn(i.User_Data.Hour_Salary),Y(5),lr("ngModel",i.Event_Data.Late),Y(8),lr("ngModel",i.Event_Data.Holiday),Y(8),lr("ngModel",i.Event_Data.Absence))},dependencies:[Gs,ol,hr,Ro,MS]})}}return n})();function b3(n,e){if(n&1){let t=Zt();R(0,"input",17),ce("keyup.enter",function(){At(t);let i=Te().$implicit,o=Te();return xt(o.Save_Edit(i))}),cr("ngModelChange",function(i){At(t);let o=Te().$implicit;return jr(o.Hour,i)||(o.Hour=i),xt(i)}),k()}if(n&2){let t=Te().$implicit;lr("ngModel",t.Hour)}}function S3(n,e){if(n&1&&(R(0,"p"),B(1),k()),n&2){let t=Te().$implicit;Y(),Jt(t.Hour)}}function T3(n,e){if(n&1){let t=Zt();R(0,"input",17),ce("keyup.enter",function(){At(t);let i=Te().$implicit,o=Te();return xt(o.Save_Edit(i))}),cr("ngModelChange",function(i){At(t);let o=Te().$implicit;return jr(o.Price,i)||(o.Price=i),xt(i)}),k()}if(n&2){let t=Te().$implicit;lr("ngModel",t.Price)}}function A3(n,e){if(n&1&&(R(0,"p"),B(1),k()),n&2){let t=Te().$implicit;Y(),Jt(t.Price)}}function x3(n,e){if(n&1){let t=Zt();R(0,"span",18),ce("click",function(){At(t);let i=Te().$implicit,o=Te();return xt(o.Toggel_Allow_Edit(i))}),B(1,"Edit"),k()}}function M3(n,e){if(n&1){let t=Zt();R(0,"span",19),ce("click",function(){At(t);let i=Te().$implicit,o=Te();return xt(o.Remove_Hour_Salary(i))}),B(1,"Remove"),k()}}function R3(n,e){if(n&1){let t=Zt();R(0,"span",20),ce("click",function(){At(t);let i=Te().$implicit,o=Te();return xt(o.Toggel_Allow_Edit(i))}),B(1,"Cancel"),k()}}function N3(n,e){if(n&1){let t=Zt();R(0,"span",21),ce("click",function(){At(t);let i=Te().$implicit,o=Te();return xt(o.Save_Edit(i))}),B(1,"Save"),k()}}function P3(n,e){if(n&1&&(R(0,"tr",9)(1,"td",10)(2,"div"),vt(3,b3,1,1,"input",11)(4,S3,2,1,"p",12),k()(),R(5,"td",10)(6,"div"),vt(7,T3,1,1,"input",11)(8,A3,2,1,"p",12),k()(),R(9,"td",10),vt(10,x3,2,0,"span",13)(11,M3,2,0,"span",14)(12,R3,2,0,"span",15)(13,N3,2,0,"span",16),k()()),n&2){let t=e.$implicit;Y(3),ye("ngIf",t.Allow_Edit),Y(),ye("ngIf",!t.Allow_Edit),Y(3),ye("ngIf",t.Allow_Edit),Y(),ye("ngIf",!t.Allow_Edit),Y(2),ye("ngIf",!t.Allow_Edit),Y(),ye("ngIf",!t.Allow_Edit),Y(),ye("ngIf",t.Allow_Edit),Y(),ye("ngIf",t.Allow_Edit)}}var AR=(()=>{class n{constructor(t,r){this.Fire_Users=t,this.Calender_Serv=r,this.Data_For_Add_Hour_Salary={Hour:0,Price:0}}get User_Data(){return this.Fire_Users.User_Data}Add_New_Hour(){let t=this.User_Data.Hour_Salary;this.Data_For_Add_Hour_Salary.Hour<=0||this.Data_For_Add_Hour_Salary.Price<=0||t.findIndex(r=>r.Hour==this.Data_For_Add_Hour_Salary.Hour)==-1&&(this.Data_For_Add_Hour_Salary.Hour=this.formatNumber(this.Data_For_Add_Hour_Salary.Hour),t.push(this.Data_For_Add_Hour_Salary),this.Fire_Users.Update_Users(this.User_Data))}Toggel_Allow_Edit(t){t.Allow_Edit=!t.Allow_Edit}Remove_Hour_Salary(t){if(confirm("You Going To Remove This Row ?")){let r=this.User_Data.Month_Data;r.some(o=>o.Event.Attendance===String(t.Hour))&&(r=r.filter(o=>o.Event.Attendance!==String(t.Hour)),this.User_Data.Month_Data=r);let i=this.User_Data.Hour_Salary;i.splice(i.findIndex(o=>o.Hour==t.Hour),1),this.Fire_Users.Update_Users(this.User_Data),this.Calender_Serv.Calender_Creation.initDate()}}Save_Edit(t){this.User_Data.Hour_Salary.map(r=>{typeof r.Hour=="number"&&(r.Hour=this.formatNumber(r.Hour))}),this.Toggel_Allow_Edit(t),this.Fire_Users.Update_Users(this.User_Data)}formatNumber(t){return t.toString().padStart(2,"0")}ngOnInit(){}static{this.\u0275fac=function(r){return new(r||n)(Z(Ht),Z(rn))}}static{this.\u0275cmp=ct({type:n,selectors:[["user-hour-price"]],decls:24,vars:2,consts:[[1,"flex","flex-col","mx-3","mt-6","select-none","w-full","lg:w-2/4","m-1","bg-white","shadow-lg","text-lg","rounded-md","border","border-gray-200"],[1,"flex","p-4","items-center"],[1,"flex","items-center","m-2","md:w-full"],[1,"block","tracking-wide","text-gray-700","text-sm","font-bold","m-2"],["type","number",1,"w-16","text-xs","appearance-none","block","w-30","bg-white","text-gray-900","border","border-gray-400","rounded-lg","py-2","px-3","leading-tight","focus:outline-none","ng-pristine","ng-valid","ng-touched",3,"ngModelChange","ngModel"],["type","button",1,"w-full","ml-6","rounded-md","bg-indigo-600","px-3","py-2","text-sm","font-semibold","text-white","shadow-sm","hover:bg-indigo-500","focus-visible:outline","focus-visible:outline-2","focus-visible:outline-offset-2","focus-visible:outline-indigo-500",3,"click"],[1,"m-3","text-sm","text-left","rtl:text-right","text-gray-500","light:text-gray-400"],[1,"text-xs","text-gray-700","bg-gray-50","light:bg-gray-700","light:text-gray-400"],["scope","col",1,"px-6","py-3"],[1,"bg-white","border-b","light:bg-gray-800","light:border-gray-700","hover:bg-gray-50","light:hover:bg-gray-600"],[1,"px-6","py-4"],["type","number","class","w-16 bg-gray-50 border focus:outline-none border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block px-2.5 py-1 light:bg-gray-700 light:border-gray-600 light:placeholder-gray-400 light:text-white light:focus:ring-blue-500 light:focus:border-blue-500","required","",3,"ngModel","keyup.enter","ngModelChange",4,"ngIf"],[4,"ngIf"],["class","m-2 cursor-pointer font-medium text-green-600 light:text-green-500 hover:underline",3,"click",4,"ngIf"],["class","m-2 cursor-pointer font-medium text-red-600 light:text-red-500 hover:underline",3,"click",4,"ngIf"],["class","m-2 cursor-pointer font-medium text-gray-600 light:text-gray-500 hover:underline",3,"click",4,"ngIf"],["class","m-2 cursor-pointer font-medium text-indigo-600 light:text-indigo-500 hover:underline",3,"click",4,"ngIf"],["type","number","required","",1,"w-16","bg-gray-50","border","focus:outline-none","border-gray-300","text-gray-900","text-sm","rounded-lg","focus:ring-blue-500","focus:border-blue-500","block","px-2.5","py-1","light:bg-gray-700","light:border-gray-600","light:placeholder-gray-400","light:text-white","light:focus:ring-blue-500","light:focus:border-blue-500",3,"keyup.enter","ngModelChange","ngModel"],[1,"m-2","cursor-pointer","font-medium","text-green-600","light:text-green-500","hover:underline",3,"click"],[1,"m-2","cursor-pointer","font-medium","text-red-600","light:text-red-500","hover:underline",3,"click"],[1,"m-2","cursor-pointer","font-medium","text-gray-600","light:text-gray-500","hover:underline",3,"click"],[1,"m-2","cursor-pointer","font-medium","text-indigo-600","light:text-indigo-500","hover:underline",3,"click"]],template:function(r,i){r&1&&(R(0,"div",0)(1,"div",1)(2,"div",2)(3,"label",3),B(4," Hour "),k(),R(5,"input",4),cr("ngModelChange",function(s){return jr(i.Data_For_Add_Hour_Salary.Hour,s)||(i.Data_For_Add_Hour_Salary.Hour=s),s}),k()(),R(6,"div",2)(7,"label",3),B(8," Price "),k(),R(9,"input",4),cr("ngModelChange",function(s){return jr(i.Data_For_Add_Hour_Salary.Price,s)||(i.Data_For_Add_Hour_Salary.Price=s),s}),k()(),R(10,"button",5),ce("click",function(){return i.Add_New_Hour()}),B(11,"Add row"),k()(),R(12,"table",6)(13,"thead",7)(14,"tr")(15,"th",8),B(16," Hour "),k(),R(17,"th",8),B(18," Salary Per Hour "),k(),R(19,"th",8),B(20," Action "),k()()(),R(21,"tbody"),Hn(22,P3,14,8,"tr",9,$n),k()()()),r&2&&(Y(5),lr("ngModel",i.Data_For_Add_Hour_Salary.Hour),Y(4),lr("ngModel",i.Data_For_Add_Hour_Salary.Price),Y(13),qn(i.User_Data==null?null:i.User_Data.Hour_Salary))},dependencies:[Ii,Ti,Tv,hr,No,Ro]})}}return n})();function F3(n,e){if(n&1){let t=Zt();R(0,"div",7)(1,"label",8)(2,"input",9),ce("change",function(i){let o=At(t).$implicit,s=Te();return xt(s.OnChange_Attendance_HideElement(o,i))}),k(),R(3,"div",10),fn(),R(4,"svg",11),ve(5,"path",12),k()()(),pn(),R(6,"div",13)(7,"label",14),B(8),k(),R(9,"p",15),B(10),k()()()}if(n&2){let t=e.$implicit;Y(2),ye("ngModel",!t.Hide_Element_Attendance),Y(6),Lr(" ( ",t.Attendance," ) Hour :"),Y(2),Lr("",t.Count," Day")}}function O3(n,e){if(n&1){let t=Zt();R(0,"div",7)(1,"label",8)(2,"input",9),ce("change",function(i){let o=At(t).$implicit,s=Te();return xt(s.OnChange_OtherEvent_HideElement(o,i))}),k(),R(3,"div",10),fn(),R(4,"svg",11),ve(5,"path",12),k()()(),pn(),R(6,"div",13)(7,"label",16),B(8),k(),R(9,"p",17),B(10),k()()()}if(n&2){let t=e.$implicit;Y(2),ye("ngModel",!t.Hide_Element_Event),Y(6),Lr(" ",t.Event_Name," : "),Y(2),Lr("",t.Count," Day")}}var xR=(()=>{class n{constructor(t,r,i){this.Fire_Users=t,this.Calender_Serv=r,this.Fire_Salary_Calc=i,this.Calculate_Salary=new Fo}get User_Data(){return this.Fire_Users.User_Data}get Array_Salary_Functionalty_Control(){return this.Fire_Salary_Calc.Array_Salary_Functionalty_Control}Get_Total_Salary_Before(){return this.Calculate_Salary.Calc_Before(this.Calender_Serv.Calender_Creation.Count_Attendance(),this.User_Data?.Hour_Salary)}Get_Total_Salary_After(){return this.Calculate_Salary.Calc_After(this.Get_Total_Salary_Before(),this.Array_Salary_Functionalty_Control)}OnChange_Attendance_HideElement(t,r){this.Calender_Serv.Calender_Creation.final_42_days.filter(o=>o.Current_Month===!0&&o.Event!==void 0&&o.Event.Attendance==t.Attendance).map(o=>{o.Hide_Element_Attendance=!r.target.checked})}OnChange_OtherEvent_HideElement(t,r){this.Calender_Serv.Calender_Creation.final_42_days.filter(o=>o.Current_Month===!0&&o.Event!==void 0&&o.Event[t.Event_Name]==!0).map(o=>{o[`Hide_Element_${t.Event_Name}`]=!r.target.checked})}ngOnInit(){}static{this.\u0275fac=function(r){return new(r||n)(Z(Ht),Z(rn),Z(Ec))}}static{this.\u0275cmp=ct({type:n,selectors:[["calc-my-salary"]],decls:27,vars:2,consts:[[1,"lg:flex"],[1,"lg:w-1/2","flex","flex-col","mx-3","mt-6","select-none","m-1","bg-white","shadow-lg","text-lg","rounded-md","border","border-gray-200"],[1,"flex","flex-row","justify-between","items-center","p-4","border-b","border-gray-200"],[1,"p-2"],[1,"flex","m-2","items-center"],[1,"block","tracking-wide","text-gray-700","text-sm","mx-2"],[1,"text-green-700","font-bold","text-sm"],[1,"ring-indigo-500","flex"],["for","checkbox-6","data-ripple-dark","true",1,"relative","flex","cursor-pointer","items-center","rounded-full","ml-4"],["type","checkbox","id","checkbox-6",1,"ring-1","ring-indigo-500","before:content['']","peer","relative","h-5","w-5","cursor-pointer","appearance-none","rounded-md","transition-all","before:absolute","before:top-2/4","before:left-2/4","before:block","before:h-12","before:w-12","before:-translate-y-2/4","before:-translate-x-2/4","before:rounded-full","before:bg-blue-gray-500","before:opacity-0","before:transition-opacity","checked:border-indigo-500","checked:bg-indigo-500","checked:before:bg-indigo-500","hover:before:opacity-10",3,"change","ngModel"],[1,"pointer-events-none","absolute","top-2/4","left-2/4","-translate-y-2/4","-translate-x-2/4","text-white","opacity-0","transition-opacity","peer-checked:opacity-100"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 20 20","fill","currentColor","stroke","currentColor","stroke-width","1",1,"h-3.5","w-3.5"],["fill-rule","evenodd","d","M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z","clip-rule","evenodd"],[1,"flex","p-2","items-center"],[1,"block","tracking-wide","text-gray-700","ml-2","text-sm"],[1,"text-gray-600","font-bold","text-sm","ml-4","mr-2"],[1,"block","tracking-wide","text-gray-700","text-sm","ml-2","mr-2"],[1,"text-gray-600","font-bold","text-sm"]],template:function(r,i){r&1&&(R(0,"div",0)(1,"div",1)(2,"header",2),B(3," Total Salary "),k(),R(4,"section",3)(5,"div",4)(6,"label",5),B(7," Before "),k(),R(8,"p",6),B(9),k()(),R(10,"div",4)(11,"label",5),B(12," After "),k(),R(13,"p",6),B(14),k()()()(),R(15,"div",1)(16,"header",2),B(17," Count of Days "),k(),R(18,"section",3),Hn(19,F3,11,3,"div",7,$n),k()(),R(21,"div",1)(22,"header",2),B(23," Other Event "),k(),R(24,"section",3),Hn(25,O3,11,3,"div",7,$n),k()()()),r&2&&(Y(9),Jt(i.Get_Total_Salary_Before()),Y(5),Jt(i.Get_Total_Salary_After()),Y(5),qn(i.Calender_Serv.Calender_Creation.Count_Attendance()),Y(6),qn(i.Calender_Serv.Calender_Creation.Count_Events()))},dependencies:[ol,hr,Ro]})}}return n})();function L3(n,e){n&1&&(R(0,"div",15),B(1," Please enter a valid login code. "),k())}function j3(n,e){n&1&&(R(0,"div",15),B(1," Please enter your password. "),k())}var MR=(()=>{class n{constructor(t,r,i,o,s){this.fb=t,this.auth=r,this.router=i,this.Fire_Users=o,this.Sign_In_Up_Serv=s,this.loginForm=this.fb.group({loginCode:["",Hr.required],password:["",Hr.required]})}onSubmit(){this.loginForm.valid?this.Fire_Users.Sign_In(this.loginForm.value):this.loginForm.markAllAsTouched()}ngOnInit(){}static{this.\u0275fac=function(r){return new(r||n)(Z(of),Z(Kn),Z(Gn),Z(Ht),Z(Qa))}}static{this.\u0275cmp=ct({type:n,selectors:[["sign-in"]],decls:26,vars:3,consts:[[1,"flex","min-h-full","flex-col","justify-center","px-6","py-12","lg:px-8"],[1,"sm:mx-auto","sm:w-full","sm:max-w-sm"],["src","https://tailwindui.com/plus/img/logos/mark.svg?color=indigo&shade=600","alt","Your Company",1,"mx-auto","h-10","w-auto"],[1,"mt-10","text-center","text-2xl","font-bold","leading-9","tracking-tight","text-gray-900"],[1,"mt-10","sm:mx-auto","sm:w-full","sm:max-w-sm"],[1,"space-y-6",3,"ngSubmit","formGroup"],["for","loginCode",1,"block","text-sm","font-medium","leading-6","text-gray-900"],[1,"mt-2"],["id","loginCode","name","loginCode","type","text","formControlName","loginCode","required","",1,"px-3","block","w-full","rounded-md","border-0","py-1.5","text-gray-900","shadow-sm","ring-1","ring-inset","ring-gray-300","placeholder:text-gray-400","focus:ring-2","focus:ring-inset","focus:ring-indigo-600","sm:text-sm","sm:leading-6"],["class","text-red-600 text-sm",4,"ngIf"],["for","password",1,"block","text-sm","font-medium","leading-6","text-gray-900"],["id","password","name","password","type","password","formControlName","password","required","",1,"px-3","block","w-full","rounded-md","border-0","py-1.5","text-gray-900","shadow-sm","ring-1","ring-inset","ring-gray-300","placeholder:text-gray-400","focus:ring-2","focus:ring-inset","focus:ring-indigo-600","sm:text-sm","sm:leading-6"],["type","submit",1,"flex","w-full","justify-center","rounded-md","bg-indigo-600","px-3","py-1.5","text-sm","font-semibold","leading-6","text-white","shadow-sm","hover:bg-indigo-500","focus-visible:outline","focus-visible:outline-2","focus-visible:outline-offset-2","focus-visible:outline-indigo-600"],[1,"mt-10","text-center","text-sm","text-gray-500"],[1,"font-semibold","leading-6","text-indigo-600","hover:text-indigo-500",3,"click"],[1,"text-red-600","text-sm"]],template:function(r,i){r&1&&(R(0,"div",0)(1,"div",1),ve(2,"img",2),R(3,"h2",3),B(4,"Sign in to your account"),k()(),R(5,"div",4)(6,"form",5),ce("ngSubmit",function(){return i.onSubmit()}),R(7,"div")(8,"label",6),B(9,"Your Code"),k(),R(10,"div",7),ve(11,"input",8),k(),vt(12,L3,2,0,"div",9),k(),R(13,"div")(14,"label",10),B(15,"Password"),k(),R(16,"div",7),ve(17,"input",11),k(),vt(18,j3,2,0,"div",9),k(),R(19,"div")(20,"button",12),B(21,"Sign in "),k()()(),R(22,"p",13),B(23," Not a member? "),R(24,"button",14),ce("click",function(){return i.Sign_In_Up_Serv.Toggel_Sign()}),B(25,"Sign Up"),k()()()()),r&2&&(Y(6),ye("formGroup",i.loginForm),Y(6),ye("ngIf",i.loginForm.controls.loginCode.invalid&&i.loginForm.controls.loginCode.touched),Y(6),ye("ngIf",i.loginForm.controls.password.invalid&&i.loginForm.controls.password.touched))},dependencies:[Ii,rf,Ti,hr,Xh,No,sl,al]})}}return n})();function B3(n,e){n&1&&(R(0,"div",17),B(1," Please enter a valid Signup Name. "),k())}function $3(n,e){n&1&&(R(0,"div",17),B(1," Please enter a valid Signup code. "),k())}function H3(n,e){n&1&&(R(0,"div",17),B(1," Please enter your password. "),k())}var RR=(()=>{class n{constructor(t,r,i,o,s){this.fb=t,this.auth=r,this.router=i,this.Fire_Users=o,this.Sign_In_Up_Serv=s,this.SignupForm=this.fb.group({SignupCode:["",Hr.required],SignupName:["",Hr.required],password:["",Hr.required]})}onSubmit(){this.SignupForm.valid?this.Fire_Users.Sign_Up(this.SignupForm.value):this.SignupForm.markAllAsTouched()}ngOnInit(){}static{this.\u0275fac=function(r){return new(r||n)(Z(of),Z(Kn),Z(Gn),Z(Ht),Z(Qa))}}static{this.\u0275cmp=ct({type:n,selectors:[["sign-up"]],decls:32,vars:4,consts:[[1,"flex","min-h-full","flex-col","justify-center","px-6","py-12","lg:px-8"],[1,"sm:mx-auto","sm:w-full","sm:max-w-sm"],["src","https://tailwindui.com/plus/img/logos/mark.svg?color=indigo&shade=600","alt","Your Company",1,"mx-auto","h-10","w-auto"],[1,"mt-10","text-center","text-2xl","font-bold","leading-9","tracking-tight","text-gray-900"],[1,"mt-10","sm:mx-auto","sm:w-full","sm:max-w-sm"],[1,"space-y-6",3,"ngSubmit","formGroup"],["for","SignupName",1,"block","text-sm","font-medium","leading-6","text-gray-900"],[1,"mt-2"],["id","SignupName","name","SignupName","type","text","formControlName","SignupName","required","",1,"px-3","block","w-full","rounded-md","border-0","py-1.5","text-gray-900","shadow-sm","ring-1","ring-inset","ring-gray-300","placeholder:text-gray-400","focus:ring-2","focus:ring-inset","focus:ring-indigo-600","sm:text-sm","sm:leading-6"],["class","text-red-600 text-sm",4,"ngIf"],["for","SignupCode",1,"block","text-sm","font-medium","leading-6","text-gray-900"],["id","SignupCode","name","SignupCode","type","text","formControlName","SignupCode","required","",1,"px-3","block","w-full","rounded-md","border-0","py-1.5","text-gray-900","shadow-sm","ring-1","ring-inset","ring-gray-300","placeholder:text-gray-400","focus:ring-2","focus:ring-inset","focus:ring-indigo-600","sm:text-sm","sm:leading-6"],["for","password",1,"block","text-sm","font-medium","leading-6","text-gray-900"],["id","password","name","password","type","password","formControlName","password","required","",1,"px-3","block","w-full","rounded-md","border-0","py-1.5","text-gray-900","shadow-sm","ring-1","ring-inset","ring-gray-300","placeholder:text-gray-400","focus:ring-2","focus:ring-inset","focus:ring-indigo-600","sm:text-sm","sm:leading-6"],["type","submit",1,"flex","w-full","justify-center","rounded-md","bg-indigo-600","px-3","py-1.5","text-sm","font-semibold","leading-6","text-white","shadow-sm","hover:bg-indigo-500","focus-visible:outline","focus-visible:outline-2","focus-visible:outline-offset-2","focus-visible:outline-indigo-600"],[1,"mt-10","text-center","text-sm","text-gray-500"],[1,"font-semibold","leading-6","text-indigo-600","hover:text-indigo-500",3,"click"],[1,"text-red-600","text-sm"]],template:function(r,i){r&1&&(R(0,"div",0)(1,"div",1),ve(2,"img",2),R(3,"h2",3),B(4,"Sign up for an account"),k()(),R(5,"div",4)(6,"form",5),ce("ngSubmit",function(){return i.onSubmit()}),R(7,"div")(8,"label",6),B(9,"Full Name"),k(),R(10,"div",7),ve(11,"input",8),k(),vt(12,B3,2,0,"div",9),k(),R(13,"div")(14,"label",10),B(15,"Your Code"),k(),R(16,"div",7),ve(17,"input",11),k(),vt(18,$3,2,0,"div",9),k(),R(19,"div")(20,"label",12),B(21,"Password"),k(),R(22,"div",7),ve(23,"input",13),k(),vt(24,H3,2,0,"div",9),k(),R(25,"div")(26,"button",14),B(27,"Sign up "),k()()(),R(28,"p",15),B(29," You a member? "),R(30,"button",16),ce("click",function(){return i.Sign_In_Up_Serv.Toggel_Sign()}),B(31,"Sign in"),k()()()()),r&2&&(Y(6),ye("formGroup",i.SignupForm),Y(6),ye("ngIf",i.SignupForm.controls.SignupName.invalid&&i.SignupForm.controls.SignupName.touched),Y(6),ye("ngIf",i.SignupForm.controls.SignupCode.invalid&&i.SignupForm.controls.SignupCode.touched),Y(6),ye("ngIf",i.SignupForm.controls.password.invalid&&i.SignupForm.controls.password.touched))},dependencies:[Ii,rf,Ti,hr,Xh,No,sl,al]})}}return n})();function z3(n,e){n&1&&ve(0,"sign-in")}function G3(n,e){n&1&&ve(0,"sign-up")}function W3(n,e){n&1&&(R(0,"div",2),ve(1,"user-hour-price")(2,"calender")(3,"calc-my-salary"),k())}function K3(n,e){n&1&&ve(0,"calender-popup-event")}var NR=(()=>{class n{constructor(t,r,i,o){this.CalenderServ=t,this.Fire_Users=r,this.Fire_Salary_Calc=i,this.Sign_In_Up_Serv=o,this.Calculate_Salary=new Fo}get LoginState(){return this.Fire_Users.LoginState}get popup_event(){return this.CalenderServ.popup_event}Init_FireBase_Data(){this.Fire_Salary_Calc.Get_Salary_Functionalty_Control()}ngOnInit(){this.Init_FireBase_Data()}static{this.\u0275fac=function(r){return new(r||n)(Z(rn),Z(Ht),Z(Ec),Z(Qa))}}static{this.\u0275cmp=ct({type:n,selectors:[["app-root"]],decls:4,vars:4,consts:[[4,"ngIf"],["class","w-full xl:w-8/12 mb-12 xl:mb-0 px-4 mx-auto mt-24",4,"ngIf"],[1,"w-full","xl:w-8/12","mb-12","xl:mb-0","px-4","mx-auto","mt-24"]],template:function(r,i){r&1&&vt(0,z3,1,0,"sign-in",0)(1,G3,1,0,"sign-up",0)(2,W3,4,0,"div",1)(3,K3,1,0,"calender-popup-event"),r&2&&(ye("ngIf",!i.LoginState&&i.Sign_In_Up_Serv.SignIn),Y(),ye("ngIf",!i.LoginState&&i.Sign_In_Up_Serv.SignUp),Y(),ye("ngIf",i.LoginState),Y(),Bn(3,i.popup_event?3:-1))},dependencies:[Ii,SR,TR,AR,xR,MR,RR]})}}return n})();var kR=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Ye({type:n,bootstrap:[NR]})}static{this.\u0275inj=Qe({imports:[JS,IA,HS,NT,RT,LA.initializeApp(tg.firebaseConfig),jA,ER]})}}return n})();ZS().bootstrapModule(kR).catch(n=>console.error(n));
