import{a as W,b as ke,c as Mg,d as k,e as jw,f as Ul,g as Uw,h as Bw,i as $w,j as Rg,k as Hw,l as yc,m as Ng,n as Bl,o as qw,p as zw,q as Pg,r as tt,s as ho,t as cr,u as $l,v as vc,w as Gw,x as Ww,y as fi,z as At}from"./chunk-F2DTFGEP.js";var Kw=null;var kg=1,Fg=Symbol("SIGNAL");function we(n){let e=Kw;return Kw=n,e}var Qw={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function yN(n){if(!(Lg(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===kg)){if(!n.producerMustRecompute(n)&&!Og(n)){n.dirty=!1,n.lastCleanEpoch=kg;return}n.producerRecomputeValue(n),n.dirty=!1,n.lastCleanEpoch=kg}}function Yw(n){return n&&(n.nextProducerIndex=0),we(n)}function Zw(n,e){if(we(e),!(!n||n.producerNode===void 0||n.producerIndexOfThis===void 0||n.producerLastReadVersion===void 0)){if(Lg(n))for(let t=n.nextProducerIndex;t<n.producerNode.length;t++)Vg(n.producerNode[t],n.producerIndexOfThis[t]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function Og(n){Hl(n);for(let e=0;e<n.producerNode.length;e++){let t=n.producerNode[e],r=n.producerLastReadVersion[e];if(r!==t.version||(yN(t),r!==t.version))return!0}return!1}function Jw(n){if(Hl(n),Lg(n))for(let e=0;e<n.producerNode.length;e++)Vg(n.producerNode[e],n.producerIndexOfThis[e]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function Vg(n,e){if(vN(n),Hl(n),n.liveConsumerNode.length===1)for(let r=0;r<n.producerNode.length;r++)Vg(n.producerNode[r],n.producerIndexOfThis[r]);let t=n.liveConsumerNode.length-1;if(n.liveConsumerNode[e]=n.liveConsumerNode[t],n.liveConsumerIndexOfThis[e]=n.liveConsumerIndexOfThis[t],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,e<n.liveConsumerNode.length){let r=n.liveConsumerIndexOfThis[e],i=n.liveConsumerNode[e];Hl(i),i.producerIndexOfThis[r]=e}}function Lg(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function Hl(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}function vN(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}function xN(){throw new Error}var bN=xN;function Xw(n){bN=n}function le(n){return typeof n=="function"}function vs(n){let t=n(r=>{Error.call(r),r.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var ql=vs(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function fo(n,e){if(n){let t=n.indexOf(e);0<=t&&n.splice(t,1)}}var ct=class n{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let o of t)o.remove(this);else t.remove(this);let{initialTeardown:r}=this;if(le(r))try{r()}catch(o){e=o instanceof ql?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{eE(o)}catch(s){e=e??[],s instanceof ql?e=[...e,...s.errors]:e.push(s)}}if(e)throw new ql(e)}}add(e){var t;if(e&&e!==this)if(this.closed)eE(e);else{if(e instanceof n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}}_hasParent(e){let{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){let{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&fo(t,e)}remove(e){let{_finalizers:t}=this;t&&fo(t,e),e instanceof n&&e._removeParent(this)}};ct.EMPTY=(()=>{let n=new ct;return n.closed=!0,n})();var jg=ct.EMPTY;function zl(n){return n instanceof ct||n&&"closed"in n&&le(n.remove)&&le(n.add)&&le(n.unsubscribe)}function eE(n){le(n)?n():n.unsubscribe()}var qn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var xs={setTimeout(n,e,...t){let{delegate:r}=xs;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){let{delegate:e}=xs;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function Gl(n){xs.setTimeout(()=>{let{onUnhandledError:e}=qn;if(e)e(n);else throw n})}function xc(){}var tE=Ug("C",void 0,void 0);function nE(n){return Ug("E",void 0,n)}function rE(n){return Ug("N",n,void 0)}function Ug(n,e,t){return{kind:n,value:e,error:t}}var po=null;function bs(n){if(qn.useDeprecatedSynchronousErrorHandling){let e=!po;if(e&&(po={errorThrown:!1,error:null}),n(),e){let{errorThrown:t,error:r}=po;if(po=null,t)throw r}}else n()}function iE(n){qn.useDeprecatedSynchronousErrorHandling&&po&&(po.errorThrown=!0,po.error=n)}var go=class extends ct{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,zl(e)&&e.add(this)):this.destination=IN}static create(e,t,r){return new Vr(e,t,r)}next(e){this.isStopped?$g(rE(e),this):this._next(e)}error(e){this.isStopped?$g(nE(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?$g(tE,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},wN=Function.prototype.bind;function Bg(n,e){return wN.call(n,e)}var Hg=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){Wl(r)}}error(e){let{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){Wl(r)}else Wl(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){Wl(t)}}},Vr=class extends go{constructor(e,t,r){super();let i;if(le(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let o;this&&qn.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Bg(e.next,o),error:e.error&&Bg(e.error,o),complete:e.complete&&Bg(e.complete,o)}):i=e}this.destination=new Hg(i)}};function Wl(n){qn.useDeprecatedSynchronousErrorHandling?iE(n):Gl(n)}function EN(n){throw n}function $g(n,e){let{onStoppedNotification:t}=qn;t&&xs.setTimeout(()=>t(n,e))}var IN={closed:!0,next:xc,error:EN,complete:xc};var ws=typeof Symbol=="function"&&Symbol.observable||"@@observable";function rn(n){return n}function qg(...n){return zg(n)}function zg(n){return n.length===0?rn:n.length===1?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}var ve=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){let r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){let o=DN(t)?t:new Vr(t,r,i);return bs(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return r=oE(r),new r((i,o)=>{let s=new Vr({next:a=>{try{t(a)}catch(c){o(c),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(t){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(t)}[ws](){return this}pipe(...t){return zg(t)(this)}toPromise(t){return t=oE(t),new t((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return n.create=e=>new n(e),n})();function oE(n){var e;return(e=n??qn.Promise)!==null&&e!==void 0?e:Promise}function CN(n){return n&&le(n.next)&&le(n.error)&&le(n.complete)}function DN(n){return n&&n instanceof go||CN(n)&&zl(n)}function Gg(n){return le(n?.lift)}function ge(n){return e=>{if(Gg(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function me(n,e,t,r,i){return new Wg(n,e,t,r,i)}var Wg=class extends go{constructor(e,t,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(c){e.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Es(){return ge((n,e)=>{let t=null;n._refCount++;let r=me(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount){t=null;return}let i=n._connection,o=t;t=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}var Is=class extends ve{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,Gg(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new ct;let t=this.getSubject();e.add(this.source.subscribe(me(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=ct.EMPTY)}return e}refCount(){return Es()(this)}};var sE=vs(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ut=(()=>{class n extends ve{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let r=new Kl(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new sE}next(t){bs(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(t)}})}error(t){bs(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){bs(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:r,isStopped:i,observers:o}=this;return r||i?jg:(this.currentObservers=null,o.push(t),new ct(()=>{this.currentObservers=null,fo(o,t)}))}_checkFinalizedStatuses(t){let{hasError:r,thrownError:i,isStopped:o}=this;r?t.error(i):o&&t.complete()}asObservable(){let t=new ve;return t.source=this,t}}return n.create=(e,t)=>new Kl(e,t),n})(),Kl=class extends ut{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.next)===null||r===void 0||r.call(t,e)}error(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.error)===null||r===void 0||r.call(t,e)}complete(){var e,t;(t=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||t===void 0||t.call(e)}_subscribe(e){var t,r;return(r=(t=this.source)===null||t===void 0?void 0:t.subscribe(e))!==null&&r!==void 0?r:jg}};var Ft=class extends ut{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){let{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var bc={now(){return(bc.delegate||Date).now()},delegate:void 0};var Ql=class extends ut{constructor(e=1/0,t=1/0,r=bc){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){let{isStopped:t,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:o,_windowTime:s}=this;t||(r.push(e),!i&&r.push(o.now()+s)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();let t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,o=i.slice();for(let s=0;s<o.length&&!e.closed;s+=r?1:2)e.next(o[s]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){let{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:i}=this,o=(i?1:2)*e;if(e<1/0&&o<r.length&&r.splice(0,r.length-o),!i){let s=t.now(),a=0;for(let c=1;c<r.length&&r[c]<=s;c+=2)a=c;a&&r.splice(0,a+1)}}};var Yl=class extends ct{constructor(e,t){super()}schedule(e,t=0){return this}};var wc={setInterval(n,e,...t){let{delegate:r}=wc;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){let{delegate:e}=wc;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};var Cs=class extends Yl{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,t)),this.pending=!0,this.delay=t,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,t),this}requestAsyncId(e,t,r=0){return wc.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return t;t!=null&&wc.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,t);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,fo(r,this),e!=null&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}};var Ds=class n{constructor(e,t=n.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}};Ds.now=bc.now;var Ss=class extends Ds{constructor(e,t=Ds.now){super(e,t),this.actions=[],this._active=!1}flush(e){let{actions:t}=this;if(this._active){t.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}};var Ec=new Ss(Cs);var Zl=class extends Cs{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,t,r):(e.flush(this),0)}};var Jl=class extends Ss{};var Kg=new Jl(Zl);var on=new ve(n=>n.complete());function aE(n){return n&&le(n.schedule)}function Qg(n){return n[n.length-1]}function Xl(n){return le(Qg(n))?n.pop():void 0}function ur(n){return aE(Qg(n))?n.pop():void 0}function cE(n,e){return typeof Qg(n)=="number"?n.pop():e}var ed=n=>n&&typeof n.length=="number"&&typeof n!="function";function td(n){return le(n?.then)}function nd(n){return le(n[ws])}function rd(n){return Symbol.asyncIterator&&le(n?.[Symbol.asyncIterator])}function id(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function SN(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var od=SN();function sd(n){return le(n?.[od])}function ad(n){return Uw(this,arguments,function*(){let t=n.getReader();try{for(;;){let{value:r,done:i}=yield Ul(t.read());if(i)return yield Ul(void 0);yield yield Ul(r)}}finally{t.releaseLock()}})}function cd(n){return le(n?.getReader)}function Ke(n){if(n instanceof ve)return n;if(n!=null){if(nd(n))return TN(n);if(ed(n))return AN(n);if(td(n))return MN(n);if(rd(n))return uE(n);if(sd(n))return RN(n);if(cd(n))return NN(n)}throw id(n)}function TN(n){return new ve(e=>{let t=n[ws]();if(le(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function AN(n){return new ve(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}function MN(n){return new ve(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,Gl)})}function RN(n){return new ve(e=>{for(let t of n)if(e.next(t),e.closed)return;e.complete()})}function uE(n){return new ve(e=>{PN(n,e).catch(t=>e.error(t))})}function NN(n){return uE(ad(n))}function PN(n,e){var t,r,i,o;return jw(this,void 0,void 0,function*(){try{for(t=Bw(n);r=yield t.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=t.return)&&(yield o.call(t))}finally{if(i)throw i.error}}e.complete()})}function fn(n,e,t,r=0,i=!1){let o=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(o),!i)return o}function Rn(n,e=0){return ge((t,r)=>{t.subscribe(me(r,i=>fn(r,n,()=>r.next(i),e),()=>fn(r,n,()=>r.complete(),e),i=>fn(r,n,()=>r.error(i),e)))})}function zn(n,e=0){return ge((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function lE(n,e){return Ke(n).pipe(zn(e),Rn(e))}function dE(n,e){return Ke(n).pipe(zn(e),Rn(e))}function hE(n,e){return new ve(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}function fE(n,e){return new ve(t=>{let r;return fn(t,e,()=>{r=n[od](),fn(t,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){t.error(s);return}o?t.complete():t.next(i)},0,!0)}),()=>le(r?.return)&&r.return()})}function ud(n,e){if(!n)throw new Error("Iterable cannot be null");return new ve(t=>{fn(t,e,()=>{let r=n[Symbol.asyncIterator]();fn(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function pE(n,e){return ud(ad(n),e)}function gE(n,e){if(n!=null){if(nd(n))return lE(n,e);if(ed(n))return hE(n,e);if(td(n))return dE(n,e);if(rd(n))return ud(n,e);if(sd(n))return fE(n,e);if(cd(n))return pE(n,e)}throw id(n)}function Ee(n,e){return e?gE(n,e):Ke(n)}function oe(...n){let e=ur(n);return Ee(n,e)}function Ts(n,e){let t=le(n)?n:()=>n,r=i=>i.error(t());return new ve(e?i=>e.schedule(r,0,i):r)}function Yg(n){return!!n&&(n instanceof ve||le(n.lift)&&le(n.subscribe))}var Lr=vs(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function te(n,e){return ge((t,r)=>{let i=0;t.subscribe(me(r,o=>{r.next(n.call(e,o,i++))}))})}var{isArray:kN}=Array;function FN(n,e){return kN(e)?n(...e):n(e)}function ld(n){return te(e=>FN(n,e))}var{isArray:ON}=Array,{getPrototypeOf:VN,prototype:LN,keys:jN}=Object;function dd(n){if(n.length===1){let e=n[0];if(ON(e))return{args:e,keys:null};if(UN(e)){let t=jN(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}function UN(n){return n&&typeof n=="object"&&VN(n)===LN}function hd(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function Ic(...n){let e=ur(n),t=Xl(n),{args:r,keys:i}=dd(n);if(r.length===0)return Ee([],e);let o=new ve(BN(r,e,i?s=>hd(i,s):rn));return t?o.pipe(ld(t)):o}function BN(n,e,t=rn){return r=>{mE(e,()=>{let{length:i}=n,o=new Array(i),s=i,a=i;for(let c=0;c<i;c++)mE(e,()=>{let l=Ee(n[c],e),h=!1;l.subscribe(me(r,f=>{o[c]=f,h||(h=!0,a--),a||r.next(t(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function mE(n,e,t){n?fn(t,n,e):e()}function _E(n,e,t,r,i,o,s,a){let c=[],l=0,h=0,f=!1,m=()=>{f&&!c.length&&!l&&e.complete()},_=D=>l<r?T(D):c.push(D),T=D=>{o&&e.next(D),l++;let A=!1;Ke(t(D,h++)).subscribe(me(e,U=>{i?.(U),o?_(U):e.next(U)},()=>{A=!0},void 0,()=>{if(A)try{for(l--;c.length&&l<r;){let U=c.shift();s?fn(e,s,()=>T(U)):T(U)}m()}catch(U){e.error(U)}}))};return n.subscribe(me(e,_,()=>{f=!0,m()})),()=>{a?.()}}function mt(n,e,t=1/0){return le(e)?mt((r,i)=>te((o,s)=>e(r,o,i,s))(Ke(n(r,i))),t):(typeof e=="number"&&(t=e),ge((r,i)=>_E(r,i,n,t)))}function pi(n=1/0){return mt(rn,n)}function yE(){return pi(1)}function As(...n){return yE()(Ee(n,ur(n)))}function fd(n){return new ve(e=>{Ke(n()).subscribe(e)})}function Zg(...n){let e=Xl(n),{args:t,keys:r}=dd(n),i=new ve(o=>{let{length:s}=t;if(!s){o.complete();return}let a=new Array(s),c=s,l=s;for(let h=0;h<s;h++){let f=!1;Ke(t[h]).subscribe(me(o,m=>{f||(f=!0,l--),a[h]=m},()=>c--,void 0,()=>{(!c||!f)&&(l||o.next(r?hd(r,a):a),o.complete())}))}});return e?i.pipe(ld(e)):i}function Jg(...n){let e=ur(n),t=cE(n,1/0),r=n;return r.length?r.length===1?Ke(r[0]):pi(t)(Ee(r,e)):on}function It(n,e){return ge((t,r)=>{let i=0;t.subscribe(me(r,o=>n.call(e,o,i++)&&r.next(o)))})}function gi(n){return ge((e,t)=>{let r=null,i=!1,o;r=e.subscribe(me(t,void 0,void 0,s=>{o=Ke(n(s,gi(n)(e))),r?(r.unsubscribe(),r=null,o.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(t))})}function vE(n,e,t,r,i){return(o,s)=>{let a=t,c=e,l=0;o.subscribe(me(s,h=>{let f=l++;c=a?n(c,h,f):(a=!0,h),r&&s.next(c)},i&&(()=>{a&&s.next(c),s.complete()})))}}function jr(n,e){return le(e)?mt(n,e,1):mt(n,1)}function mi(n){return ge((e,t)=>{let r=!1;e.subscribe(me(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function Ur(n){return n<=0?()=>on:ge((e,t)=>{let r=0;e.subscribe(me(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function Xg(n){return te(()=>n)}function em(n,e=rn){return n=n??$N,ge((t,r)=>{let i,o=!0;t.subscribe(me(r,s=>{let a=e(s);(o||!n(i,a))&&(o=!1,i=a,r.next(s))}))})}function $N(n,e){return n===e}function pd(n=HN){return ge((e,t)=>{let r=!1;e.subscribe(me(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function HN(){return new Lr}function _i(n){return ge((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function Nn(n,e){let t=arguments.length>=2;return r=>r.pipe(n?It((i,o)=>n(i,o,r)):rn,Ur(1),t?mi(e):pd(()=>new Lr))}function Ms(n){return n<=0?()=>on:ge((e,t)=>{let r=[];e.subscribe(me(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(let i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function tm(n,e){let t=arguments.length>=2;return r=>r.pipe(n?It((i,o)=>n(i,o,r)):rn,Ms(1),t?mi(e):pd(()=>new Lr))}function Cc(){return ge((n,e)=>{let t,r=!1;n.subscribe(me(e,i=>{let o=t;t=i,r&&e.next([o,i]),r=!0}))})}function mo(n,e){return ge(vE(n,e,arguments.length>=2,!0))}function xE(n={}){let{connector:e=()=>new ut,resetOnError:t=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=n;return o=>{let s,a,c,l=0,h=!1,f=!1,m=()=>{a?.unsubscribe(),a=void 0},_=()=>{m(),s=c=void 0,h=f=!1},T=()=>{let D=s;_(),D?.unsubscribe()};return ge((D,A)=>{l++,!f&&!h&&m();let U=c=c??e();A.add(()=>{l--,l===0&&!f&&!h&&(a=nm(T,i))}),U.subscribe(A),!s&&l>0&&(s=new Vr({next:Y=>U.next(Y),error:Y=>{f=!0,m(),a=nm(_,t,Y),U.error(Y)},complete:()=>{h=!0,m(),a=nm(_,r),U.complete()}}),Ke(D).subscribe(s))})(o)}}function nm(n,e,...t){if(e===!0){n();return}if(e===!1)return;let r=new Vr({next:()=>{r.unsubscribe(),n()}});return Ke(e(...t)).subscribe(r)}function gd(n,e,t){let r,i=!1;return n&&typeof n=="object"?{bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:t}=n:r=n??1/0,xE({connector:()=>new Ql(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function _o(...n){let e=ur(n);return ge((t,r)=>{(e?As(n,t,e):As(n,t)).subscribe(r)})}function Ze(n,e){return ge((t,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();t.subscribe(me(r,c=>{i?.unsubscribe();let l=0,h=o++;Ke(n(c,h)).subscribe(i=me(r,f=>r.next(e?e(c,f,h,l++):f),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function md(n,e){return le(e)?Ze(()=>n,e):Ze(()=>n)}function rm(n){return ge((e,t)=>{Ke(n).subscribe(me(t,()=>t.complete(),xc)),!t.closed&&e.subscribe(t)})}function _t(n,e,t){let r=le(n)||e||t?{next:n,error:e,complete:t}:n;return r?ge((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(me(o,c=>{var l;(l=r.next)===null||l===void 0||l.call(r,c),o.next(c)},()=>{var c;a=!1,(c=r.complete)===null||c===void 0||c.call(r),o.complete()},c=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,c),o.error(c)},()=>{var c,l;a&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):rn}var qN="https://g.co/ng/security#xss",ne=class extends Error{constructor(e,t){super(Kd(e,t)),this.code=e}};function Kd(n,e){return`${`NG0${Math.abs(n)}`}${e?": "+e:""}`}function Hc(n){return{toString:n}.toString()}var _d="__parameters__";function zN(n){return function(...t){if(n){let r=n(...t);for(let i in r)this[i]=r[i]}}}function rI(n,e,t){return Hc(()=>{let r=zN(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(c,l,h){let f=c.hasOwnProperty(_d)?c[_d]:Object.defineProperty(c,_d,{value:[]})[_d];for(;f.length<=h;)f.push(null);return(f[h]=f[h]||[]).push(s),c}}return t&&(i.prototype=Object.create(t.prototype)),i.prototype.ngMetadataName=n,i.annotationCls=i,i})}var Ot=globalThis;function je(n){for(let e in n)if(n[e]===je)return e;throw Error("Could not find renamed property on target object.")}function GN(n,e){for(let t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function an(n){if(typeof n=="string")return n;if(Array.isArray(n))return"["+n.map(an).join(", ")+"]";if(n==null)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;let e=n.toString();if(e==null)return""+e;let t=e.indexOf(`
`);return t===-1?e:e.substring(0,t)}function bE(n,e){return n==null||n===""?e===null?"":e:e==null||e===""?n:n+" "+e}var WN=je({__forward_ref__:je});function mr(n){return n.__forward_ref__=mr,n.toString=function(){return an(this())},n}function sn(n){return iI(n)?n():n}function iI(n){return typeof n=="function"&&n.hasOwnProperty(WN)&&n.__forward_ref__===mr}function Q(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function nt(n){return{providers:n.providers||[],imports:n.imports||[]}}function Qd(n){return wE(n,sI)||wE(n,aI)}function oI(n){return Qd(n)!==null}function wE(n,e){return n.hasOwnProperty(e)?n[e]:null}function KN(n){let e=n&&(n[sI]||n[aI]);return e||null}function EE(n){return n&&(n.hasOwnProperty(IE)||n.hasOwnProperty(QN))?n[IE]:null}var sI=je({\u0275prov:je}),IE=je({\u0275inj:je}),aI=je({ngInjectableDef:je}),QN=je({ngInjectorDef:je}),G=class{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=Q({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function cI(n){return n&&!!n.\u0275providers}var YN=je({\u0275cmp:je}),ZN=je({\u0275dir:je}),JN=je({\u0275pipe:je}),XN=je({\u0275mod:je}),Dd=je({\u0275fac:je}),Dc=je({__NG_ELEMENT_ID__:je}),CE=je({__NG_ENV_ID__:je});function Tc(n){return typeof n=="string"?n:n==null?"":String(n)}function e2(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():Tc(n)}function t2(n,e){let t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new ne(-200,n)}function l0(n,e){throw new ne(-201,!1)}var xe=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(xe||{}),xm;function uI(){return xm}function pn(n){let e=xm;return xm=n,e}function lI(n,e,t){let r=Qd(n);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(t&xe.Optional)return null;if(e!==void 0)return e;l0(n,"Injector")}var n2={},Ac=n2,bm="__NG_DI_FLAG__",Sd="ngTempTokenPath",r2="ngTokenPath",i2=/\n/gm,o2="\u0275",DE="__source",Fs;function s2(){return Fs}function yi(n){let e=Fs;return Fs=n,e}function a2(n,e=xe.Default){if(Fs===void 0)throw new ne(-203,!1);return Fs===null?lI(n,void 0,e):Fs.get(n,e&xe.Optional?null:void 0,e)}function B(n,e=xe.Default){return(uI()||a2)(sn(n),e)}function $(n,e=xe.Default){return B(n,Yd(e))}function Yd(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function wm(n){let e=[];for(let t=0;t<n.length;t++){let r=sn(n[t]);if(Array.isArray(r)){if(r.length===0)throw new ne(900,!1);let i,o=xe.Default;for(let s=0;s<r.length;s++){let a=r[s],c=c2(a);typeof c=="number"?c===-1?i=a.token:o|=c:i=a}e.push(B(i,o))}else e.push(B(r))}return e}function dI(n,e){return n[bm]=e,n.prototype[bm]=e,n}function c2(n){return n[bm]}function u2(n,e,t,r){let i=n[Sd];throw e[DE]&&i.unshift(e[DE]),n.message=l2(`
`+n.message,i,t,r),n[r2]=i,n[Sd]=null,n}function l2(n,e,t,r=null){n=n&&n.charAt(0)===`
`&&n.charAt(1)==o2?n.slice(2):n;let i=an(e);if(Array.isArray(e))i=e.map(an).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):an(a)))}i=`{${o.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${n.replace(i2,`
  `)}`}var qc=dI(rI("Optional"),8);var hI=dI(rI("SkipSelf"),4);function bo(n,e){let t=n.hasOwnProperty(Dd);return t?n[Dd]:null}function d0(n,e){n.forEach(t=>Array.isArray(t)?d0(t,e):e(t))}function fI(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function Td(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function d2(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(i===1)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;){let o=i-2;n[i]=n[o],i--}n[e]=t,n[e+1]=r}}function h2(n,e,t){let r=zc(n,e);return r>=0?n[r|1]=t:(r=~r,d2(n,r,e,t)),r}function im(n,e){let t=zc(n,e);if(t>=0)return n[t|1]}function zc(n,e){return f2(n,e,1)}function f2(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){let o=r+(i-r>>1),s=n[o<<t];if(e===s)return o<<t;s>e?i=o:r=o+1}return~(i<<t)}var Vs={},Pn=[],Ls=new G(""),pI=new G("",-1),gI=new G(""),Ad=class{get(e,t=Ac){if(t===Ac){let r=new Error(`NullInjectorError: No provider for ${an(e)}!`);throw r.name="NullInjectorError",r}return t}},mI=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(mI||{}),hr=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(hr||{}),Vt=function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n}(Vt||{});function p2(n,e,t){let r=n.length;for(;;){let i=n.indexOf(e,t);if(i===-1)return i;if(i===0||n.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||n.charCodeAt(i+o)<=32)return i}t=i+1}}function Em(n,e,t){let r=0;for(;r<t.length;){let i=t[r];if(typeof i=="number"){if(i!==0)break;r++;let o=t[r++],s=t[r++],a=t[r++];n.setAttribute(e,s,a,o)}else{let o=i,s=t[++r];m2(o)?n.setProperty(e,o,s):n.setAttribute(e,o,s),r++}}return r}function g2(n){return n===3||n===4||n===6}function m2(n){return n.charCodeAt(0)===64}function Mc(n,e){if(!(e===null||e.length===0))if(n===null||n.length===0)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?t=i:t===0||(t===-1||t===2?SE(n,t,i,null,e[++r]):SE(n,t,i,null,null))}}return n}function SE(n,e,t,r,i){let o=0,s=n.length;if(e===-1)s=-1;else for(;o<n.length;){let a=n[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<n.length;){let a=n[o];if(typeof a=="number")break;if(a===t){if(r===null){i!==null&&(n[o+1]=i);return}else if(r===n[o+1]){n[o+2]=i;return}}o++,r!==null&&o++,i!==null&&o++}s!==-1&&(n.splice(s,0,e),o=s+1),n.splice(o++,0,t),r!==null&&n.splice(o++,0,r),i!==null&&n.splice(o++,0,i)}var _I="ng-template";function _2(n,e,t,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&p2(e[i+1].toLowerCase(),t,0)!==-1)return!0}else if(h0(n))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===t)return!0}return!1}function h0(n){return n.type===4&&n.value!==_I}function y2(n,e,t){let r=n.type===4&&!t?_I:n.value;return e===r}function v2(n,e,t){let r=4,i=n.attrs,o=i!==null?w2(i):0,s=!1;for(let a=0;a<e.length;a++){let c=e[a];if(typeof c=="number"){if(!s&&!Gn(r)&&!Gn(c))return!1;if(s&&Gn(c))continue;s=!1,r=c|r&1;continue}if(!s)if(r&4){if(r=2|r&1,c!==""&&!y2(n,c,t)||c===""&&e.length===1){if(Gn(r))return!1;s=!0}}else if(r&8){if(i===null||!_2(n,i,c,t)){if(Gn(r))return!1;s=!0}}else{let l=e[++a],h=x2(c,i,h0(n),t);if(h===-1){if(Gn(r))return!1;s=!0;continue}if(l!==""){let f;if(h>o?f="":f=i[h+1].toLowerCase(),r&2&&l!==f){if(Gn(r))return!1;s=!0}}}}return Gn(r)||s}function Gn(n){return(n&1)===0}function x2(n,e,t,r){if(e===null)return-1;let i=0;if(r||!t){let o=!1;for(;i<e.length;){let s=e[i];if(s===n)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return E2(e,n)}function b2(n,e,t=!1){for(let r=0;r<e.length;r++)if(v2(n,e[r],t))return!0;return!1}function w2(n){for(let e=0;e<n.length;e++){let t=n[e];if(g2(t))return e}return n.length}function E2(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){let r=n[t];if(typeof r=="number")return-1;if(r===e)return t;t++}return-1}function TE(n,e){return n?":not("+e.trim()+")":e}function I2(n){let e=n[0],t=1,r=2,i="",o=!1;for(;t<n.length;){let s=n[t];if(typeof s=="string")if(r&2){let a=n[++t];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!Gn(s)&&(e+=TE(o,i),i=""),r=s,o=o||!Gn(r);t++}return i!==""&&(e+=TE(o,i)),e}function C2(n){return n.map(I2).join(",")}function D2(n){let e=[],t=[],r=1,i=2;for(;r<n.length;){let o=n[r];if(typeof o=="string")i===2?o!==""&&e.push(o,n[++r]):i===8&&t.push(o);else{if(!Gn(i))break;i=o}r++}return{attrs:e,classes:t}}function qe(n){return Hc(()=>{let e=wI(n),t=ke(W({},e),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===mI.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||hr.Emulated,styles:n.styles||Pn,_:null,schemas:n.schemas||null,tView:null,id:""});EI(t);let r=n.dependencies;return t.directiveDefs=ME(r,!1),t.pipeDefs=ME(r,!0),t.id=A2(t),t})}function S2(n){return xi(n)||yI(n)}function T2(n){return n!==null}function rt(n){return Hc(()=>({type:n.type,bootstrap:n.bootstrap||Pn,declarations:n.declarations||Pn,imports:n.imports||Pn,exports:n.exports||Pn,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function AE(n,e){if(n==null)return Vs;let t={};for(let r in n)if(n.hasOwnProperty(r)){let i=n[r],o,s,a=Vt.None;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o):(o=i,s=i),e?(t[o]=a!==Vt.None?[r,a]:r,e[o]=s):t[o]=r}return t}function Dt(n){return Hc(()=>{let e=wI(n);return EI(e),e})}function Zd(n){return{type:n.type,name:n.name,factory:null,pure:n.pure!==!1,standalone:n.standalone===!0,onDestroy:n.type.prototype.ngOnDestroy||null}}function xi(n){return n[YN]||null}function yI(n){return n[ZN]||null}function vI(n){return n[JN]||null}function xI(n){let e=xi(n)||yI(n)||vI(n);return e!==null?e.standalone:!1}function bI(n,e){let t=n[XN]||null;if(!t&&e===!0)throw new Error(`Type ${an(n)} does not have '\u0275mod' property.`);return t}function wI(n){let e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:n.inputs||Vs,exportAs:n.exportAs||null,standalone:n.standalone===!0,signals:n.signals===!0,selectors:n.selectors||Pn,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:AE(n.inputs,e),outputs:AE(n.outputs),debugInfo:null}}function EI(n){n.features?.forEach(e=>e(n))}function ME(n,e){if(!n)return null;let t=e?vI:S2;return()=>(typeof n=="function"?n():n).map(r=>t(r)).filter(T2)}function A2(n){let e=0,t=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,n.consts,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery].join("|");for(let i of t)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function Jd(n){return{\u0275providers:n}}function M2(...n){return{\u0275providers:II(!0,n),\u0275fromNgModule:!0}}function II(n,...e){let t=[],r=new Set,i,o=s=>{t.push(s)};return d0(e,s=>{let a=s;Im(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&CI(i,o),t}function CI(n,e){for(let t=0;t<n.length;t++){let{ngModule:r,providers:i}=n[t];f0(i,o=>{e(o,r)})}}function Im(n,e,t,r){if(n=sn(n),!n)return!1;let i=null,o=EE(n),s=!o&&xi(n);if(!o&&!s){let c=n.ngModule;if(o=EE(c),o)i=c;else return!1}else{if(s&&!s.standalone)return!1;i=n}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let c=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of c)Im(l,e,t,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let l;try{d0(o.imports,h=>{Im(h,e,t,r)&&(l||=[],l.push(h))})}finally{}l!==void 0&&CI(l,e)}if(!a){let l=bo(i)||(()=>new i);e({provide:i,useFactory:l,deps:Pn},i),e({provide:gI,useValue:i,multi:!0},i),e({provide:Ls,useValue:()=>B(i),multi:!0},i)}let c=o.providers;if(c!=null&&!a){let l=n;f0(c,h=>{e(h,l)})}}else return!1;return i!==n&&n.providers!==void 0}function f0(n,e){for(let t of n)cI(t)&&(t=t.\u0275providers),Array.isArray(t)?f0(t,e):e(t)}var R2=je({provide:String,useValue:je});function DI(n){return n!==null&&typeof n=="object"&&R2 in n}function N2(n){return!!(n&&n.useExisting)}function P2(n){return!!(n&&n.useFactory)}function js(n){return typeof n=="function"}function k2(n){return!!n.useClass}var Xd=new G(""),bd={},F2={},om;function p0(){return om===void 0&&(om=new Ad),om}var zt=class{},Rc=class extends zt{get destroyed(){return this._destroyed}constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Dm(e,s=>this.processProvider(s)),this.records.set(pI,Rs(void 0,this)),i.has("environment")&&this.records.set(zt,Rs(void 0,this));let o=this.records.get(Xd);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(gI,Pn,xe.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=we(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),we(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let t=yi(this),r=pn(void 0),i;try{return e()}finally{yi(t),pn(r)}}get(e,t=Ac,r=xe.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(CE))return e[CE](this);r=Yd(r);let i,o=yi(this),s=pn(void 0);try{if(!(r&xe.SkipSelf)){let c=this.records.get(e);if(c===void 0){let l=U2(e)&&Qd(e);l&&this.injectableDefInScope(l)?c=Rs(Cm(e),bd):c=null,this.records.set(e,c)}if(c!=null)return this.hydrate(e,c)}let a=r&xe.Self?p0():this.parent;return t=r&xe.Optional&&t===Ac?null:t,a.get(e,t)}catch(a){if(a.name==="NullInjectorError"){if((a[Sd]=a[Sd]||[]).unshift(an(e)),o)throw a;return u2(a,e,"R3InjectorError",this.source)}else throw a}finally{pn(s),yi(o)}}resolveInjectorInitializers(){let e=we(null),t=yi(this),r=pn(void 0),i;try{let o=this.get(Ls,Pn,xe.Self);for(let s of o)s()}finally{yi(t),pn(r),we(e)}}toString(){let e=[],t=this.records;for(let r of t.keys())e.push(an(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new ne(205,!1)}processProvider(e){e=sn(e);let t=js(e)?e:sn(e&&e.provide),r=V2(e);if(!js(e)&&e.multi===!0){let i=this.records.get(t);i||(i=Rs(void 0,bd,!0),i.factory=()=>wm(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t){let r=we(null);try{return t.value===bd&&(t.value=F2,t.value=t.factory()),typeof t.value=="object"&&t.value&&j2(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{we(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let t=sn(e.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){let t=this._onDestroyHooks.indexOf(e);t!==-1&&this._onDestroyHooks.splice(t,1)}};function Cm(n){let e=Qd(n),t=e!==null?e.factory:bo(n);if(t!==null)return t;if(n instanceof G)throw new ne(204,!1);if(n instanceof Function)return O2(n);throw new ne(204,!1)}function O2(n){if(n.length>0)throw new ne(204,!1);let t=KN(n);return t!==null?()=>t.factory(n):()=>new n}function V2(n){if(DI(n))return Rs(void 0,n.useValue);{let e=SI(n);return Rs(e,bd)}}function SI(n,e,t){let r;if(js(n)){let i=sn(n);return bo(i)||Cm(i)}else if(DI(n))r=()=>sn(n.useValue);else if(P2(n))r=()=>n.useFactory(...wm(n.deps||[]));else if(N2(n))r=()=>B(sn(n.useExisting));else{let i=sn(n&&(n.useClass||n.provide));if(L2(n))r=()=>new i(...wm(n.deps));else return bo(i)||Cm(i)}return r}function Rs(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function L2(n){return!!n.deps}function j2(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function U2(n){return typeof n=="function"||typeof n=="object"&&n instanceof G}function Dm(n,e){for(let t of n)Array.isArray(t)?Dm(t,e):t&&cI(t)?Dm(t.\u0275providers,e):e(t)}function Yn(n,e){n instanceof Rc&&n.assertNotDestroyed();let t,r=yi(n),i=pn(void 0);try{return e()}finally{yi(r),pn(i)}}function TI(){return uI()!==void 0||s2()!=null}function B2(n){if(!TI())throw new ne(-203,!1)}function $2(n){let e=Ot.ng;if(e&&e.\u0275compilerFacade)return e.\u0275compilerFacade;throw new Error("JIT compiler unavailable")}function H2(n){return typeof n=="function"}var Hr=0,_e=1,ue=2,Gt=3,Wn=4,Zn=5,Nc=6,Pc=7,qt=8,Us=9,fr=10,Ct=11,kc=12,RE=13,zs=14,Kn=15,eh=16,Ns=17,Bs=18,th=19,AI=20,vi=21,sm=22,wo=23,gn=25,MI=1;var Eo=7,Md=8,Rd=9,cn=10,g0=function(n){return n[n.None=0]="None",n[n.HasTransplantedViews=2]="HasTransplantedViews",n}(g0||{});function vo(n){return Array.isArray(n)&&typeof n[MI]=="object"}function qr(n){return Array.isArray(n)&&n[MI]===!0}function RI(n){return(n.flags&4)!==0}function nh(n){return n.componentOffset>-1}function m0(n){return(n.flags&1)===1}function bi(n){return!!n.template}function q2(n){return(n[ue]&512)!==0}var Sm=class{constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}};function NI(n,e,t,r){e!==null?e.applyValueToInputSignal(e,r):n[t]=r}function zr(){return PI}function PI(n){return n.type.prototype.ngOnChanges&&(n.setInput=G2),z2}zr.ngInherit=!0;function z2(){let n=FI(this),e=n?.current;if(e){let t=n.previous;if(t===Vs)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function G2(n,e,t,r,i){let o=this.declaredInputs[r],s=FI(n)||W2(n,{previous:Vs,current:null}),a=s.current||(s.current={}),c=s.previous,l=c[o];a[o]=new Sm(l&&l.currentValue,t,c===Vs),NI(n,e,i,t)}var kI="__ngSimpleChanges__";function FI(n){return n[kI]||null}function W2(n,e){return n[kI]=e}var NE=null;var lr=function(n,e,t){NE?.(n,e,t)},OI="svg",K2="math",Q2=!1;function Y2(){return Q2}function pr(n){for(;Array.isArray(n);)n=n[Hr];return n}function VI(n,e){return pr(e[n])}function kn(n,e){return pr(e[n.index])}function _0(n,e){return n.data[e]}function LI(n,e){return n[e]}function Ei(n,e){let t=e[n];return vo(t)?t:t[Hr]}function y0(n){return(n[ue]&128)===128}function Z2(n){return qr(n[Gt])}function Nd(n,e){return e==null?null:n[e]}function jI(n){n[Ns]=0}function J2(n){n[ue]&1024||(n[ue]|=1024,y0(n)&&Fc(n))}function X2(n,e){for(;n>0;)e=e[zs],n--;return e}function v0(n){return!!(n[ue]&9216||n[wo]?.dirty)}function Tm(n){n[fr].changeDetectionScheduler?.notify(1),v0(n)?Fc(n):n[ue]&64&&(Y2()?(n[ue]|=1024,Fc(n)):n[fr].changeDetectionScheduler?.notify())}function Fc(n){n[fr].changeDetectionScheduler?.notify();let e=Oc(n);for(;e!==null&&!(e[ue]&8192||(e[ue]|=8192,!y0(e)));)e=Oc(e)}function UI(n,e){if((n[ue]&256)===256)throw new ne(911,!1);n[vi]===null&&(n[vi]=[]),n[vi].push(e)}function eP(n,e){if(n[vi]===null)return;let t=n[vi].indexOf(e);t!==-1&&n[vi].splice(t,1)}function Oc(n){let e=n[Gt];return qr(e)?e[Gt]:e}var ye={lFrame:KI(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function tP(){return ye.lFrame.elementDepthCount}function nP(){ye.lFrame.elementDepthCount++}function rP(){ye.lFrame.elementDepthCount--}function BI(){return ye.bindingsEnabled}function iP(){return ye.skipHydrationRootTNode!==null}function oP(n){return ye.skipHydrationRootTNode===n}function sP(){ye.skipHydrationRootTNode=null}function Ce(){return ye.lFrame.lView}function mn(){return ye.lFrame.tView}function De(n){return ye.lFrame.contextLView=n,n[qt]}function Se(n){return ye.lFrame.contextLView=null,n}function bn(){let n=$I();for(;n!==null&&n.type===64;)n=n.parent;return n}function $I(){return ye.lFrame.currentTNode}function aP(){let n=ye.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}function Gc(n,e){let t=ye.lFrame;t.currentTNode=n,t.isParent=e}function HI(){return ye.lFrame.isParent}function cP(){ye.lFrame.isParent=!1}function Wc(){let n=ye.lFrame,e=n.bindingRootIndex;return e===-1&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function uP(){return ye.lFrame.bindingIndex}function lP(n){return ye.lFrame.bindingIndex=n}function Gs(){return ye.lFrame.bindingIndex++}function qI(n){let e=ye.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function dP(){return ye.lFrame.inI18n}function hP(n,e){let t=ye.lFrame;t.bindingIndex=t.bindingRootIndex=n,Am(e)}function fP(){return ye.lFrame.currentDirectiveIndex}function Am(n){ye.lFrame.currentDirectiveIndex=n}function pP(n){let e=ye.lFrame.currentDirectiveIndex;return e===-1?null:n[e]}function zI(n){ye.lFrame.currentQueryIndex=n}function gP(n){let e=n[_e];return e.type===2?e.declTNode:e.type===1?n[Zn]:null}function GI(n,e,t){if(t&xe.SkipSelf){let i=e,o=n;for(;i=i.parent,i===null&&!(t&xe.Host);)if(i=gP(o),i===null||(o=o[zs],i.type&10))break;if(i===null)return!1;e=i,n=o}let r=ye.lFrame=WI();return r.currentTNode=e,r.lView=n,!0}function x0(n){let e=WI(),t=n[_e];ye.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function WI(){let n=ye.lFrame,e=n===null?null:n.child;return e===null?KI(n):e}function KI(n){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=e),e}function QI(){let n=ye.lFrame;return ye.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var YI=QI;function b0(){let n=QI();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function mP(n){return(ye.lFrame.contextLView=X2(n,ye.lFrame.contextLView))[qt]}function Ii(){return ye.lFrame.selectedIndex}function Io(n){ye.lFrame.selectedIndex=n}function w0(){let n=ye.lFrame;return _0(n.tView,n.selectedIndex)}function wn(){ye.lFrame.currentNamespace=OI}function En(){_P()}function _P(){ye.lFrame.currentNamespace=null}function yP(){return ye.lFrame.currentNamespace}var ZI=!0;function E0(){return ZI}function I0(n){ZI=n}function vP(n,e,t){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=PI(e);(t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s)}i&&(t.preOrderHooks??=[]).push(0-n,i),o&&((t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o))}function C0(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){let o=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:h}=o;s&&(n.contentHooks??=[]).push(-t,s),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),c&&(n.viewHooks??=[]).push(-t,c),l&&((n.viewHooks??=[]).push(t,l),(n.viewCheckHooks??=[]).push(t,l)),h!=null&&(n.destroyHooks??=[]).push(t,h)}}function wd(n,e,t){JI(n,e,3,t)}function Ed(n,e,t,r){(n[ue]&3)===t&&JI(n,e,t,r)}function am(n,e){let t=n[ue];(t&3)===e&&(t&=16383,t+=1,n[ue]=t)}function JI(n,e,t,r){let i=r!==void 0?n[Ns]&65535:0,o=r??-1,s=e.length-1,a=0;for(let c=i;c<s;c++)if(typeof e[c+1]=="number"){if(a=e[c],r!=null&&a>=r)break}else e[c]<0&&(n[Ns]+=65536),(a<o||o==-1)&&(xP(n,t,e,c),n[Ns]=(n[Ns]&4294901760)+c+2),c++}function PE(n,e){lr(4,n,e);let t=we(null);try{e.call(n)}finally{we(t),lr(5,n,e)}}function xP(n,e,t,r){let i=t[r]<0,o=t[r+1],s=i?-t[r]:t[r],a=n[s];i?n[ue]>>14<n[Ns]>>16&&(n[ue]&3)===e&&(n[ue]+=16384,PE(a,o)):PE(a,o)}var Os=-1,Co=class{constructor(e,t,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=r}};function bP(n){return n instanceof Co}function wP(n){return(n.flags&8)!==0}function EP(n){return(n.flags&16)!==0}function XI(n){return n!==Os}function Pd(n){return n&32767}function IP(n){return n>>16}function kd(n,e){let t=IP(n),r=e;for(;t>0;)r=r[zs],t--;return r}var Mm=!0;function Fd(n){let e=Mm;return Mm=n,e}var CP=256,eC=CP-1,tC=5,DP=0,dr={};function SP(n,e,t){let r;typeof t=="string"?r=t.charCodeAt(0)||0:t.hasOwnProperty(Dc)&&(r=t[Dc]),r==null&&(r=t[Dc]=DP++);let i=r&eC,o=1<<i;e.data[n+(i>>tC)]|=o}function Od(n,e){let t=nC(n,e);if(t!==-1)return t;let r=e[_e];r.firstCreatePass&&(n.injectorIndex=e.length,cm(r.data,n),cm(e,null),cm(r.blueprint,null));let i=D0(n,e),o=n.injectorIndex;if(XI(i)){let s=Pd(i),a=kd(i,e),c=a[_e].data;for(let l=0;l<8;l++)e[o+l]=a[s+l]|c[s+l]}return e[o+8]=i,o}function cm(n,e){n.push(0,0,0,0,0,0,0,0,e)}function nC(n,e){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||e[n.injectorIndex+8]===null?-1:n.injectorIndex}function D0(n,e){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;i!==null;){if(r=aC(i),r===null)return Os;if(t++,i=i[zs],r.injectorIndex!==-1)return r.injectorIndex|t<<16}return Os}function Rm(n,e,t){SP(n,e,t)}function rC(n,e,t){if(t&xe.Optional||n!==void 0)return n;l0(e,"NodeInjector")}function iC(n,e,t,r){if(t&xe.Optional&&r===void 0&&(r=null),!(t&(xe.Self|xe.Host))){let i=n[Us],o=pn(void 0);try{return i?i.get(e,r,t&xe.Optional):lI(e,r,t&xe.Optional)}finally{pn(o)}}return rC(r,e,t)}function oC(n,e,t,r=xe.Default,i){if(n!==null){if(e[ue]&2048&&!(r&xe.Self)){let s=NP(n,e,t,r,dr);if(s!==dr)return s}let o=sC(n,e,t,r,dr);if(o!==dr)return o}return iC(e,t,r,i)}function sC(n,e,t,r,i){let o=MP(t);if(typeof o=="function"){if(!GI(e,n,r))return r&xe.Host?rC(i,t,r):iC(e,t,r,i);try{let s;if(s=o(r),s==null&&!(r&xe.Optional))l0(t);else return s}finally{YI()}}else if(typeof o=="number"){let s=null,a=nC(n,e),c=Os,l=r&xe.Host?e[Kn][Zn]:null;for((a===-1||r&xe.SkipSelf)&&(c=a===-1?D0(n,e):e[a+8],c===Os||!FE(r,!1)?a=-1:(s=e[_e],a=Pd(c),e=kd(c,e)));a!==-1;){let h=e[_e];if(kE(o,a,h.data)){let f=TP(a,e,t,s,r,l);if(f!==dr)return f}c=e[a+8],c!==Os&&FE(r,e[_e].data[a+8]===l)&&kE(o,a,e)?(s=h,a=Pd(c),e=kd(c,e)):a=-1}}return i}function TP(n,e,t,r,i,o){let s=e[_e],a=s.data[n+8],c=r==null?nh(a)&&Mm:r!=s&&(a.type&3)!==0,l=i&xe.Host&&o===a,h=AP(a,s,t,c,l);return h!==null?$s(e,s,h,a):dr}function AP(n,e,t,r,i){let o=n.providerIndexes,s=e.data,a=o&1048575,c=n.directiveStart,l=n.directiveEnd,h=o>>20,f=r?a:a+h,m=i?a+h:l;for(let _=f;_<m;_++){let T=s[_];if(_<c&&t===T||_>=c&&T.type===t)return _}if(i){let _=s[c];if(_&&bi(_)&&_.type===t)return c}return null}function $s(n,e,t,r){let i=n[t],o=e.data;if(bP(i)){let s=i;s.resolving&&t2(e2(o[t]));let a=Fd(s.canSeeViewProviders);s.resolving=!0;let c,l=s.injectImpl?pn(s.injectImpl):null,h=GI(n,r,xe.Default);try{i=n[t]=s.factory(void 0,o,n,r),e.firstCreatePass&&t>=r.directiveStart&&vP(t,o[t],e)}finally{l!==null&&pn(l),Fd(a),s.resolving=!1,YI()}}return i}function MP(n){if(typeof n=="string")return n.charCodeAt(0)||0;let e=n.hasOwnProperty(Dc)?n[Dc]:void 0;return typeof e=="number"?e>=0?e&eC:RP:e}function kE(n,e,t){let r=1<<n;return!!(t[e+(n>>tC)]&r)}function FE(n,e){return!(n&xe.Self)&&!(n&xe.Host&&e)}var xo=class{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return oC(this._tNode,this._lView,e,Yd(r),t)}};function RP(){return new xo(bn(),Ce())}function Ci(n){return Hc(()=>{let e=n.prototype.constructor,t=e[Dd]||Nm(e),r=Object.prototype,i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){let o=i[Dd]||Nm(i);if(o&&o!==t)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Nm(n){return iI(n)?()=>{let e=Nm(sn(n));return e&&e()}:bo(n)}function NP(n,e,t,r,i){let o=n,s=e;for(;o!==null&&s!==null&&s[ue]&2048&&!(s[ue]&512);){let a=sC(o,s,t,r|xe.Self,dr);if(a!==dr)return a;let c=o.parent;if(!c){let l=s[AI];if(l){let h=l.get(t,dr,r);if(h!==dr)return h}c=aC(s),s=s[zs]}o=c}return i}function aC(n){let e=n[_e],t=e.type;return t===2?e.declTNode:t===1?n[Zn]:null}function OE(n,e=null,t=null,r){let i=cC(n,e,t,r);return i.resolveInjectorInitializers(),i}function cC(n,e=null,t=null,r,i=new Set){let o=[t||Pn,M2(n)];return r=r||(typeof n=="object"?void 0:an(n)),new Rc(o,e||p0(),r||null,i)}var In=(()=>{class n{static{this.THROW_IF_NOT_FOUND=Ac}static{this.NULL=new Ad}static create(t,r){if(Array.isArray(t))return OE({name:""},r,t,"");{let i=t.name??"";return OE({name:i},t.parent,t.providers,i)}}static{this.\u0275prov=Q({token:n,providedIn:"any",factory:()=>B(pI)})}static{this.__NG_ELEMENT_ID__=-1}}return n})();var PP="ngOriginalError";function um(n){return n[PP]}var gr=class{constructor(){this._console=console}handleError(e){let t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&um(e);for(;t&&um(t);)t=um(t);return t||null}},uC=new G("",{providedIn:"root",factory:()=>$(gr).handleError.bind(void 0)}),S0=(()=>{class n{static{this.__NG_ELEMENT_ID__=kP}static{this.__NG_ENV_ID__=t=>t}}return n})(),Pm=class extends S0{constructor(e){super(),this._lView=e}onDestroy(e){return UI(this._lView,e),()=>eP(this._lView,e)}};function kP(){return new Pm(Ce())}function FP(){return rh(bn(),Ce())}function rh(n,e){return new Di(kn(n,e))}var Di=(()=>{class n{constructor(t){this.nativeElement=t}static{this.__NG_ELEMENT_ID__=FP}}return n})();var km=class extends ut{constructor(e=!1){super(),this.destroyRef=void 0,this.__isAsync=e,TI()&&(this.destroyRef=$(S0,{optional:!0})??void 0)}emit(e){let t=we(null);try{super.next(e)}finally{we(t)}}subscribe(e,t,r){let i=e,o=t||(()=>null),s=r;if(e&&typeof e=="object"){let c=e;i=c.next?.bind(c),o=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(o=lm(o),i&&(i=lm(i)),s&&(s=lm(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof ct&&e.add(a),a}};function lm(n){return e=>{setTimeout(n,void 0,e)}}var lt=km;function lC(n){return(n.flags&128)===128}var dC=new Map,OP=0;function VP(){return OP++}function LP(n){dC.set(n[th],n)}function jP(n){dC.delete(n[th])}var VE="__ngContext__";function Do(n,e){vo(e)?(n[VE]=e[th],LP(e)):n[VE]=e}function hC(n){return pC(n[kc])}function fC(n){return pC(n[Wn])}function pC(n){for(;n!==null&&!qr(n);)n=n[Wn];return n}var Fm;function gC(n){Fm=n}function UP(){if(Fm!==void 0)return Fm;if(typeof document<"u")return document;throw new ne(210,!1)}var ih=new G("",{providedIn:"root",factory:()=>BP}),BP="ng",T0=new G(""),Wt=new G("",{providedIn:"platform",factory:()=>"unknown"});var A0=new G("",{providedIn:"root",factory:()=>UP().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var $P="h",HP="b";var qP=()=>null;function M0(n,e,t=!1){return qP(n,e,t)}var mC=!1,zP=new G("",{providedIn:"root",factory:()=>mC});var Om=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${qN})`}};function R0(n){return n instanceof Om?n.changingThisBreaksApplicationSecurity:n}function _C(n){return n instanceof Function?n():n}function GP(n){return(n??$(In)).get(Wt)==="browser"}var Br=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(Br||{}),WP;function N0(n,e){return WP(n,e)}function Ps(n,e,t,r,i){if(r!=null){let o,s=!1;qr(r)?o=r:vo(r)&&(s=!0,r=r[Hr]);let a=pr(r);n===0&&t!==null?i==null?bC(e,t,a):Vd(e,t,a,i||null,!0):n===1&&t!==null?Vd(e,t,a,i||null,!0):n===2?lk(e,a,s):n===3&&e.destroyNode(a),o!=null&&hk(e,n,o,t,i)}}function KP(n,e){return n.createText(e)}function QP(n,e,t){n.setValue(e,t)}function yC(n,e,t){return n.createElement(e,t)}function YP(n,e){vC(n,e),e[Hr]=null,e[Zn]=null}function ZP(n,e,t,r,i,o){r[Hr]=i,r[Zn]=e,sh(n,r,t,1,i,o)}function vC(n,e){e[fr].changeDetectionScheduler?.notify(1),sh(n,e,e[Ct],2,null,null)}function JP(n){let e=n[kc];if(!e)return dm(n[_e],n);for(;e;){let t=null;if(vo(e))t=e[kc];else{let r=e[cn];r&&(t=r)}if(!t){for(;e&&!e[Wn]&&e!==n;)vo(e)&&dm(e[_e],e),e=e[Gt];e===null&&(e=n),vo(e)&&dm(e[_e],e),t=e&&e[Wn]}e=t}}function XP(n,e,t,r){let i=cn+r,o=t.length;r>0&&(t[i-1][Wn]=e),r<o-cn?(e[Wn]=t[i],fI(t,cn+r,e)):(t.push(e),e[Wn]=null),e[Gt]=t;let s=e[eh];s!==null&&t!==s&&ek(s,e);let a=e[Bs];a!==null&&a.insertView(n),Tm(e),e[ue]|=128}function ek(n,e){let t=n[Rd],i=e[Gt][Gt][Kn];e[Kn]!==i&&(n[ue]|=g0.HasTransplantedViews),t===null?n[Rd]=[e]:t.push(e)}function xC(n,e){let t=n[Rd],r=t.indexOf(e);t.splice(r,1)}function Vc(n,e){if(n.length<=cn)return;let t=cn+e,r=n[t];if(r){let i=r[eh];i!==null&&i!==n&&xC(i,r),e>0&&(n[t-1][Wn]=r[Wn]);let o=Td(n,cn+e);YP(r[_e],r);let s=o[Bs];s!==null&&s.detachView(o[_e]),r[Gt]=null,r[Wn]=null,r[ue]&=-129}return r}function oh(n,e){if(!(e[ue]&256)){let t=e[Ct];t.destroyNode&&sh(n,e,t,3,null,null),JP(e)}}function dm(n,e){if(e[ue]&256)return;let t=we(null);try{e[ue]&=-129,e[ue]|=256,e[wo]&&Jw(e[wo]),nk(n,e),tk(n,e),e[_e].type===1&&e[Ct].destroy();let r=e[eh];if(r!==null&&qr(e[Gt])){r!==e[Gt]&&xC(r,e);let i=e[Bs];i!==null&&i.detachView(n)}jP(e)}finally{we(t)}}function tk(n,e){let t=n.cleanup,r=e[Pc];if(t!==null)for(let o=0;o<t.length-1;o+=2)if(typeof t[o]=="string"){let s=t[o+3];s>=0?r[s]():r[-s].unsubscribe(),o+=2}else{let s=r[t[o+1]];t[o].call(s)}r!==null&&(e[Pc]=null);let i=e[vi];if(i!==null){e[vi]=null;for(let o=0;o<i.length;o++){let s=i[o];s()}}}function nk(n,e){let t;if(n!=null&&(t=n.destroyHooks)!=null)for(let r=0;r<t.length;r+=2){let i=e[t[r]];if(!(i instanceof Co)){let o=t[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],c=o[s+1];lr(4,a,c);try{c.call(a)}finally{lr(5,a,c)}}else{lr(4,i,o);try{o.call(i)}finally{lr(5,i,o)}}}}}function rk(n,e,t){return ik(n,e.parent,t)}function ik(n,e,t){let r=e;for(;r!==null&&r.type&40;)e=r,r=e.parent;if(r===null)return t[Hr];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:o}=n.data[r.directiveStart+i];if(o===hr.None||o===hr.Emulated)return null}return kn(r,t)}}function Vd(n,e,t,r,i){n.insertBefore(e,t,r,i)}function bC(n,e,t){n.appendChild(e,t)}function LE(n,e,t,r,i){r!==null?Vd(n,e,t,r,i):bC(n,e,t)}function ok(n,e,t,r){n.removeChild(e,t,r)}function P0(n,e){return n.parentNode(e)}function sk(n,e){return n.nextSibling(e)}function ak(n,e,t){return uk(n,e,t)}function ck(n,e,t){return n.type&40?kn(n,t):null}var uk=ck,jE;function k0(n,e,t,r){let i=rk(n,r,e),o=e[Ct],s=r.parent||e[Zn],a=ak(s,r,e);if(i!=null)if(Array.isArray(t))for(let c=0;c<t.length;c++)LE(o,i,t[c],a,!1);else LE(o,i,t,a,!1);jE!==void 0&&jE(o,r,e,t,i)}function Id(n,e){if(e!==null){let t=e.type;if(t&3)return kn(e,n);if(t&4)return Vm(-1,n[e.index]);if(t&8){let r=e.child;if(r!==null)return Id(n,r);{let i=n[e.index];return qr(i)?Vm(-1,i):pr(i)}}else{if(t&32)return N0(e,n)()||pr(n[e.index]);{let r=wC(n,e);if(r!==null){if(Array.isArray(r))return r[0];let i=Oc(n[Kn]);return Id(i,r)}else return Id(n,e.next)}}}return null}function wC(n,e){if(e!==null){let r=n[Kn][Zn],i=e.projection;return r.projection[i]}return null}function Vm(n,e){let t=cn+n+1;if(t<e.length){let r=e[t],i=r[_e].firstChild;if(i!==null)return Id(r,i)}return e[Eo]}function lk(n,e,t){let r=P0(n,e);r&&ok(n,r,e,t)}function F0(n,e,t,r,i,o,s){for(;t!=null;){let a=r[t.index],c=t.type;if(s&&e===0&&(a&&Do(pr(a),r),t.flags|=2),(t.flags&32)!==32)if(c&8)F0(n,e,t.child,r,i,o,!1),Ps(e,n,i,a,o);else if(c&32){let l=N0(t,r),h;for(;h=l();)Ps(e,n,i,h,o);Ps(e,n,i,a,o)}else c&16?dk(n,e,r,t,i,o):Ps(e,n,i,a,o);t=s?t.projectionNext:t.next}}function sh(n,e,t,r,i,o){F0(t,r,n.firstChild,e,i,o,!1)}function dk(n,e,t,r,i,o){let s=t[Kn],c=s[Zn].projection[r.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++){let h=c[l];Ps(e,n,i,h,o)}else{let l=c,h=s[Gt];lC(r)&&(l.flags|=128),F0(n,e,l,h,i,o,!0)}}function hk(n,e,t,r,i){let o=t[Eo],s=pr(t);o!==s&&Ps(e,n,r,o,i);for(let a=cn;a<t.length;a++){let c=t[a];sh(c[_e],c,n,e,r,o)}}function fk(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let o=r.indexOf("-")===-1?void 0:Br.DashCase;i==null?n.removeStyle(t,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Br.Important),n.setStyle(t,r,i,o))}}function pk(n,e,t){n.setAttribute(e,"style",t)}function EC(n,e,t){t===""?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function IC(n,e,t){let{mergedAttrs:r,classes:i,styles:o}=t;r!==null&&Em(n,e,r),i!==null&&EC(n,e,i),o!==null&&pk(n,e,o)}var Gr={};function L(n=1){CC(mn(),Ce(),Ii()+n,!1)}function CC(n,e,t,r){if(!r)if((e[ue]&3)===3){let o=n.preOrderCheckHooks;o!==null&&wd(e,o,t)}else{let o=n.preOrderHooks;o!==null&&Ed(e,o,0,t)}Io(t)}function K(n,e=xe.Default){let t=Ce();if(t===null)return B(n,e);let r=bn();return oC(r,t,sn(n),e)}function DC(){let n="invalid";throw new Error(n)}function SC(n,e,t,r,i,o){let s=we(null);try{let a=null;i&Vt.SignalBased&&(a=e[r][Fg]),a!==null&&a.transformFn!==void 0&&(o=a.transformFn(o)),i&Vt.HasDecoratorInputTransform&&(o=n.inputTransforms[r].call(e,o)),n.setInput!==null?n.setInput(e,a,o,t,r):NI(e,a,r,o)}finally{we(s)}}function gk(n,e){let t=n.hostBindingOpCodes;if(t!==null)try{for(let r=0;r<t.length;r++){let i=t[r];if(i<0)Io(~i);else{let o=i,s=t[++r],a=t[++r];hP(s,o);let c=e[o];a(2,c)}}}finally{Io(-1)}}function ah(n,e,t,r,i,o,s,a,c,l,h){let f=e.blueprint.slice();return f[Hr]=i,f[ue]=r|4|128|8|64,(l!==null||n&&n[ue]&2048)&&(f[ue]|=2048),jI(f),f[Gt]=f[zs]=n,f[qt]=t,f[fr]=s||n&&n[fr],f[Ct]=a||n&&n[Ct],f[Us]=c||n&&n[Us]||null,f[Zn]=o,f[th]=VP(),f[Nc]=h,f[AI]=l,f[Kn]=e.type==2?n[Kn]:f,f}function ch(n,e,t,r,i){let o=n.data[e];if(o===null)o=mk(n,e,t,r,i),dP()&&(o.flags|=32);else if(o.type&64){o.type=t,o.value=r,o.attrs=i;let s=aP();o.injectorIndex=s===null?-1:s.injectorIndex}return Gc(o,!0),o}function mk(n,e,t,r,i){let o=$I(),s=HI(),a=s?o:o&&o.parent,c=n.data[e]=bk(n,a,t,e,r,i);return n.firstChild===null&&(n.firstChild=c),o!==null&&(s?o.child==null&&c.parent!==null&&(o.child=c):o.next===null&&(o.next=c,c.prev=o)),c}function TC(n,e,t,r){if(t===0)return-1;let i=e.length;for(let o=0;o<t;o++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function AC(n,e,t,r,i){let o=Ii(),s=r&2;try{Io(-1),s&&e.length>gn&&CC(n,e,gn,!1),lr(s?2:0,i),t(r,i)}finally{Io(o),lr(s?3:1,i)}}function MC(n,e,t){if(RI(e)){let r=we(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=n.data[s];if(a.contentQueries){let c=t[s];a.contentQueries(1,c,s)}}}finally{we(r)}}}function RC(n,e,t){BI()&&(Sk(n,e,t,kn(t,e)),(t.flags&64)===64&&VC(n,e,t))}function NC(n,e,t=kn){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?t(e,n):n[s];n[i++]=a}}}function PC(n){let e=n.tView;return e===null||e.incompleteFirstPass?n.tView=O0(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function O0(n,e,t,r,i,o,s,a,c,l,h){let f=gn+r,m=f+i,_=_k(f,m),T=typeof l=="function"?l():l;return _[_e]={type:n,blueprint:_,template:t,queries:null,viewQuery:a,declTNode:e,data:_.slice().fill(null,f),bindingStartIndex:f,expandoStartIndex:m,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:c,consts:T,incompleteFirstPass:!1,ssrId:h}}function _k(n,e){let t=[];for(let r=0;r<e;r++)t.push(r<n?null:Gr);return t}function yk(n,e,t,r){let o=r.get(zP,mC)||t===hr.ShadowDom,s=n.selectRootElement(e,o);return vk(s),s}function vk(n){xk(n)}var xk=()=>null;function bk(n,e,t,r,i,o){let s=e?e.injectorIndex:-1,a=0;return iP()&&(a|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function UE(n,e,t,r,i){for(let o in e){if(!e.hasOwnProperty(o))continue;let s=e[o];if(s===void 0)continue;r??={};let a,c=Vt.None;Array.isArray(s)?(a=s[0],c=s[1]):a=s;let l=o;if(i!==null){if(!i.hasOwnProperty(o))continue;l=i[o]}n===0?BE(r,t,l,a,c):BE(r,t,l,a)}return r}function BE(n,e,t,r,i){let o;n.hasOwnProperty(t)?(o=n[t]).push(e,r):o=n[t]=[e,r],i!==void 0&&o.push(i)}function wk(n,e,t){let r=e.directiveStart,i=e.directiveEnd,o=n.data,s=e.attrs,a=[],c=null,l=null;for(let h=r;h<i;h++){let f=o[h],m=t?t.get(f):null,_=m?m.inputs:null,T=m?m.outputs:null;c=UE(0,f.inputs,h,c,_),l=UE(1,f.outputs,h,l,T);let D=c!==null&&s!==null&&!h0(e)?Lk(c,h,s):null;a.push(D)}c!==null&&(c.hasOwnProperty("class")&&(e.flags|=8),c.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=c,e.outputs=l}function Ek(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function kC(n,e,t,r,i,o,s,a){let c=kn(e,t),l=e.inputs,h;!a&&l!=null&&(h=l[r])?(V0(n,t,h,r,i),nh(e)&&Ik(t,e.index)):e.type&3?(r=Ek(r),i=s!=null?s(i,e.value||"",r):i,o.setProperty(c,r,i)):e.type&12}function Ik(n,e){let t=Ei(e,n);t[ue]&16||(t[ue]|=64)}function FC(n,e,t,r){if(BI()){let i=r===null?null:{"":-1},o=Ak(n,t),s,a;o===null?s=a=null:[s,a]=o,s!==null&&OC(n,e,t,s,i,a),i&&Mk(t,r,i)}t.mergedAttrs=Mc(t.mergedAttrs,t.attrs)}function OC(n,e,t,r,i,o){for(let l=0;l<r.length;l++)Rm(Od(t,e),n,r[l].type);Nk(t,n.data.length,r.length);for(let l=0;l<r.length;l++){let h=r[l];h.providersResolver&&h.providersResolver(h)}let s=!1,a=!1,c=TC(n,e,r.length,null);for(let l=0;l<r.length;l++){let h=r[l];t.mergedAttrs=Mc(t.mergedAttrs,h.hostAttrs),Pk(n,t,e,c,h),Rk(c,h,i),h.contentQueries!==null&&(t.flags|=4),(h.hostBindings!==null||h.hostAttrs!==null||h.hostVars!==0)&&(t.flags|=64);let f=h.type.prototype;!s&&(f.ngOnChanges||f.ngOnInit||f.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),s=!0),!a&&(f.ngOnChanges||f.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),a=!0),c++}wk(n,t,o)}function Ck(n,e,t,r,i){let o=i.hostBindings;if(o){let s=n.hostBindingOpCodes;s===null&&(s=n.hostBindingOpCodes=[]);let a=~e.index;Dk(s)!=a&&s.push(a),s.push(t,r,o)}}function Dk(n){let e=n.length;for(;e>0;){let t=n[--e];if(typeof t=="number"&&t<0)return t}return 0}function Sk(n,e,t,r){let i=t.directiveStart,o=t.directiveEnd;nh(t)&&kk(e,t,n.data[i+t.componentOffset]),n.firstCreatePass||Od(t,e),Do(r,e);let s=t.initialInputs;for(let a=i;a<o;a++){let c=n.data[a],l=$s(e,n,a,t);if(Do(l,e),s!==null&&Vk(e,a-i,l,c,t,s),bi(c)){let h=Ei(t.index,e);h[qt]=$s(e,n,a,t)}}}function VC(n,e,t){let r=t.directiveStart,i=t.directiveEnd,o=t.index,s=fP();try{Io(o);for(let a=r;a<i;a++){let c=n.data[a],l=e[a];Am(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&Tk(c,l)}}finally{Io(-1),Am(s)}}function Tk(n,e){n.hostBindings!==null&&n.hostBindings(1,e)}function Ak(n,e){let t=n.directiveRegistry,r=null,i=null;if(t)for(let o=0;o<t.length;o++){let s=t[o];if(b2(e,s.selectors,!1))if(r||(r=[]),bi(s))if(s.findHostDirectiveDefs!==null){let a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),r.unshift(...a,s);let c=a.length;Lm(n,e,c)}else r.unshift(s),Lm(n,e,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return r===null?null:[r,i]}function Lm(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function Mk(n,e,t){if(e){let r=n.localNames=[];for(let i=0;i<e.length;i+=2){let o=t[e[i+1]];if(o==null)throw new ne(-301,!1);r.push(e[i],o)}}}function Rk(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;bi(e)&&(t[""]=n)}}function Nk(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function Pk(n,e,t,r,i){n.data[r]=i;let o=i.factory||(i.factory=bo(i.type,!0)),s=new Co(o,bi(i),K);n.blueprint[r]=s,t[r]=s,Ck(n,e,r,TC(n,t,i.hostVars,Gr),i)}function kk(n,e,t){let r=kn(e,n),i=PC(t),o=n[fr].rendererFactory,s=16;t.signals?s=4096:t.onPush&&(s=64);let a=uh(n,ah(n,i,null,s,r,e,null,o.createRenderer(r,t),null,null,null));n[e.index]=a}function Fk(n,e,t,r,i,o){let s=kn(n,e);Ok(e[Ct],s,o,n.value,t,r,i)}function Ok(n,e,t,r,i,o,s){if(o==null)n.removeAttribute(e,i,t);else{let a=s==null?Tc(o):s(o,r||"",i);n.setAttribute(e,i,a,t)}}function Vk(n,e,t,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;){let c=s[a++],l=s[a++],h=s[a++],f=s[a++];SC(r,t,c,l,h,f)}}function Lk(n,e,t){let r=null,i=0;for(;i<t.length;){let o=t[i];if(o===0){i+=4;continue}else if(o===5){i+=2;continue}if(typeof o=="number")break;if(n.hasOwnProperty(o)){r===null&&(r=[]);let s=n[o];for(let a=0;a<s.length;a+=3)if(s[a]===e){r.push(o,s[a+1],s[a+2],t[i+1]);break}}i+=2}return r}function LC(n,e,t,r){return[n,!0,0,e,null,r,null,t,null,null]}function jC(n,e){let t=n.contentQueries;if(t!==null){let r=we(null);try{for(let i=0;i<t.length;i+=2){let o=t[i],s=t[i+1];if(s!==-1){let a=n.data[s];zI(o),a.contentQueries(2,e[s],s)}}}finally{we(r)}}}function uh(n,e){return n[kc]?n[RE][Wn]=e:n[kc]=e,n[RE]=e,e}function jm(n,e,t){zI(0);let r=we(null);try{e(n,t)}finally{we(r)}}function jk(n){return n[Pc]||(n[Pc]=[])}function Uk(n){return n.cleanup||(n.cleanup=[])}function UC(n,e){let t=n[Us],r=t?t.get(gr,null):null;r&&r.handleError(e)}function V0(n,e,t,r,i){for(let o=0;o<t.length;){let s=t[o++],a=t[o++],c=t[o++],l=e[s],h=n.data[s];SC(h,l,r,a,c,i)}}function BC(n,e,t){let r=VI(e,n);QP(n[Ct],r,t)}function Bk(n,e){let t=Ei(e,n),r=t[_e];$k(r,t);let i=t[Hr];i!==null&&t[Nc]===null&&(t[Nc]=M0(i,t[Us])),L0(r,t,t[qt])}function $k(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}function L0(n,e,t){x0(e);try{let r=n.viewQuery;r!==null&&jm(1,r,t);let i=n.template;i!==null&&AC(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[Bs]?.finishViewCreation(n),n.staticContentQueries&&jC(n,e),n.staticViewQueries&&jm(2,n.viewQuery,t);let o=n.components;o!==null&&Hk(e,o)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[ue]&=-5,b0()}}function Hk(n,e){for(let t=0;t<e.length;t++)Bk(n,e[t])}function lh(n,e,t,r){let i=we(null);try{let o=e.tView,a=n[ue]&4096?4096:16,c=ah(n,o,t,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=n[e.index];c[eh]=l;let h=n[Bs];return h!==null&&(c[Bs]=h.createEmbeddedView(o)),L0(o,c,t),c}finally{we(i)}}function $C(n,e){let t=cn+e;if(t<n.length)return n[t]}function Lc(n,e){return!e||e.firstChild===null||lC(n)}function dh(n,e,t,r=!0){let i=e[_e];if(XP(i,e,n,t),r){let s=Vm(t,n),a=e[Ct],c=P0(a,n[Eo]);c!==null&&ZP(i,n[Zn],a,e,c,s)}let o=e[Nc];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function HC(n,e){let t=Vc(n,e);return t!==void 0&&oh(t[_e],t),t}function Ld(n,e,t,r,i=!1){for(;t!==null;){let o=e[t.index];o!==null&&r.push(pr(o)),qr(o)&&qk(o,r);let s=t.type;if(s&8)Ld(n,e,t.child,r);else if(s&32){let a=N0(t,e),c;for(;c=a();)r.push(c)}else if(s&16){let a=wC(e,t);if(Array.isArray(a))r.push(...a);else{let c=Oc(e[Kn]);Ld(c[_e],c,a,r,!0)}}t=i?t.projectionNext:t.next}return r}function qk(n,e){for(let t=cn;t<n.length;t++){let r=n[t],i=r[_e].firstChild;i!==null&&Ld(r[_e],r,i,e)}n[Eo]!==n[Hr]&&e.push(n[Eo])}var qC=[];function zk(n){return n[wo]??Gk(n)}function Gk(n){let e=qC.pop()??Object.create(Kk);return e.lView=n,e}function Wk(n){n.lView[wo]!==n&&(n.lView=null,qC.push(n))}var Kk=ke(W({},Qw),{consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{Fc(n.lView)},consumerOnSignalRead(){this.lView[wo]=this}}),zC=100;function GC(n,e=!0,t=0){let r=n[fr],i=r.rendererFactory,o=!1;o||i.begin?.();try{Qk(n,t)}catch(s){throw e&&UC(n,s),s}finally{o||(i.end?.(),r.inlineEffectRunner?.flush())}}function Qk(n,e){Um(n,e);let t=0;for(;v0(n);){if(t===zC)throw new ne(103,!1);t++,Um(n,1)}}function Yk(n,e,t,r){let i=e[ue];if((i&256)===256)return;let o=!1;!o&&e[fr].inlineEffectRunner?.flush(),x0(e);let s=null,a=null;!o&&Zk(n)&&(a=zk(e),s=Yw(a));try{jI(e),lP(n.bindingStartIndex),t!==null&&AC(n,e,t,2,r);let c=(i&3)===3;if(!o)if(c){let f=n.preOrderCheckHooks;f!==null&&wd(e,f,null)}else{let f=n.preOrderHooks;f!==null&&Ed(e,f,0,null),am(e,0)}if(Jk(e),WC(e,0),n.contentQueries!==null&&jC(n,e),!o)if(c){let f=n.contentCheckHooks;f!==null&&wd(e,f)}else{let f=n.contentHooks;f!==null&&Ed(e,f,1),am(e,1)}gk(n,e);let l=n.components;l!==null&&QC(e,l,0);let h=n.viewQuery;if(h!==null&&jm(2,h,r),!o)if(c){let f=n.viewCheckHooks;f!==null&&wd(e,f)}else{let f=n.viewHooks;f!==null&&Ed(e,f,2),am(e,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),e[sm]){for(let f of e[sm])f();e[sm]=null}o||(e[ue]&=-73)}catch(c){throw Fc(e),c}finally{a!==null&&(Zw(a,s),Wk(a)),b0()}}function Zk(n){return n.type!==2}function WC(n,e){for(let t=hC(n);t!==null;t=fC(t))for(let r=cn;r<t.length;r++){let i=t[r];KC(i,e)}}function Jk(n){for(let e=hC(n);e!==null;e=fC(e)){if(!(e[ue]&g0.HasTransplantedViews))continue;let t=e[Rd];for(let r=0;r<t.length;r++){let i=t[r],o=i[Gt];J2(i)}}}function Xk(n,e,t){let r=Ei(e,n);KC(r,t)}function KC(n,e){y0(n)&&Um(n,e)}function Um(n,e){let r=n[_e],i=n[ue],o=n[wo],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&Og(o)),o&&(o.dirty=!1),n[ue]&=-9217,s)Yk(r,n,r.template,n[qt]);else if(i&8192){WC(n,1);let a=r.components;a!==null&&QC(n,a,1)}}function QC(n,e,t){for(let r=0;r<e.length;r++)Xk(n,e[r],t)}function j0(n){for(n[fr].changeDetectionScheduler?.notify();n;){n[ue]|=64;let e=Oc(n);if(q2(n)&&!e)return n;n=e}return null}var So=class{get rootNodes(){let e=this._lView,t=e[_e];return Ld(t,e,t.firstChild,[])}constructor(e,t,r=!0){this._lView=e,this._cdRefInjectingView=t,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[qt]}set context(e){this._lView[qt]=e}get destroyed(){return(this._lView[ue]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Gt];if(qr(e)){let t=e[Md],r=t?t.indexOf(this):-1;r>-1&&(Vc(e,r),Td(t,r))}this._attachedToViewContainer=!1}oh(this._lView[_e],this._lView)}onDestroy(e){UI(this._lView,e)}markForCheck(){j0(this._cdRefInjectingView||this._lView)}detach(){this._lView[ue]&=-129}reattach(){Tm(this._lView),this._lView[ue]|=128}detectChanges(){this._lView[ue]|=1024,GC(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new ne(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,vC(this._lView[_e],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new ne(902,!1);this._appRef=e,Tm(this._lView)}},U0=(()=>{class n{static{this.__NG_ELEMENT_ID__=nF}}return n})(),eF=U0,tF=class extends eF{constructor(e,t,r){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,t){return this.createEmbeddedViewImpl(e,t)}createEmbeddedViewImpl(e,t,r){let i=lh(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:t,dehydratedView:r});return new So(i)}};function nF(){return rF(bn(),Ce())}function rF(n,e){return n.type&4?new tF(e,n,rh(n,e)):null}var Ez=new RegExp(`^(\\d+)*(${HP}|${$P})*(.*)`);var iF=()=>null;function jc(n,e){return iF(n,e)}var jd=class{},Bm=class{},Ud=class{};function oF(n){let e=Error(`No component factory found for ${an(n)}.`);return e[sF]=n,e}var sF="ngComponent";var $m=class{resolveComponentFactory(e){throw oF(e)}},hh=(()=>{class n{static{this.NULL=new $m}}return n})(),Uc=class{},Ao=(()=>{class n{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>aF()}}return n})();function aF(){let n=Ce(),e=bn(),t=Ei(e.index,n);return(vo(t)?t:n)[Ct]}var cF=(()=>{class n{static{this.\u0275prov=Q({token:n,providedIn:"root",factory:()=>null})}}return n})(),hm={};var $E=new Set;function Ws(n){$E.has(n)||($E.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}function HE(...n){}function uF(){let n=typeof Ot.requestAnimationFrame=="function",e=Ot[n?"requestAnimationFrame":"setTimeout"],t=Ot[n?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&t){let r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);let i=t[Zone.__symbol__("OriginalDelegate")];i&&(t=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}var Ie=class n{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new lt(!1),this.onMicrotaskEmpty=new lt(!1),this.onStable=new lt(!1),this.onError=new lt(!1),typeof Zone>"u")throw new ne(908,!1);Zone.assertZonePatched();let i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&t,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=uF().nativeRequestAnimationFrame,hF(i)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new ne(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new ne(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,lF,HE,HE);try{return o.runTask(s,t,r)}finally{o.cancelTask(s)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}},lF={};function B0(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function dF(n){n.isCheckStableRunning||n.lastRequestAnimationFrameId!==-1||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(Ot,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,Hm(n),n.isCheckStableRunning=!0,B0(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),Hm(n))}function hF(n){let e=()=>{dF(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,r,i,o,s,a)=>{if(fF(a))return t.invokeTask(i,o,s,a);try{return qE(n),t.invokeTask(i,o,s,a)}finally{(n.shouldCoalesceEventChangeDetection&&o.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&e(),zE(n)}},onInvoke:(t,r,i,o,s,a,c)=>{try{return qE(n),t.invoke(i,o,s,a,c)}finally{n.shouldCoalesceRunChangeDetection&&e(),zE(n)}},onHasTask:(t,r,i,o)=>{t.hasTask(i,o),r===i&&(o.change=="microTask"?(n._hasPendingMicrotasks=o.microTask,Hm(n),B0(n)):o.change=="macroTask"&&(n.hasPendingMacrotasks=o.macroTask))},onHandleError:(t,r,i,o)=>(t.handleError(i,o),n.runOutsideAngular(()=>n.onError.emit(o)),!1)})}function Hm(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.lastRequestAnimationFrameId!==-1?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function qE(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function zE(n){n._nesting--,B0(n)}var qm=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new lt,this.onMicrotaskEmpty=new lt,this.onStable=new lt,this.onError=new lt}run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}};function fF(n){return!Array.isArray(n)||n.length!==1?!1:n[0].data?.__ignore_ng_zone__===!0}function pF(n="zone.js",e){return n==="noop"?new qm:n==="zone.js"?new Ie(e):n}var ks=function(n){return n[n.EarlyRead=0]="EarlyRead",n[n.Write=1]="Write",n[n.MixedReadWrite=2]="MixedReadWrite",n[n.Read=3]="Read",n}(ks||{}),gF={destroy(){}};function fh(n,e){!e&&B2(fh);let t=e?.injector??$(In);if(!GP(t))return gF;Ws("NgAfterNextRender");let r=t.get($0),i=r.handler??=new Gm,o=e?.phase??ks.MixedReadWrite,s=()=>{i.unregister(c),a()},a=t.get(S0).onDestroy(s),c=Yn(t,()=>new zm(o,()=>{s(),n()}));return i.register(c),{destroy:s}}var zm=class{constructor(e,t){this.phase=e,this.callbackFn=t,this.zone=$(Ie),this.errorHandler=$(gr,{optional:!0}),$(jd,{optional:!0})?.notify(1)}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(e){this.errorHandler?.handleError(e)}}},Gm=class{constructor(){this.executingCallbacks=!1,this.buckets={[ks.EarlyRead]:new Set,[ks.Write]:new Set,[ks.MixedReadWrite]:new Set,[ks.Read]:new Set},this.deferredCallbacks=new Set}register(e){(this.executingCallbacks?this.deferredCallbacks:this.buckets[e.phase]).add(e)}unregister(e){this.buckets[e.phase].delete(e),this.deferredCallbacks.delete(e)}execute(){this.executingCallbacks=!0;for(let e of Object.values(this.buckets))for(let t of e)t.invoke();this.executingCallbacks=!1;for(let e of this.deferredCallbacks)this.buckets[e.phase].add(e);this.deferredCallbacks.clear()}destroy(){for(let e of Object.values(this.buckets))e.clear();this.deferredCallbacks.clear()}},$0=(()=>{class n{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){let t=[...this.internalCallbacks];this.internalCallbacks.length=0;for(let r of t)r()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}static{this.\u0275prov=Q({token:n,providedIn:"root",factory:()=>new n})}}return n})();function Wm(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=bE(i,a);else if(o==2){let c=a,l=e[++s];r=bE(r,c+": "+l+";")}}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}var Bd=class extends hh{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let t=xi(e);return new Hs(t,this.ngModule)}};function GE(n){let e=[];for(let t in n){if(!n.hasOwnProperty(t))continue;let r=n[t];r!==void 0&&e.push({propName:Array.isArray(r)?r[0]:r,templateName:t})}return e}function mF(n){let e=n.toLowerCase();return e==="svg"?OI:e==="math"?K2:null}var Km=class{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){r=Yd(r);let i=this.injector.get(e,hm,r);return i!==hm||t===hm?i:this.parentInjector.get(e,t,r)}},Hs=class extends Ud{get inputs(){let e=this.componentDef,t=e.inputTransforms,r=GE(e.inputs);if(t!==null)for(let i of r)t.hasOwnProperty(i.propName)&&(i.transform=t[i.propName]);return r}get outputs(){return GE(this.componentDef.outputs)}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=C2(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}create(e,t,r,i){let o=we(null);try{i=i||this.ngModule;let s=i instanceof zt?i:i?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let a=s?new Km(e,s):e,c=a.get(Uc,null);if(c===null)throw new ne(407,!1);let l=a.get(cF,null),h=a.get($0,null),f=a.get(jd,null),m={rendererFactory:c,sanitizer:l,inlineEffectRunner:null,afterRenderEventManager:h,changeDetectionScheduler:f},_=c.createRenderer(null,this.componentDef),T=this.componentDef.selectors[0][0]||"div",D=r?yk(_,r,this.componentDef.encapsulation,a):yC(_,T,mF(T)),A=512;this.componentDef.signals?A|=4096:this.componentDef.onPush||(A|=16);let U=null;D!==null&&(U=M0(D,a,!0));let Y=O0(0,null,null,1,0,null,null,null,null,null,null),O=ah(null,Y,null,A,null,null,m,_,a,null,U);x0(O);let X,ce;try{let ie=this.componentDef,w,y=null;ie.findHostDirectiveDefs?(w=[],y=new Map,ie.findHostDirectiveDefs(ie,w,y),w.push(ie)):w=[ie];let x=_F(O,D),I=yF(x,D,ie,w,O,m,_);ce=_0(Y,gn),D&&bF(_,ie,D,r),t!==void 0&&wF(ce,this.ngContentSelectors,t),X=xF(I,ie,w,y,O,[EF]),L0(Y,O,null)}finally{b0()}return new Qm(this.componentType,X,rh(ce,O),O,ce)}finally{we(o)}}},Qm=class extends Bm{constructor(e,t,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=t,this.hostView=this.changeDetectorRef=new So(i,void 0,!1),this.componentType=e}setInput(e,t){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;let o=this._rootLView;V0(o[_e],o,i,e,t),this.previousInputValues.set(e,t);let s=Ei(this._tNode.index,o);j0(s)}}get injector(){return new xo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function _F(n,e){let t=n[_e],r=gn;return n[r]=e,ch(t,r,2,"#host",null)}function yF(n,e,t,r,i,o,s){let a=i[_e];vF(r,n,e,s);let c=null;e!==null&&(c=M0(e,i[Us]));let l=o.rendererFactory.createRenderer(e,t),h=16;t.signals?h=4096:t.onPush&&(h=64);let f=ah(i,PC(t),null,h,i[n.index],n,o,l,null,null,c);return a.firstCreatePass&&Lm(a,n,r.length-1),uh(i,f),i[n.index]=f}function vF(n,e,t,r){for(let i of n)e.mergedAttrs=Mc(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(Wm(e,e.mergedAttrs,!0),t!==null&&IC(r,t,e))}function xF(n,e,t,r,i,o){let s=bn(),a=i[_e],c=kn(s,i);OC(a,i,s,t,null,r);for(let h=0;h<t.length;h++){let f=s.directiveStart+h,m=$s(i,a,f,s);Do(m,i)}VC(a,i,s),c&&Do(c,i);let l=$s(i,a,s.directiveStart+s.componentOffset,s);if(n[qt]=i[qt]=l,o!==null)for(let h of o)h(l,e);return MC(a,s,i),l}function bF(n,e,t,r){if(r)Em(n,t,["ng-version","17.3.12"]);else{let{attrs:i,classes:o}=D2(e.selectors[0]);i&&Em(n,t,i),o&&o.length>0&&EC(n,t,o.join(" "))}}function wF(n,e,t){let r=n.projection=[];for(let i=0;i<e.length;i++){let o=t[i];r.push(o!=null?Array.from(o):null)}}function EF(){let n=bn();C0(Ce()[_e],n)}var Kc=(()=>{class n{static{this.__NG_ELEMENT_ID__=IF}}return n})();function IF(){let n=bn();return DF(n,Ce())}var CF=Kc,YC=class extends CF{constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return rh(this._hostTNode,this._hostLView)}get injector(){return new xo(this._hostTNode,this._hostLView)}get parentInjector(){let e=D0(this._hostTNode,this._hostLView);if(XI(e)){let t=kd(e,this._hostLView),r=Pd(e),i=t[_e].data[r+8];return new xo(i,t)}else return new xo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let t=WE(this._lContainer);return t!==null&&t[e]||null}get length(){return this._lContainer.length-cn}createEmbeddedView(e,t,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=jc(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(t||{},o,s);return this.insertImpl(a,i,Lc(this._hostTNode,s)),a}createComponent(e,t,r,i,o){let s=e&&!H2(e),a;if(s)a=t;else{let T=t||{};a=T.index,r=T.injector,i=T.projectableNodes,o=T.environmentInjector||T.ngModuleRef}let c=s?e:new Hs(xi(e)),l=r||this.parentInjector;if(!o&&c.ngModule==null){let D=(s?l:this.parentInjector).get(zt,null);D&&(o=D)}let h=xi(c.componentType??{}),f=jc(this._lContainer,h?.id??null),m=f?.firstChild??null,_=c.create(l,i,m,o);return this.insertImpl(_.hostView,a,Lc(this._hostTNode,f)),_}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,r){let i=e._lView;if(Z2(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let c=i[Gt],l=new YC(c,c[Zn],c[Gt]);l.detach(l.indexOf(e))}}let o=this._adjustIndex(t),s=this._lContainer;return dh(s,i,o,r),e.attachToViewContainerRef(),fI(fm(s),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){let t=WE(this._lContainer);return t!==null?t.indexOf(e):-1}remove(e){let t=this._adjustIndex(e,-1),r=Vc(this._lContainer,t);r&&(Td(fm(this._lContainer),t),oh(r[_e],r))}detach(e){let t=this._adjustIndex(e,-1),r=Vc(this._lContainer,t);return r&&Td(fm(this._lContainer),t)!=null?new So(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function WE(n){return n[Md]}function fm(n){return n[Md]||(n[Md]=[])}function DF(n,e){let t,r=e[n.index];return qr(r)?t=r:(t=LC(r,e,null,n),e[n.index]=t,uh(e,t)),TF(t,e,n,r),new YC(t,n,e)}function SF(n,e){let t=n[Ct],r=t.createComment(""),i=kn(e,n),o=P0(t,i);return Vd(t,o,r,sk(t,i),!1),r}var TF=RF,AF=()=>!1;function MF(n,e,t){return AF(n,e,t)}function RF(n,e,t,r){if(n[Eo])return;let i;t.type&8?i=pr(r):i=SF(e,t),n[Eo]=i}function NF(n){return typeof n=="function"&&n[Fg]!==void 0}function ZC(n){return NF(n)&&typeof n.set=="function"}function PF(n){let e=[],t=new Map;function r(i){let o=t.get(i);if(!o){let s=n(i);t.set(i,o=s.then(VF))}return o}return $d.forEach((i,o)=>{let s=[];i.templateUrl&&s.push(r(i.templateUrl).then(l=>{i.template=l}));let a=typeof i.styles=="string"?[i.styles]:i.styles||[];if(i.styles=a,i.styleUrl&&i.styleUrls?.length)throw new Error("@Component cannot define both `styleUrl` and `styleUrls`. Use `styleUrl` if the component has one stylesheet, or `styleUrls` if it has multiple");if(i.styleUrls?.length){let l=i.styles.length,h=i.styleUrls;i.styleUrls.forEach((f,m)=>{a.push(""),s.push(r(f).then(_=>{a[l+m]=_,h.splice(h.indexOf(f),1),h.length==0&&(i.styleUrls=void 0)}))})}else i.styleUrl&&s.push(r(i.styleUrl).then(l=>{a.push(l),i.styleUrl=void 0}));let c=Promise.all(s).then(()=>LF(o));e.push(c)}),FF(),Promise.all(e).then(()=>{})}var $d=new Map,kF=new Set;function FF(){let n=$d;return $d=new Map,n}function OF(){return $d.size===0}function VF(n){return typeof n=="string"?n:n.text()}function LF(n){kF.delete(n)}function jF(n){return Object.getPrototypeOf(n.prototype).constructor}function Fn(n){let e=jF(n.type),t=!0,r=[n];for(;e;){let i;if(bi(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new ne(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);let s=n;s.inputs=yd(n.inputs),s.inputTransforms=yd(n.inputTransforms),s.declaredInputs=yd(n.declaredInputs),s.outputs=yd(n.outputs);let a=i.hostBindings;a&&qF(n,a);let c=i.viewQuery,l=i.contentQueries;if(c&&$F(n,c),l&&HF(n,l),UF(n,i),GN(n.outputs,i.outputs),bi(i)&&i.data.animation){let h=n.data;h.animation=(h.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(n),a===Fn&&(t=!1)}}e=Object.getPrototypeOf(e)}BF(r)}function UF(n,e){for(let t in e.inputs){if(!e.inputs.hasOwnProperty(t)||n.inputs.hasOwnProperty(t))continue;let r=e.inputs[t];if(r!==void 0&&(n.inputs[t]=r,n.declaredInputs[t]=e.declaredInputs[t],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;n.inputTransforms??={},n.inputTransforms[i]=e.inputTransforms[i]}}}function BF(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){let i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Mc(i.hostAttrs,t=Mc(t,i.hostAttrs))}}function yd(n){return n===Vs?{}:n===Pn?[]:n}function $F(n,e){let t=n.viewQuery;t?n.viewQuery=(r,i)=>{e(r,i),t(r,i)}:n.viewQuery=e}function HF(n,e){let t=n.contentQueries;t?n.contentQueries=(r,i,o)=>{e(r,i,o),t(r,i,o)}:n.contentQueries=e}function qF(n,e){let t=n.hostBindings;t?n.hostBindings=(r,i)=>{e(r,i),t(r,i)}:n.hostBindings=e}var wi=class{},Bc=class{};var Hd=class extends wi{constructor(e,t,r){super(),this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Bd(this);let i=bI(e);this._bootstrapComponents=_C(i.bootstrap),this._r3Injector=cC(e,t,[{provide:wi,useValue:this},{provide:hh,useValue:this.componentFactoryResolver},...r],an(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},qd=class extends Bc{constructor(e){super(),this.moduleType=e}create(e){return new Hd(this.moduleType,e,[])}};function zF(n,e,t){return new Hd(n,e,t)}var Ym=class extends wi{constructor(e){super(),this.componentFactoryResolver=new Bd(this),this.instance=null;let t=new Rc([...e.providers,{provide:wi,useValue:this},{provide:hh,useValue:this.componentFactoryResolver}],e.parent||p0(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function ph(n,e,t=null){return new Ym({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}var Mo=(()=>{class n{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Ft(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Q({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function H0(n,e,t){return n[e]=t}function Qn(n,e,t){let r=n[e];return Object.is(r,t)?!1:(n[e]=t,!0)}function q0(n,e,t,r){let i=Qn(n,e,t);return Qn(n,e+1,r)||i}function GF(n,e,t,r,i){let o=q0(n,e,t,r);return Qn(n,e+2,i)||o}function WF(n){return(n.flags&32)===32}function KF(n,e,t,r,i,o,s,a,c){let l=e.consts,h=ch(e,n,4,s||null,Nd(l,a));FC(e,t,h,Nd(l,c)),C0(e,h);let f=h.tView=O0(2,h,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return e.queries!==null&&(e.queries.template(e,h),f.queries=e.queries.embeddedTView(h)),h}function He(n,e,t,r,i,o,s,a){let c=Ce(),l=mn(),h=n+gn,f=l.firstCreatePass?KF(h,l,c,e,t,r,i,o,s):l.data[h];Gc(f,!1);let m=QF(l,c,f,n);E0()&&k0(l,c,m,f),Do(m,c);let _=LC(m,c,m,f);return c[h]=_,uh(c,_),MF(_,f,c),m0(f)&&RC(l,c,f),s!=null&&NC(c,f,a),He}var QF=YF;function YF(n,e,t,r){return I0(!0),e[Ct].createComment("")}function gh(n,e,t,r){let i=Ce(),o=Gs();if(Qn(i,o,e)){let s=mn(),a=w0();Fk(a,i,n,e,t,r)}return gh}function ZF(n,e,t,r){return Qn(n,Gs(),t)?e+Tc(t)+r:Gr}function JF(n,e,t,r,i,o){let s=uP(),a=q0(n,s,t,i);return qI(2),a?e+Tc(t)+r+Tc(i)+o:Gr}function vd(n,e){return n<<17|e<<2}function To(n){return n>>17&32767}function XF(n){return(n&2)==2}function eO(n,e){return n&131071|e<<17}function Zm(n){return n|2}function qs(n){return(n&131068)>>2}function pm(n,e){return n&-131069|e<<2}function tO(n){return(n&1)===1}function Jm(n){return n|1}function nO(n,e,t,r,i,o){let s=o?e.classBindings:e.styleBindings,a=To(s),c=qs(s);n[r]=t;let l=!1,h;if(Array.isArray(t)){let f=t;h=f[1],(h===null||zc(f,h)>0)&&(l=!0)}else h=t;if(i)if(c!==0){let m=To(n[a+1]);n[r+1]=vd(m,a),m!==0&&(n[m+1]=pm(n[m+1],r)),n[a+1]=eO(n[a+1],r)}else n[r+1]=vd(a,0),a!==0&&(n[a+1]=pm(n[a+1],r)),a=r;else n[r+1]=vd(c,0),a===0?a=r:n[c+1]=pm(n[c+1],r),c=r;l&&(n[r+1]=Zm(n[r+1])),KE(n,h,r,!0),KE(n,h,r,!1),rO(e,h,n,r,o),s=vd(a,c),o?e.classBindings=s:e.styleBindings=s}function rO(n,e,t,r,i){let o=i?n.residualClasses:n.residualStyles;o!=null&&typeof e=="string"&&zc(o,e)>=0&&(t[r+1]=Jm(t[r+1]))}function KE(n,e,t,r){let i=n[t+1],o=e===null,s=r?To(i):qs(i),a=!1;for(;s!==0&&(a===!1||o);){let c=n[s],l=n[s+1];iO(c,e)&&(a=!0,n[s+1]=r?Jm(l):Zm(l)),s=r?To(l):qs(l)}a&&(n[t+1]=r?Zm(i):Jm(i))}function iO(n,e){return n===null||e==null||(Array.isArray(n)?n[1]:n)===e?!0:Array.isArray(n)&&typeof e=="string"?zc(n,e)>=0:!1}function re(n,e,t){let r=Ce(),i=Gs();if(Qn(r,i,e)){let o=mn(),s=w0();kC(o,s,r,n,e,r[Ct],t,!1)}return re}function QE(n,e,t,r,i){let o=e.inputs,s=i?"class":"style";V0(n,t,o[s],s,r)}function mh(n,e){return oO(n,e,null,!0),mh}function oO(n,e,t,r){let i=Ce(),o=mn(),s=qI(2);if(o.firstUpdatePass&&aO(o,n,s,r),e!==Gr&&Qn(i,s,e)){let a=o.data[Ii()];hO(o,a,i,i[Ct],n,i[s+1]=fO(e,t),r,s)}}function sO(n,e){return e>=n.expandoStartIndex}function aO(n,e,t,r){let i=n.data;if(i[t+1]===null){let o=i[Ii()],s=sO(n,t);pO(o,r)&&e===null&&!s&&(e=!1),e=cO(i,o,e,r),nO(i,o,e,t,s,r)}}function cO(n,e,t,r){let i=pP(n),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(t=gm(null,n,e,t,r),t=$c(t,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||n[s]!==i)if(t=gm(i,n,e,t,r),o===null){let c=uO(n,e,r);c!==void 0&&Array.isArray(c)&&(c=gm(null,n,e,c[1],r),c=$c(c,e.attrs,r),lO(n,e,r,c))}else o=dO(n,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),t}function uO(n,e,t){let r=t?e.classBindings:e.styleBindings;if(qs(r)!==0)return n[To(r)]}function lO(n,e,t,r){let i=t?e.classBindings:e.styleBindings;n[To(i)]=r}function dO(n,e,t){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=n[o].hostAttrs;r=$c(r,s,t)}return $c(r,e.attrs,t)}function gm(n,e,t,r,i){let o=null,s=t.directiveEnd,a=t.directiveStylingLast;for(a===-1?a=t.directiveStart:a++;a<s&&(o=e[a],r=$c(r,o.hostAttrs,i),o!==n);)a++;return n!==null&&(t.directiveStylingLast=a),r}function $c(n,e,t){let r=t?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(n)||(n=n===void 0?[]:["",n]),h2(n,s,t?!0:e[++o]))}return n===void 0?null:n}function hO(n,e,t,r,i,o,s,a){if(!(e.type&3))return;let c=n.data,l=c[a+1],h=tO(l)?YE(c,e,t,i,qs(l),s):void 0;if(!zd(h)){zd(o)||XF(l)&&(o=YE(c,null,t,i,a,s));let f=VI(Ii(),t);fk(r,s,f,i,o)}}function YE(n,e,t,r,i,o){let s=e===null,a;for(;i>0;){let c=n[i],l=Array.isArray(c),h=l?c[1]:c,f=h===null,m=t[i+1];m===Gr&&(m=f?Pn:void 0);let _=f?im(m,r):h===r?m:void 0;if(l&&!zd(_)&&(_=im(c,r)),zd(_)&&(a=_,s))return a;let T=n[i+1];i=s?To(T):qs(T)}if(e!==null){let c=o?e.residualClasses:e.residualStyles;c!=null&&(a=im(c,r))}return a}function zd(n){return n!==void 0}function fO(n,e){return n==null||n===""||(typeof e=="string"?n=n+e:typeof n=="object"&&(n=an(R0(n)))),n}function pO(n,e){return(n.flags&(e?8:16))!==0}var Xm=class{destroy(e){}updateValue(e,t){}swap(e,t){let r=Math.min(e,t),i=Math.max(e,t),o=this.detach(i);if(i-r>1){let s=this.detach(r);this.attach(r,o),this.attach(i,s)}else this.attach(r,o)}move(e,t){this.attach(t,this.detach(e))}};function mm(n,e,t,r,i){return n===t&&Object.is(e,r)?1:Object.is(i(n,e),i(t,r))?-1:0}function gO(n,e,t){let r,i,o=0,s=n.length-1;if(Array.isArray(e)){let a=e.length-1;for(;o<=s&&o<=a;){let c=n.at(o),l=e[o],h=mm(o,c,o,l,t);if(h!==0){h<0&&n.updateValue(o,l),o++;continue}let f=n.at(s),m=e[a],_=mm(s,f,a,m,t);if(_!==0){_<0&&n.updateValue(s,m),s--,a--;continue}let T=t(o,c),D=t(s,f),A=t(o,l);if(Object.is(A,D)){let U=t(a,m);Object.is(U,T)?(n.swap(o,s),n.updateValue(s,m),a--,s--):n.move(s,o),n.updateValue(o,l),o++;continue}if(r??=new Gd,i??=JE(n,o,s,t),e0(n,r,o,A))n.updateValue(o,l),o++,s++;else if(i.has(A))r.set(T,n.detach(o)),s--;else{let U=n.create(o,e[o]);n.attach(o,U),o++,s++}}for(;o<=a;)ZE(n,r,t,o,e[o]),o++}else if(e!=null){let a=e[Symbol.iterator](),c=a.next();for(;!c.done&&o<=s;){let l=n.at(o),h=c.value,f=mm(o,l,o,h,t);if(f!==0)f<0&&n.updateValue(o,h),o++,c=a.next();else{r??=new Gd,i??=JE(n,o,s,t);let m=t(o,h);if(e0(n,r,o,m))n.updateValue(o,h),o++,s++,c=a.next();else if(!i.has(m))n.attach(o,n.create(o,h)),o++,s++,c=a.next();else{let _=t(o,l);r.set(_,n.detach(o)),s--}}}for(;!c.done;)ZE(n,r,t,n.length,c.value),c=a.next()}for(;o<=s;)n.destroy(n.detach(s--));r?.forEach(a=>{n.destroy(a)})}function e0(n,e,t,r){return e!==void 0&&e.has(r)?(n.attach(t,e.get(r)),e.delete(r),!0):!1}function ZE(n,e,t,r,i){if(e0(n,e,r,t(r,i)))n.updateValue(r,i);else{let o=n.create(r,i);n.attach(r,o)}}function JE(n,e,t,r){let i=new Set;for(let o=e;o<=t;o++)i.add(r(o,n.at(o)));return i}var Gd=class{constructor(){this.kvMap=new Map,this._vMap=void 0}has(e){return this.kvMap.has(e)}delete(e){if(!this.has(e))return!1;let t=this.kvMap.get(e);return this._vMap!==void 0&&this._vMap.has(t)?(this.kvMap.set(e,this._vMap.get(t)),this._vMap.delete(t)):this.kvMap.delete(e),!0}get(e){return this.kvMap.get(e)}set(e,t){if(this.kvMap.has(e)){let r=this.kvMap.get(e);this._vMap===void 0&&(this._vMap=new Map);let i=this._vMap;for(;i.has(r);)r=i.get(r);i.set(r,t)}else this.kvMap.set(e,t)}forEach(e){for(let[t,r]of this.kvMap)if(e(r,t),this._vMap!==void 0){let i=this._vMap;for(;i.has(r);)r=i.get(r),e(r,t)}}};function On(n,e,t){Ws("NgControlFlow");let r=Ce(),i=Gs(),o=i0(r,gn+n),s=0;if(Qn(r,i,e)){let a=we(null);try{if(HC(o,s),e!==-1){let c=o0(r[_e],gn+e),l=jc(o,c.tView.ssrId),h=lh(r,c,t,{dehydratedView:l});dh(o,h,s,Lc(c,l))}}finally{we(a)}}else{let a=$C(o,s);a!==void 0&&(a[qt]=t)}}var t0=class{constructor(e,t,r){this.lContainer=e,this.$implicit=t,this.$index=r}get $count(){return this.lContainer.length-cn}};function Mt(n){return n}var n0=class{constructor(e,t,r){this.hasEmptyBlock=e,this.trackByFn=t,this.liveCollection=r}};function Rt(n,e,t,r,i,o,s,a,c,l,h,f,m){Ws("NgControlFlow");let _=c!==void 0,T=Ce(),D=a?s.bind(T[Kn][qt]):s,A=new n0(_,D);T[gn+n]=A,He(n+1,e,t,r,i,o),_&&He(n+2,c,l,h,f,m)}var r0=class extends Xm{constructor(e,t,r){super(),this.lContainer=e,this.hostLView=t,this.templateTNode=r,this.needsIndexUpdate=!1}get length(){return this.lContainer.length-cn}at(e){return this.getLView(e)[qt].$implicit}attach(e,t){let r=t[Nc];this.needsIndexUpdate||=e!==this.length,dh(this.lContainer,t,e,Lc(this.templateTNode,r))}detach(e){return this.needsIndexUpdate||=e!==this.length-1,mO(this.lContainer,e)}create(e,t){let r=jc(this.lContainer,this.templateTNode.tView.ssrId);return lh(this.hostLView,this.templateTNode,new t0(this.lContainer,t,e),{dehydratedView:r})}destroy(e){oh(e[_e],e)}updateValue(e,t){this.getLView(e)[qt].$implicit=t}reset(){this.needsIndexUpdate=!1}updateIndexes(){if(this.needsIndexUpdate)for(let e=0;e<this.length;e++)this.getLView(e)[qt].$index=e}getLView(e){return _O(this.lContainer,e)}};function Nt(n){let e=we(null),t=Ii();try{let r=Ce(),i=r[_e],o=r[t];if(o.liveCollection===void 0){let a=t+1,c=i0(r,a),l=o0(i,a);o.liveCollection=new r0(c,r,l)}else o.liveCollection.reset();let s=o.liveCollection;if(gO(s,n,o.trackByFn),s.updateIndexes(),o.hasEmptyBlock){let a=Gs(),c=s.length===0;if(Qn(r,a,c)){let l=t+2,h=i0(r,l);if(c){let f=o0(i,l),m=jc(h,f.tView.ssrId),_=lh(r,f,void 0,{dehydratedView:m});dh(h,_,0,Lc(f,m))}else HC(h,0)}}}finally{we(e)}}function i0(n,e){return n[e]}function mO(n,e){return Vc(n,e)}function _O(n,e){return $C(n,e)}function o0(n,e){return _0(n,e)}function yO(n,e,t,r,i,o){let s=e.consts,a=Nd(s,i),c=ch(e,n,2,r,a);return FC(e,t,c,Nd(s,o)),c.attrs!==null&&Wm(c,c.attrs,!1),c.mergedAttrs!==null&&Wm(c,c.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,c),c}function b(n,e,t,r){let i=Ce(),o=mn(),s=gn+n,a=i[Ct],c=o.firstCreatePass?yO(s,o,i,e,t,r):o.data[s],l=vO(o,i,c,a,e,n);i[s]=l;let h=m0(c);return Gc(c,!0),IC(a,l,c),!WF(c)&&E0()&&k0(o,i,l,c),tP()===0&&Do(l,i),nP(),h&&(RC(o,i,c),MC(o,c,i)),r!==null&&NC(i,c),b}function E(){let n=bn();HI()?cP():(n=n.parent,Gc(n,!1));let e=n;oP(e)&&sP(),rP();let t=mn();return t.firstCreatePass&&(C0(t,n),RI(n)&&t.queries.elementEnd(n)),e.classesWithoutHost!=null&&wP(e)&&QE(t,e,Ce(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&EP(e)&&QE(t,e,Ce(),e.stylesWithoutHost,!1),E}function de(n,e,t,r){return b(n,e,t,r),E(),de}var vO=(n,e,t,r,i,o)=>(I0(!0),yC(r,i,yP()));function Ue(){return Ce()}var yo=void 0;function xO(n){let e=n,t=Math.floor(Math.abs(n)),r=n.toString().replace(/^[^.]*\.?/,"").length;return t===1&&r===0?1:5}var bO=["en",[["a","p"],["AM","PM"],yo],[["AM","PM"],yo,yo],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],yo,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],yo,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",yo,"{1} 'at' {0}",yo],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",xO],_m={};function Vn(n){let e=wO(n),t=XE(e);if(t)return t;let r=e.split("-")[0];if(t=XE(r),t)return t;if(r==="en")return bO;throw new ne(701,!1)}function XE(n){return n in _m||(_m[n]=Ot.ng&&Ot.ng.common&&Ot.ng.common.locales&&Ot.ng.common.locales[n]),_m[n]}var dt=function(n){return n[n.LocaleId=0]="LocaleId",n[n.DayPeriodsFormat=1]="DayPeriodsFormat",n[n.DayPeriodsStandalone=2]="DayPeriodsStandalone",n[n.DaysFormat=3]="DaysFormat",n[n.DaysStandalone=4]="DaysStandalone",n[n.MonthsFormat=5]="MonthsFormat",n[n.MonthsStandalone=6]="MonthsStandalone",n[n.Eras=7]="Eras",n[n.FirstDayOfWeek=8]="FirstDayOfWeek",n[n.WeekendRange=9]="WeekendRange",n[n.DateFormat=10]="DateFormat",n[n.TimeFormat=11]="TimeFormat",n[n.DateTimeFormat=12]="DateTimeFormat",n[n.NumberSymbols=13]="NumberSymbols",n[n.NumberFormats=14]="NumberFormats",n[n.CurrencyCode=15]="CurrencyCode",n[n.CurrencySymbol=16]="CurrencySymbol",n[n.CurrencyName=17]="CurrencyName",n[n.Currencies=18]="Currencies",n[n.Directionality=19]="Directionality",n[n.PluralCase=20]="PluralCase",n[n.ExtraData=21]="ExtraData",n}(dt||{});function wO(n){return n.toLowerCase().replace(/_/g,"-")}var Wd="en-US";var EO=Wd;function IO(n){typeof n=="string"&&(EO=n.toLowerCase().replace(/_/g,"-"))}function se(n,e,t,r){let i=Ce(),o=mn(),s=bn();return JC(o,i,i[Ct],s,n,e,r),se}function CO(n,e,t,r){let i=n.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===t&&i[o+1]===r){let a=e[Pc],c=i[o+2];return a.length>c?a[c]:null}typeof s=="string"&&(o+=2)}return null}function JC(n,e,t,r,i,o,s){let a=m0(r),l=n.firstCreatePass&&Uk(n),h=e[qt],f=jk(e),m=!0;if(r.type&3||s){let D=kn(r,e),A=s?s(D):D,U=f.length,Y=s?X=>s(pr(X[r.index])):r.index,O=null;if(!s&&a&&(O=CO(n,e,i,r.index)),O!==null){let X=O.__ngLastListenerFn__||O;X.__ngNextListenerFn__=o,O.__ngLastListenerFn__=o,m=!1}else{o=tI(r,e,h,o,!1);let X=t.listen(A,i,o);f.push(o,X),l&&l.push(i,Y,U,U+1)}}else o=tI(r,e,h,o,!1);let _=r.outputs,T;if(m&&_!==null&&(T=_[i])){let D=T.length;if(D)for(let A=0;A<D;A+=2){let U=T[A],Y=T[A+1],ce=e[U][Y].subscribe(o),ie=f.length;f.push(o,ce),l&&l.push(i,r.index,ie,-(ie+1))}}}function eI(n,e,t,r){let i=we(null);try{return lr(6,e,t),t(r)!==!1}catch(o){return UC(n,o),!1}finally{lr(7,e,t),we(i)}}function tI(n,e,t,r,i){return function o(s){if(s===Function)return r;let a=n.componentOffset>-1?Ei(n.index,e):e;j0(a);let c=eI(e,t,r,s),l=o.__ngNextListenerFn__;for(;l;)c=eI(e,t,l,s)&&c,l=l.__ngNextListenerFn__;return i&&c===!1&&s.preventDefault(),c}}function Z(n=1){return mP(n)}function DO(n,e,t,r){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=r}function F(n,e=""){let t=Ce(),r=mn(),i=n+gn,o=r.firstCreatePass?ch(r,i,1,e,null):r.data[i],s=SO(r,t,o,e,n);t[i]=s,E0()&&k0(r,t,s,o),Gc(o,!1)}var SO=(n,e,t,r,i)=>(I0(!0),KP(e[Ct],r));function yt(n){return Kt("",n,""),yt}function Kt(n,e,t){let r=Ce(),i=ZF(r,n,e,t);return i!==Gr&&BC(r,Ii(),i),Kt}function z0(n,e,t,r,i){let o=Ce(),s=JF(o,n,e,t,r,i);return s!==Gr&&BC(o,Ii(),s),z0}function Je(n,e,t){ZC(e)&&(e=e());let r=Ce(),i=Gs();if(Qn(r,i,e)){let o=mn(),s=w0();kC(o,s,r,n,e,r[Ct],t,!1)}return Je}function it(n,e){let t=ZC(n);return t&&n.set(e),t}function Xe(n,e){let t=Ce(),r=mn(),i=bn();return JC(r,t,t[Ct],i,n,e),Xe}function TO(n,e,t){let r=mn();if(r.firstCreatePass){let i=bi(n);s0(t,r.data,r.blueprint,i,!0),s0(e,r.data,r.blueprint,i,!1)}}function s0(n,e,t,r,i){if(n=sn(n),Array.isArray(n))for(let o=0;o<n.length;o++)s0(n[o],e,t,r,i);else{let o=mn(),s=Ce(),a=bn(),c=js(n)?n:sn(n.provide),l=SI(n),h=a.providerIndexes&1048575,f=a.directiveStart,m=a.providerIndexes>>20;if(js(n)||!n.multi){let _=new Co(l,i,K),T=vm(c,e,i?h:h+m,f);T===-1?(Rm(Od(a,s),o,c),ym(o,n,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(_),s.push(_)):(t[T]=_,s[T]=_)}else{let _=vm(c,e,h+m,f),T=vm(c,e,h,h+m),D=_>=0&&t[_],A=T>=0&&t[T];if(i&&!A||!i&&!D){Rm(Od(a,s),o,c);let U=RO(i?MO:AO,t.length,i,r,l);!i&&A&&(t[T].providerFactory=U),ym(o,n,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(U),s.push(U)}else{let U=XC(t[i?T:_],l,!i&&r);ym(o,n,_>-1?_:T,U)}!i&&r&&A&&t[T].componentProviders++}}}function ym(n,e,t,r){let i=js(e),o=k2(e);if(i||o){let c=(o?sn(e.useClass):e).prototype.ngOnDestroy;if(c){let l=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){let h=l.indexOf(t);h===-1?l.push(t,[r,c]):l[h+1].push(r,c)}else l.push(t,c)}}}function XC(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function vm(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function AO(n,e,t,r){return a0(this.multi,[])}function MO(n,e,t,r){let i=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=$s(t,t[_e],this.providerFactory.index,r);o=a.slice(0,s),a0(i,o);for(let c=s;c<a.length;c++)o.push(a[c])}else o=[],a0(i,o);return o}function a0(n,e){for(let t=0;t<n.length;t++){let r=n[t];e.push(r())}return e}function RO(n,e,t,r,i){let o=new Co(n,t,K);return o.multi=[],o.index=e,o.componentProviders=0,XC(o,i,r&&!t),o}function Si(n,e=[]){return t=>{t.providersResolver=(r,i)=>TO(r,i?i(n):n,e)}}var NO=(()=>{class n{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let r=II(!1,t.type),i=r.length>0?ph([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=Q({token:n,providedIn:"environment",factory:()=>new n(B(zt))})}}return n})();function eD(n){Ws("NgStandalone"),n.getStandaloneInjector=e=>e.get(NO).getOrCreateStandaloneInjector(n)}function Qc(n,e,t,r){return nD(Ce(),Wc(),n,e,t,r)}function _r(n,e,t,r,i){return rD(Ce(),Wc(),n,e,t,r,i)}function tD(n,e,t,r,i,o){return PO(Ce(),Wc(),n,e,t,r,i,o)}function G0(n,e){let t=n[e];return t===Gr?void 0:t}function nD(n,e,t,r,i,o){let s=e+t;return Qn(n,s,i)?H0(n,s+1,o?r.call(o,i):r(i)):G0(n,s+1)}function rD(n,e,t,r,i,o,s){let a=e+t;return q0(n,a,i,o)?H0(n,a+2,s?r.call(s,i,o):r(i,o)):G0(n,a+2)}function PO(n,e,t,r,i,o,s,a){let c=e+t;return GF(n,c,i,o,s)?H0(n,c+3,a?r.call(a,i,o,s):r(i,o,s)):G0(n,c+3)}function _h(n,e){let t=mn(),r,i=n+gn;t.firstCreatePass?(r=kO(e,t.pipeRegistry),t.data[i]=r,r.onDestroy&&(t.destroyHooks??=[]).push(i,r.onDestroy)):r=t.data[i];let o=r.factory||(r.factory=bo(r.type,!0)),s,a=pn(K);try{let c=Fd(!1),l=o();return Fd(c),DO(t,Ce(),i,l),l}finally{pn(a)}}function kO(n,e){if(e)for(let t=e.length-1;t>=0;t--){let r=e[t];if(n===r.name)return r}}function iD(n,e,t){let r=n+gn,i=Ce(),o=LI(i,r);return sD(i,r)?nD(i,Wc(),e,o.transform,t,o):o.transform(t)}function oD(n,e,t,r){let i=n+gn,o=Ce(),s=LI(o,i);return sD(o,i)?rD(o,Wc(),e,s.transform,t,r,s):s.transform(t,r)}function sD(n,e){return n[_e].data[e].pure}var xd=null;function FO(n){xd!==null&&(n.defaultEncapsulation!==xd.defaultEncapsulation||n.preserveWhitespaces!==xd.preserveWhitespaces)||(xd=n)}var $r=class{constructor(e){this.full=e;let t=e.split(".");this.major=t[0],this.minor=t[1],this.patch=t.slice(2).join(".")}},aD=new $r("17.3.12"),yh=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Q({token:n,factory:n.\u0275fac,providedIn:"platform"})}}return n})();var W0=new G(""),Yc=new G(""),vh=(()=>{class n{constructor(t,r,i){this._ngZone=t,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,K0||(OO(i),i.addToWindow(r)),this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ie.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&this._pendingCount===0&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;this._callbacks.length!==0;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb()}});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>r.updateCb&&r.updateCb(t)?(clearTimeout(r.timeoutId),!1):!0)}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,r,i){let o=-1;r&&r>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==o),t()},r)),this._callbacks.push({doneCb:t,timeoutId:o,updateCb:i})}whenStable(t,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(t){this.registry.registerApplication(t,this)}unregisterApplication(t){this.registry.unregisterApplication(t)}findProviders(t,r,i){return[]}static{this.\u0275fac=function(r){return new(r||n)(B(Ie),B(xh),B(Yc))}}static{this.\u0275prov=Q({token:n,factory:n.\u0275fac})}}return n})(),xh=(()=>{class n{constructor(){this._applications=new Map}registerApplication(t,r){this._applications.set(t,r)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,r=!0){return K0?.findTestabilityInTree(this,t,r)??null}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Q({token:n,factory:n.\u0275fac,providedIn:"platform"})}}return n})();function OO(n){K0=n}var K0;function Ro(n){return!!n&&typeof n.then=="function"}function cD(n){return!!n&&typeof n.subscribe=="function"}var bh=new G(""),uD=(()=>{class n{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r}),this.appInits=$(bh,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let t=[];for(let i of this.appInits){let o=i();if(Ro(o))t.push(o);else if(cD(o)){let s=new Promise((a,c)=>{o.subscribe({complete:a,error:c})});t.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),t.length===0&&r(),this.initialized=!0}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Q({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),wh=new G("");function VO(){Xw(()=>{throw new ne(600,!1)})}function LO(n){return n.isBoundToModule}function jO(n,e,t){try{let r=t();return Ro(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}function lD(n,e){return Array.isArray(e)?e.reduce(lD,n):W(W({},n),e)}var No=(()=>{class n{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=$(uC),this.afterRenderEffectManager=$($0),this.externalTestViews=new Set,this.beforeRender=new ut,this.afterTick=new ut,this.componentTypes=[],this.components=[],this.isStable=$(Mo).hasPendingTasks.pipe(te(t=>!t)),this._injector=$(zt)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(t,r){let i=t instanceof Ud;if(!this._injector.get(uD).done){let m=!i&&xI(t),_=!1;throw new ne(405,_)}let s;i?s=t:s=this._injector.get(hh).resolveComponentFactory(t),this.componentTypes.push(s.componentType);let a=LO(s)?void 0:this._injector.get(wi),c=r||s.selector,l=s.create(In.NULL,[],c,a),h=l.location.nativeElement,f=l.injector.get(W0,null);return f?.registerApplication(h),l.onDestroy(()=>{this.detachView(l.hostView),Cd(this.components,l),f?.unregisterApplication(h)}),this._loadComponent(l),l}tick(){this._tick(!0)}_tick(t){if(this._runningTick)throw new ne(101,!1);let r=we(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(t)}catch(i){this.internalErrorHandler(i)}finally{this.afterTick.next(),this._runningTick=!1,we(r)}}detectChangesInAttachedViews(t){let r=0,i=this.afterRenderEffectManager;for(;;){if(r===zC)throw new ne(103,!1);if(t){let o=r===0;this.beforeRender.next(o);for(let{_lView:s,notifyErrorHandler:a}of this._views)UO(s,o,a)}if(r++,i.executeInternalCallbacks(),![...this.externalTestViews.keys(),...this._views].some(({_lView:o})=>c0(o))&&(i.execute(),![...this.externalTestViews.keys(),...this._views].some(({_lView:o})=>c0(o))))break}}attachView(t){let r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){let r=t;Cd(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);let r=this._injector.get(wh,[]);[...this._bootstrapListeners,...r].forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>Cd(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new ne(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Q({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function Cd(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function UO(n,e,t){!e&&!c0(n)||BO(n,t,e)}function c0(n){return v0(n)}function BO(n,e,t){let r;t?(r=0,n[ue]|=1024):n[ue]&64?r=0:r=1,GC(n,e,r)}var u0=class{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}},Eh=(()=>{class n{compileModuleSync(t){return new qd(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let r=this.compileModuleSync(t),i=bI(t),o=_C(i.declarations).reduce((s,a)=>{let c=xi(a);return c&&s.push(new Hs(c)),s},[]);return new u0(r,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Q({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),$O=new G("");function HO(n,e,t){let r=new qd(t);return Promise.resolve(r)}function nI(n){for(let e=n.length-1;e>=0;e--)if(n[e]!==void 0)return n[e]}var qO=(()=>{class n{constructor(){this.zone=$(Ie),this.applicationRef=$(No)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Q({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function zO(n){return[{provide:Ie,useFactory:n},{provide:Ls,multi:!0,useFactory:()=>{let e=$(qO,{optional:!0});return()=>e.initialize()}},{provide:Ls,multi:!0,useFactory:()=>{let e=$(KO);return()=>{e.initialize()}}},{provide:uC,useFactory:GO}]}function GO(){let n=$(Ie),e=$(gr);return t=>n.runOutsideAngular(()=>e.handleError(t))}function WO(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}var KO=(()=>{class n{constructor(){this.subscription=new ct,this.initialized=!1,this.zone=$(Ie),this.pendingTasks=$(Mo)}initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Ie.assertNotInAngularZone(),queueMicrotask(()=>{t!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Ie.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Q({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function QO(){return typeof $localize<"u"&&$localize.locale||Wd}var Ih=new G("",{providedIn:"root",factory:()=>$(Ih,xe.Optional|xe.SkipSelf)||QO()});var dD=new G(""),hD=(()=>{class n{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,r){let i=pF(r?.ngZone,WO({eventCoalescing:r?.ngZoneEventCoalescing,runCoalescing:r?.ngZoneRunCoalescing}));return i.run(()=>{let o=zF(t.moduleType,this.injector,zO(()=>i)),s=o.injector.get(gr,null);return i.runOutsideAngular(()=>{let a=i.onError.subscribe({next:c=>{s.handleError(c)}});o.onDestroy(()=>{Cd(this._modules,o),a.unsubscribe()})}),jO(s,i,()=>{let a=o.injector.get(uD);return a.runInitializers(),a.donePromise.then(()=>{let c=o.injector.get(Ih,Wd);return IO(c||Wd),this._moduleDoBootstrap(o),o})})})}bootstrapModule(t,r=[]){let i=lD({},r);return HO(this.injector,i,t).then(o=>this.bootstrapModuleFactory(o,i))}_moduleDoBootstrap(t){let r=t.injector.get(No);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(i=>r.bootstrap(i));else if(t.instance.ngDoBootstrap)t.instance.ngDoBootstrap(r);else throw new ne(-403,!1);this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new ne(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());let t=this._injector.get(dD,null);t&&(t.forEach(r=>r()),t.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static{this.\u0275fac=function(r){return new(r||n)(B(In))}}static{this.\u0275prov=Q({token:n,factory:n.\u0275fac,providedIn:"platform"})}}return n})(),Sc=null,fD=new G("");function YO(n){if(Sc&&!Sc.get(fD,!1))throw new ne(400,!1);VO(),Sc=n;let e=n.get(hD);return XO(n),e}function Q0(n,e,t=[]){let r=`Platform: ${e}`,i=new G(r);return(o=[])=>{let s=pD();if(!s||s.injector.get(fD,!1)){let a=[...t,...o,{provide:i,useValue:!0}];n?n(a):YO(ZO(a,r))}return JO(i)}}function ZO(n=[],e){return In.create({name:e,providers:[{provide:Xd,useValue:"platform"},{provide:dD,useValue:new Set([()=>Sc=null])},...n]})}function JO(n){let e=pD();if(!e)throw new ne(401,!1);return e}function pD(){return Sc?.get(hD)??null}function XO(n){n.get(T0,null)?.forEach(t=>t())}function Y0(){return!1}var Po=(()=>{class n{static{this.__NG_ELEMENT_ID__=e4}}return n})();function e4(n){return t4(bn(),Ce(),(n&16)===16)}function t4(n,e,t){if(nh(n)&&!t){let r=Ei(n.index,e);return new So(r,r)}else if(n.type&47){let r=e[Kn];return new So(r,e)}return null}var gD=Q0(null,"core",[]),mD=(()=>{class n{constructor(t){}static{this.\u0275fac=function(r){return new(r||n)(B(No))}}static{this.\u0275mod=rt({type:n})}static{this.\u0275inj=nt({})}}return n})();function Zc(n){return typeof n=="boolean"?n:n!=null&&n!=="false"}function _D(n){let e=xi(n);if(!e)return null;let t=new Hs(e);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var ED=null;function yr(){return ED}function ID(n){ED??=n}var Ph=class{};var Qt=new G(""),i_=(()=>{class n{historyGo(t){throw new Error("")}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Q({token:n,factory:()=>$(i4),providedIn:"platform"})}}return n})(),CD=new G(""),i4=(()=>{class n extends i_{constructor(){super(),this._doc=$(Qt),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return yr().getBaseHref(this._doc)}onPopState(t){let r=yr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){let r=yr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Q({token:n,factory:()=>new n,providedIn:"platform"})}}return n})();function o_(n,e){if(n.length==0)return e;if(e.length==0)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,t==2?n+e.substring(1):t==1?n+e:n+"/"+e}function yD(n){let e=n.match(/#|\?|$/),t=e&&e.index||n.length,r=t-(n[t-1]==="/"?1:0);return n.slice(0,r)+n.slice(t)}function Kr(n){return n&&n[0]!=="?"?"?"+n:n}var ko=(()=>{class n{historyGo(t){throw new Error("")}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Q({token:n,factory:()=>$(s_),providedIn:"root"})}}return n})(),DD=new G(""),s_=(()=>{class n extends ko{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??$(Qt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return o_(this._baseHref,t)}path(t=!1){let r=this._platformLocation.pathname+Kr(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+Kr(o));this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+Kr(o));this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static{this.\u0275fac=function(r){return new(r||n)(B(i_),B(DD,8))}}static{this.\u0275prov=Q({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),SD=(()=>{class n extends ko{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(t){let r=o_(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+Kr(o));s.length==0&&(s=this._platformLocation.pathname),this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+Kr(o));s.length==0&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static{this.\u0275fac=function(r){return new(r||n)(B(i_),B(DD,8))}}static{this.\u0275prov=Q({token:n,factory:n.\u0275fac})}}return n})(),Qs=(()=>{class n{constructor(t){this._subject=new lt,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;let r=this._locationStrategy.getBaseHref();this._basePath=a4(yD(vD(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Kr(r))}normalize(t){return n.stripTrailingSlash(s4(this._basePath,vD(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Kr(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Kr(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}static{this.normalizeQueryParams=Kr}static{this.joinWithSlash=o_}static{this.stripTrailingSlash=yD}static{this.\u0275fac=function(r){return new(r||n)(B(ko))}}static{this.\u0275prov=Q({token:n,factory:()=>o4(),providedIn:"root"})}}return n})();function o4(){return new Qs(B(ko))}function s4(n,e){if(!n||!e.startsWith(n))return e;let t=e.substring(n.length);return t===""||["/",";","?","#"].includes(t[0])?t:e}function vD(n){return n.replace(/\/index.html$/,"")}function a4(n){if(new RegExp("^(https?:)?//").test(n)){let[,t]=n.split(/\/\/[^\/]+/);return t}return n}var un=function(n){return n[n.Format=0]="Format",n[n.Standalone=1]="Standalone",n}(un||{}),Be=function(n){return n[n.Narrow=0]="Narrow",n[n.Abbreviated=1]="Abbreviated",n[n.Wide=2]="Wide",n[n.Short=3]="Short",n}(Be||{}),Cn=function(n){return n[n.Short=0]="Short",n[n.Medium=1]="Medium",n[n.Long=2]="Long",n[n.Full=3]="Full",n}(Cn||{}),Ti={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function c4(n){return Vn(n)[dt.LocaleId]}function u4(n,e,t){let r=Vn(n),i=[r[dt.DayPeriodsFormat],r[dt.DayPeriodsStandalone]],o=Ln(i,e);return Ln(o,t)}function l4(n,e,t){let r=Vn(n),i=[r[dt.DaysFormat],r[dt.DaysStandalone]],o=Ln(i,e);return Ln(o,t)}function d4(n,e,t){let r=Vn(n),i=[r[dt.MonthsFormat],r[dt.MonthsStandalone]],o=Ln(i,e);return Ln(o,t)}function h4(n,e){let r=Vn(n)[dt.Eras];return Ln(r,e)}function Ch(n,e){let t=Vn(n);return Ln(t[dt.DateFormat],e)}function Dh(n,e){let t=Vn(n);return Ln(t[dt.TimeFormat],e)}function Sh(n,e){let r=Vn(n)[dt.DateTimeFormat];return Ln(r,e)}function Fh(n,e){let t=Vn(n),r=t[dt.NumberSymbols][e];if(typeof r>"u"){if(e===Ti.CurrencyDecimal)return t[dt.NumberSymbols][Ti.Decimal];if(e===Ti.CurrencyGroup)return t[dt.NumberSymbols][Ti.Group]}return r}function TD(n){if(!n[dt.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[dt.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function f4(n){let e=Vn(n);return TD(e),(e[dt.ExtraData][2]||[]).map(r=>typeof r=="string"?Z0(r):[Z0(r[0]),Z0(r[1])])}function p4(n,e,t){let r=Vn(n);TD(r);let i=[r[dt.ExtraData][0],r[dt.ExtraData][1]],o=Ln(i,e)||[];return Ln(o,t)||[]}function Ln(n,e){for(let t=e;t>-1;t--)if(typeof n[t]<"u")return n[t];throw new Error("Locale data API: locale data undefined")}function Z0(n){let[e,t]=n.split(":");return{hours:+e,minutes:+t}}var g4=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Th={},m4=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/,Qr=function(n){return n[n.Short=0]="Short",n[n.ShortGMT=1]="ShortGMT",n[n.Long=2]="Long",n[n.Extended=3]="Extended",n}(Qr||{}),Pe=function(n){return n[n.FullYear=0]="FullYear",n[n.Month=1]="Month",n[n.Date=2]="Date",n[n.Hours=3]="Hours",n[n.Minutes=4]="Minutes",n[n.Seconds=5]="Seconds",n[n.FractionalSeconds=6]="FractionalSeconds",n[n.Day=7]="Day",n}(Pe||{}),Ne=function(n){return n[n.DayPeriods=0]="DayPeriods",n[n.Days=1]="Days",n[n.Months=2]="Months",n[n.Eras=3]="Eras",n}(Ne||{});function _4(n,e,t,r){let i=D4(n);e=Wr(t,e)||e;let s=[],a;for(;e;)if(a=m4.exec(e),a){s=s.concat(a.slice(1));let h=s.pop();if(!h)break;e=h}else{s.push(e);break}let c=i.getTimezoneOffset();r&&(c=MD(r,c),i=C4(i,r,!0));let l="";return s.forEach(h=>{let f=E4(h);l+=f?f(i,t,c):h==="''"?"'":h.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),l}function kh(n,e,t){let r=new Date(0);return r.setFullYear(n,e,t),r.setHours(0,0,0),r}function Wr(n,e){let t=c4(n);if(Th[t]??={},Th[t][e])return Th[t][e];let r="";switch(e){case"shortDate":r=Ch(n,Cn.Short);break;case"mediumDate":r=Ch(n,Cn.Medium);break;case"longDate":r=Ch(n,Cn.Long);break;case"fullDate":r=Ch(n,Cn.Full);break;case"shortTime":r=Dh(n,Cn.Short);break;case"mediumTime":r=Dh(n,Cn.Medium);break;case"longTime":r=Dh(n,Cn.Long);break;case"fullTime":r=Dh(n,Cn.Full);break;case"short":let i=Wr(n,"shortTime"),o=Wr(n,"shortDate");r=Ah(Sh(n,Cn.Short),[i,o]);break;case"medium":let s=Wr(n,"mediumTime"),a=Wr(n,"mediumDate");r=Ah(Sh(n,Cn.Medium),[s,a]);break;case"long":let c=Wr(n,"longTime"),l=Wr(n,"longDate");r=Ah(Sh(n,Cn.Long),[c,l]);break;case"full":let h=Wr(n,"fullTime"),f=Wr(n,"fullDate");r=Ah(Sh(n,Cn.Full),[h,f]);break}return r&&(Th[t][e]=r),r}function Ah(n,e){return e&&(n=n.replace(/\{([^}]+)}/g,function(t,r){return e!=null&&r in e?e[r]:t})),n}function Jn(n,e,t="-",r,i){let o="";(n<0||i&&n<=0)&&(i?n=-n+1:(n=-n,o=t));let s=String(n);for(;s.length<e;)s="0"+s;return r&&(s=s.slice(s.length-e)),o+s}function y4(n,e){return Jn(n,3).substring(0,e)}function vt(n,e,t=0,r=!1,i=!1){return function(o,s){let a=v4(n,o);if((t>0||a>-t)&&(a+=t),n===Pe.Hours)a===0&&t===-12&&(a=12);else if(n===Pe.FractionalSeconds)return y4(a,e);let c=Fh(s,Ti.MinusSign);return Jn(a,e,c,r,i)}}function v4(n,e){switch(n){case Pe.FullYear:return e.getFullYear();case Pe.Month:return e.getMonth();case Pe.Date:return e.getDate();case Pe.Hours:return e.getHours();case Pe.Minutes:return e.getMinutes();case Pe.Seconds:return e.getSeconds();case Pe.FractionalSeconds:return e.getMilliseconds();case Pe.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}function ze(n,e,t=un.Format,r=!1){return function(i,o){return x4(i,o,n,e,t,r)}}function x4(n,e,t,r,i,o){switch(t){case Ne.Months:return d4(e,i,r)[n.getMonth()];case Ne.Days:return l4(e,i,r)[n.getDay()];case Ne.DayPeriods:let s=n.getHours(),a=n.getMinutes();if(o){let l=f4(e),h=p4(e,i,r),f=l.findIndex(m=>{if(Array.isArray(m)){let[_,T]=m,D=s>=_.hours&&a>=_.minutes,A=s<T.hours||s===T.hours&&a<T.minutes;if(_.hours<T.hours){if(D&&A)return!0}else if(D||A)return!0}else if(m.hours===s&&m.minutes===a)return!0;return!1});if(f!==-1)return h[f]}return u4(e,i,r)[s<12?0:1];case Ne.Eras:return h4(e,r)[n.getFullYear()<=0?0:1];default:let c=t;throw new Error(`unexpected translation type ${c}`)}}function Mh(n){return function(e,t,r){let i=-1*r,o=Fh(t,Ti.MinusSign),s=i>0?Math.floor(i/60):Math.ceil(i/60);switch(n){case Qr.Short:return(i>=0?"+":"")+Jn(s,2,o)+Jn(Math.abs(i%60),2,o);case Qr.ShortGMT:return"GMT"+(i>=0?"+":"")+Jn(s,1,o);case Qr.Long:return"GMT"+(i>=0?"+":"")+Jn(s,2,o)+":"+Jn(Math.abs(i%60),2,o);case Qr.Extended:return r===0?"Z":(i>=0?"+":"")+Jn(s,2,o)+":"+Jn(Math.abs(i%60),2,o);default:throw new Error(`Unknown zone width "${n}"`)}}}var b4=0,Nh=4;function w4(n){let e=kh(n,b4,1).getDay();return kh(n,0,1+(e<=Nh?Nh:Nh+7)-e)}function AD(n){let e=n.getDay(),t=e===0?-3:Nh-e;return kh(n.getFullYear(),n.getMonth(),n.getDate()+t)}function J0(n,e=!1){return function(t,r){let i;if(e){let o=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,s=t.getDate();i=1+Math.floor((s+o)/7)}else{let o=AD(t),s=w4(o.getFullYear()),a=o.getTime()-s.getTime();i=1+Math.round(a/6048e5)}return Jn(i,n,Fh(r,Ti.MinusSign))}}function Rh(n,e=!1){return function(t,r){let o=AD(t).getFullYear();return Jn(o,n,Fh(r,Ti.MinusSign),e)}}var X0={};function E4(n){if(X0[n])return X0[n];let e;switch(n){case"G":case"GG":case"GGG":e=ze(Ne.Eras,Be.Abbreviated);break;case"GGGG":e=ze(Ne.Eras,Be.Wide);break;case"GGGGG":e=ze(Ne.Eras,Be.Narrow);break;case"y":e=vt(Pe.FullYear,1,0,!1,!0);break;case"yy":e=vt(Pe.FullYear,2,0,!0,!0);break;case"yyy":e=vt(Pe.FullYear,3,0,!1,!0);break;case"yyyy":e=vt(Pe.FullYear,4,0,!1,!0);break;case"Y":e=Rh(1);break;case"YY":e=Rh(2,!0);break;case"YYY":e=Rh(3);break;case"YYYY":e=Rh(4);break;case"M":case"L":e=vt(Pe.Month,1,1);break;case"MM":case"LL":e=vt(Pe.Month,2,1);break;case"MMM":e=ze(Ne.Months,Be.Abbreviated);break;case"MMMM":e=ze(Ne.Months,Be.Wide);break;case"MMMMM":e=ze(Ne.Months,Be.Narrow);break;case"LLL":e=ze(Ne.Months,Be.Abbreviated,un.Standalone);break;case"LLLL":e=ze(Ne.Months,Be.Wide,un.Standalone);break;case"LLLLL":e=ze(Ne.Months,Be.Narrow,un.Standalone);break;case"w":e=J0(1);break;case"ww":e=J0(2);break;case"W":e=J0(1,!0);break;case"d":e=vt(Pe.Date,1);break;case"dd":e=vt(Pe.Date,2);break;case"c":case"cc":e=vt(Pe.Day,1);break;case"ccc":e=ze(Ne.Days,Be.Abbreviated,un.Standalone);break;case"cccc":e=ze(Ne.Days,Be.Wide,un.Standalone);break;case"ccccc":e=ze(Ne.Days,Be.Narrow,un.Standalone);break;case"cccccc":e=ze(Ne.Days,Be.Short,un.Standalone);break;case"E":case"EE":case"EEE":e=ze(Ne.Days,Be.Abbreviated);break;case"EEEE":e=ze(Ne.Days,Be.Wide);break;case"EEEEE":e=ze(Ne.Days,Be.Narrow);break;case"EEEEEE":e=ze(Ne.Days,Be.Short);break;case"a":case"aa":case"aaa":e=ze(Ne.DayPeriods,Be.Abbreviated);break;case"aaaa":e=ze(Ne.DayPeriods,Be.Wide);break;case"aaaaa":e=ze(Ne.DayPeriods,Be.Narrow);break;case"b":case"bb":case"bbb":e=ze(Ne.DayPeriods,Be.Abbreviated,un.Standalone,!0);break;case"bbbb":e=ze(Ne.DayPeriods,Be.Wide,un.Standalone,!0);break;case"bbbbb":e=ze(Ne.DayPeriods,Be.Narrow,un.Standalone,!0);break;case"B":case"BB":case"BBB":e=ze(Ne.DayPeriods,Be.Abbreviated,un.Format,!0);break;case"BBBB":e=ze(Ne.DayPeriods,Be.Wide,un.Format,!0);break;case"BBBBB":e=ze(Ne.DayPeriods,Be.Narrow,un.Format,!0);break;case"h":e=vt(Pe.Hours,1,-12);break;case"hh":e=vt(Pe.Hours,2,-12);break;case"H":e=vt(Pe.Hours,1);break;case"HH":e=vt(Pe.Hours,2);break;case"m":e=vt(Pe.Minutes,1);break;case"mm":e=vt(Pe.Minutes,2);break;case"s":e=vt(Pe.Seconds,1);break;case"ss":e=vt(Pe.Seconds,2);break;case"S":e=vt(Pe.FractionalSeconds,1);break;case"SS":e=vt(Pe.FractionalSeconds,2);break;case"SSS":e=vt(Pe.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=Mh(Qr.Short);break;case"ZZZZZ":e=Mh(Qr.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=Mh(Qr.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=Mh(Qr.Long);break;default:return null}return X0[n]=e,e}function MD(n,e){n=n.replace(/:/g,"");let t=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(t)?e:t}function I4(n,e){return n=new Date(n.getTime()),n.setMinutes(n.getMinutes()+e),n}function C4(n,e,t){let r=t?-1:1,i=n.getTimezoneOffset(),o=MD(e,i);return I4(n,r*(o-i))}function D4(n){if(xD(n))return n;if(typeof n=="number"&&!isNaN(n))return new Date(n);if(typeof n=="string"){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){let[i,o=1,s=1]=n.split("-").map(a=>+a);return kh(i,o-1,s)}let t=parseFloat(n);if(!isNaN(n-t))return new Date(t);let r;if(r=n.match(g4))return S4(r)}let e=new Date(n);if(!xD(e))throw new Error(`Unable to convert "${n}" into a date`);return e}function S4(n){let e=new Date(0),t=0,r=0,i=n[8]?e.setUTCFullYear:e.setFullYear,o=n[8]?e.setUTCHours:e.setHours;n[9]&&(t=Number(n[9]+n[10]),r=Number(n[9]+n[11])),i.call(e,Number(n[1]),Number(n[2])-1,Number(n[3]));let s=Number(n[4]||0)-t,a=Number(n[5]||0)-r,c=Number(n[6]||0),l=Math.floor(parseFloat("0."+(n[7]||0))*1e3);return o.call(e,s,a,c,l),e}function xD(n){return n instanceof Date&&!isNaN(n.valueOf())}function Oh(n,e){e=encodeURIComponent(e);for(let t of n.split(";")){let r=t.indexOf("="),[i,o]=r==-1?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var e_=/\s+/,bD=[],Ai=(()=>{class n{constructor(t,r){this._ngEl=t,this._renderer=r,this.initialClasses=bD,this.stateMap=new Map}set klass(t){this.initialClasses=t!=null?t.trim().split(e_):bD}set ngClass(t){this.rawClass=typeof t=="string"?t.trim().split(e_):t}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(let r of t)this._updateState(r,!0);else if(t!=null)for(let r of Object.keys(t))this._updateState(r,!!t[r]);this._applyStateDiff()}_updateState(t,r){let i=this.stateMap.get(t);i!==void 0?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(t,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let t of this.stateMap){let r=t[0],i=t[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(t,r){t=t.trim(),t.length>0&&t.split(e_).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static{this.\u0275fac=function(r){return new(r||n)(K(Di),K(Ao))}}static{this.\u0275dir=Dt({type:n,selectors:[["","ngClass",""]],inputs:{klass:[Vt.None,"class","klass"],ngClass:"ngClass"},standalone:!0})}}return n})();var vr=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new t_,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){wD("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){wD("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}static{this.\u0275fac=function(r){return new(r||n)(K(Kc),K(U0))}}static{this.\u0275dir=Dt({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return n})(),t_=class{constructor(){this.$implicit=null,this.ngIf=null}};function wD(n,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${n} must be a TemplateRef, but received '${an(e)}'.`)}function T4(n,e){return new ne(2100,!1)}var A4="mediumDate",M4=new G(""),R4=new G(""),RD=(()=>{class n{constructor(t,r,i){this.locale=t,this.defaultTimezone=r,this.defaultOptions=i}transform(t,r,i,o){if(t==null||t===""||t!==t)return null;try{let s=r??this.defaultOptions?.dateFormat??A4,a=i??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return _4(t,s,o||this.locale,a)}catch(s){throw T4(n,s.message)}}static{this.\u0275fac=function(r){return new(r||n)(K(Ih,16),K(M4,24),K(R4,24))}}static{this.\u0275pipe=Zd({name:"date",type:n,pure:!0,standalone:!0})}}return n})();var ND=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=rt({type:n})}static{this.\u0275inj=nt({})}}return n})(),a_="browser",N4="server";function P4(n){return n===a_}function Mi(n){return n===N4}var PD=(()=>{class n{static{this.\u0275prov=Q({token:n,providedIn:"root",factory:()=>P4($(Wt))?new n_($(Qt),window):new r_})}}return n})(),n_=class{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){let t=k4(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){let t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}};function k4(n,e){let t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if(typeof n.createTreeWalker=="function"&&n.body&&typeof n.body.attachShadow=="function"){let r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let o=i.shadowRoot;if(o){let s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}i=r.nextNode()}}return null}var r_=class{setOffset(e){}getScrollPosition(){return[0,0]}scrollToPosition(e){}scrollToAnchor(e){}setHistoryScrollRestoration(e){}},Ks=class{};var Xc=class{},Lh=class{},Fo=class n{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(t=>{let r=t.indexOf(":");if(r>0){let i=t.slice(0,r),o=i.toLowerCase(),s=t.slice(r+1).trim();this.maybeSetNormalizedName(i,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((t,r)=>{this.setHeaderEntries(r,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([t,r])=>{this.setHeaderEntries(t,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof n?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){let t=new n;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof n?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){let t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,t);let i=(e.op==="a"?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":let o=e.value;if(!o)this.headers.delete(t),this.normalizedNames.delete(t);else{let s=this.headers.get(t);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,s)}break}}setHeaderEntries(e,t){let r=(Array.isArray(t)?t:[t]).map(o=>o.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}};var u_=class{encodeKey(e){return kD(e)}encodeValue(e){return kD(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function V4(n,e){let t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{let o=i.indexOf("="),[s,a]=o==-1?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,o)),e.decodeValue(i.slice(o+1))],c=t.get(s)||[];c.push(a),t.set(s,c)}),t}var L4=/%(\d[a-f0-9])/gi,j4={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function kD(n){return encodeURIComponent(n).replace(L4,(e,t)=>j4[t]??e)}function Vh(n){return`${n}`}var Ri=class n{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new u_,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=V4(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{let r=e.fromObject[t],i=Array.isArray(r)?r.map(Vh):[Vh(r)];this.map.set(t,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){let t=[];return Object.keys(e).forEach(r=>{let i=e[r];Array.isArray(i)?i.forEach(o=>{t.push({param:r,value:o,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let t=new n({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let t=(e.op==="a"?this.map.get(e.param):void 0)||[];t.push(Vh(e.value)),this.map.set(e.param,t);break;case"d":if(e.value!==void 0){let r=this.map.get(e.param)||[],i=r.indexOf(Vh(e.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var l_=class{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function U4(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function FD(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function OD(n){return typeof Blob<"u"&&n instanceof Blob}function VD(n){return typeof FormData<"u"&&n instanceof FormData}function B4(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}var Jc=class n{constructor(e,t,r,i){this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase();let o;if(U4(this.method)||i?(this.body=r!==void 0?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new Fo,this.context??=new l_,!this.params)this.params=new Ri,this.urlWithParams=t;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=t;else{let a=t.indexOf("?"),c=a===-1?"?":a<t.length-1?"&":"";this.urlWithParams=t+c+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||FD(this.body)||OD(this.body)||VD(this.body)||B4(this.body)?this.body:this.body instanceof Ri?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||VD(this.body)?null:OD(this.body)?this.body.type||null:FD(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof Ri?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(e={}){let t=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,o=e.transferCache??this.transferCache,s=e.body!==void 0?e.body:this.body,a=e.withCredentials??this.withCredentials,c=e.reportProgress??this.reportProgress,l=e.headers||this.headers,h=e.params||this.params,f=e.context??this.context;return e.setHeaders!==void 0&&(l=Object.keys(e.setHeaders).reduce((m,_)=>m.set(_,e.setHeaders[_]),l)),e.setParams&&(h=Object.keys(e.setParams).reduce((m,_)=>m.set(_,e.setParams[_]),h)),new n(t,r,s,{params:h,headers:l,context:f,reportProgress:c,responseType:i,withCredentials:a,transferCache:o})}},Ys=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(Ys||{}),eu=class{constructor(e,t=Bh.Ok,r="OK"){this.headers=e.headers||new Fo,this.status=e.status!==void 0?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},d_=class n extends eu{constructor(e={}){super(e),this.type=Ys.ResponseHeader}clone(e={}){return new n({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},jh=class n extends eu{constructor(e={}){super(e),this.type=Ys.Response,this.body=e.body!==void 0?e.body:null}clone(e={}){return new n({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},Uh=class extends eu{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},Bh=function(n){return n[n.Continue=100]="Continue",n[n.SwitchingProtocols=101]="SwitchingProtocols",n[n.Processing=102]="Processing",n[n.EarlyHints=103]="EarlyHints",n[n.Ok=200]="Ok",n[n.Created=201]="Created",n[n.Accepted=202]="Accepted",n[n.NonAuthoritativeInformation=203]="NonAuthoritativeInformation",n[n.NoContent=204]="NoContent",n[n.ResetContent=205]="ResetContent",n[n.PartialContent=206]="PartialContent",n[n.MultiStatus=207]="MultiStatus",n[n.AlreadyReported=208]="AlreadyReported",n[n.ImUsed=226]="ImUsed",n[n.MultipleChoices=300]="MultipleChoices",n[n.MovedPermanently=301]="MovedPermanently",n[n.Found=302]="Found",n[n.SeeOther=303]="SeeOther",n[n.NotModified=304]="NotModified",n[n.UseProxy=305]="UseProxy",n[n.Unused=306]="Unused",n[n.TemporaryRedirect=307]="TemporaryRedirect",n[n.PermanentRedirect=308]="PermanentRedirect",n[n.BadRequest=400]="BadRequest",n[n.Unauthorized=401]="Unauthorized",n[n.PaymentRequired=402]="PaymentRequired",n[n.Forbidden=403]="Forbidden",n[n.NotFound=404]="NotFound",n[n.MethodNotAllowed=405]="MethodNotAllowed",n[n.NotAcceptable=406]="NotAcceptable",n[n.ProxyAuthenticationRequired=407]="ProxyAuthenticationRequired",n[n.RequestTimeout=408]="RequestTimeout",n[n.Conflict=409]="Conflict",n[n.Gone=410]="Gone",n[n.LengthRequired=411]="LengthRequired",n[n.PreconditionFailed=412]="PreconditionFailed",n[n.PayloadTooLarge=413]="PayloadTooLarge",n[n.UriTooLong=414]="UriTooLong",n[n.UnsupportedMediaType=415]="UnsupportedMediaType",n[n.RangeNotSatisfiable=416]="RangeNotSatisfiable",n[n.ExpectationFailed=417]="ExpectationFailed",n[n.ImATeapot=418]="ImATeapot",n[n.MisdirectedRequest=421]="MisdirectedRequest",n[n.UnprocessableEntity=422]="UnprocessableEntity",n[n.Locked=423]="Locked",n[n.FailedDependency=424]="FailedDependency",n[n.TooEarly=425]="TooEarly",n[n.UpgradeRequired=426]="UpgradeRequired",n[n.PreconditionRequired=428]="PreconditionRequired",n[n.TooManyRequests=429]="TooManyRequests",n[n.RequestHeaderFieldsTooLarge=431]="RequestHeaderFieldsTooLarge",n[n.UnavailableForLegalReasons=451]="UnavailableForLegalReasons",n[n.InternalServerError=500]="InternalServerError",n[n.NotImplemented=501]="NotImplemented",n[n.BadGateway=502]="BadGateway",n[n.ServiceUnavailable=503]="ServiceUnavailable",n[n.GatewayTimeout=504]="GatewayTimeout",n[n.HttpVersionNotSupported=505]="HttpVersionNotSupported",n[n.VariantAlsoNegotiates=506]="VariantAlsoNegotiates",n[n.InsufficientStorage=507]="InsufficientStorage",n[n.LoopDetected=508]="LoopDetected",n[n.NotExtended=510]="NotExtended",n[n.NetworkAuthenticationRequired=511]="NetworkAuthenticationRequired",n}(Bh||{});function c_(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials,transferCache:n.transferCache}}var $4=(()=>{class n{constructor(t){this.handler=t}request(t,r,i={}){let o;if(t instanceof Jc)o=t;else{let c;i.headers instanceof Fo?c=i.headers:c=new Fo(i.headers);let l;i.params&&(i.params instanceof Ri?l=i.params:l=new Ri({fromObject:i.params})),o=new Jc(t,r,i.body!==void 0?i.body:null,{headers:c,context:i.context,params:l,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache})}let s=oe(o).pipe(jr(c=>this.handler.handle(c)));if(t instanceof Jc||i.observe==="events")return s;let a=s.pipe(It(c=>c instanceof jh));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(te(c=>{if(c.body!==null&&!(c.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return c.body}));case"blob":return a.pipe(te(c=>{if(c.body!==null&&!(c.body instanceof Blob))throw new Error("Response is not a Blob.");return c.body}));case"text":return a.pipe(te(c=>{if(c.body!==null&&typeof c.body!="string")throw new Error("Response is not a string.");return c.body}));case"json":default:return a.pipe(te(c=>c.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:new Ri().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,c_(i,r))}post(t,r,i={}){return this.request("POST",t,c_(i,r))}put(t,r,i={}){return this.request("PUT",t,c_(i,r))}static{this.\u0275fac=function(r){return new(r||n)(B(Xc))}}static{this.\u0275prov=Q({token:n,factory:n.\u0275fac})}}return n})();function BD(n,e){return e(n)}function H4(n,e){return(t,r)=>e.intercept(t,{handle:i=>n(i,r)})}function q4(n,e,t){return(r,i)=>Yn(t,()=>e(r,o=>n(o,i)))}var z4=new G(""),h_=new G(""),G4=new G(""),W4=new G("");function K4(){let n=null;return(e,t)=>{n===null&&(n=($(z4,{optional:!0})??[]).reduceRight(H4,BD));let r=$(Mo),i=r.add();return n(e,t).pipe(_i(()=>r.remove(i)))}}var LD=(()=>{class n extends Xc{constructor(t,r){super(),this.backend=t,this.injector=r,this.chain=null,this.pendingTasks=$(Mo);let i=$(W4,{optional:!0});this.backend=i??t}handle(t){if(this.chain===null){let i=Array.from(new Set([...this.injector.get(h_),...this.injector.get(G4,[])]));this.chain=i.reduceRight((o,s)=>q4(o,s,this.injector),BD)}let r=this.pendingTasks.add();return this.chain(t,i=>this.backend.handle(i)).pipe(_i(()=>this.pendingTasks.remove(r)))}static{this.\u0275fac=function(r){return new(r||n)(B(Lh),B(zt))}}static{this.\u0275prov=Q({token:n,factory:n.\u0275fac})}}return n})();var Q4=/^\)\]\}',?\n/;function Y4(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}var jD=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if(t.method==="JSONP")throw new ne(-2800,!1);let r=this.xhrFactory;return(r.\u0275loadImpl?Ee(r.\u0275loadImpl()):oe(null)).pipe(Ze(()=>new ve(o=>{let s=r.build();if(s.open(t.method,t.urlWithParams),t.withCredentials&&(s.withCredentials=!0),t.headers.forEach((D,A)=>s.setRequestHeader(D,A.join(","))),t.headers.has("Accept")||s.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){let D=t.detectContentTypeHeader();D!==null&&s.setRequestHeader("Content-Type",D)}if(t.responseType){let D=t.responseType.toLowerCase();s.responseType=D!=="json"?D:"text"}let a=t.serializeBody(),c=null,l=()=>{if(c!==null)return c;let D=s.statusText||"OK",A=new Fo(s.getAllResponseHeaders()),U=Y4(s)||t.url;return c=new d_({headers:A,status:s.status,statusText:D,url:U}),c},h=()=>{let{headers:D,status:A,statusText:U,url:Y}=l(),O=null;A!==Bh.NoContent&&(O=typeof s.response>"u"?s.responseText:s.response),A===0&&(A=O?Bh.Ok:0);let X=A>=200&&A<300;if(t.responseType==="json"&&typeof O=="string"){let ce=O;O=O.replace(Q4,"");try{O=O!==""?JSON.parse(O):null}catch(ie){O=ce,X&&(X=!1,O={error:ie,text:O})}}X?(o.next(new jh({body:O,headers:D,status:A,statusText:U,url:Y||void 0})),o.complete()):o.error(new Uh({error:O,headers:D,status:A,statusText:U,url:Y||void 0}))},f=D=>{let{url:A}=l(),U=new Uh({error:D,status:s.status||0,statusText:s.statusText||"Unknown Error",url:A||void 0});o.error(U)},m=!1,_=D=>{m||(o.next(l()),m=!0);let A={type:Ys.DownloadProgress,loaded:D.loaded};D.lengthComputable&&(A.total=D.total),t.responseType==="text"&&s.responseText&&(A.partialText=s.responseText),o.next(A)},T=D=>{let A={type:Ys.UploadProgress,loaded:D.loaded};D.lengthComputable&&(A.total=D.total),o.next(A)};return s.addEventListener("load",h),s.addEventListener("error",f),s.addEventListener("timeout",f),s.addEventListener("abort",f),t.reportProgress&&(s.addEventListener("progress",_),a!==null&&s.upload&&s.upload.addEventListener("progress",T)),s.send(a),o.next({type:Ys.Sent}),()=>{s.removeEventListener("error",f),s.removeEventListener("abort",f),s.removeEventListener("load",h),s.removeEventListener("timeout",f),t.reportProgress&&(s.removeEventListener("progress",_),a!==null&&s.upload&&s.upload.removeEventListener("progress",T)),s.readyState!==s.DONE&&s.abort()}})))}static{this.\u0275fac=function(r){return new(r||n)(B(Ks))}}static{this.\u0275prov=Q({token:n,factory:n.\u0275fac})}}return n})(),$D=new G(""),Z4="XSRF-TOKEN",J4=new G("",{providedIn:"root",factory:()=>Z4}),X4="X-XSRF-TOKEN",eV=new G("",{providedIn:"root",factory:()=>X4}),$h=class{},tV=(()=>{class n{constructor(t,r,i){this.doc=t,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=Oh(t,this.cookieName),this.lastCookieString=t),this.lastToken}static{this.\u0275fac=function(r){return new(r||n)(B(Qt),B(Wt),B(J4))}}static{this.\u0275prov=Q({token:n,factory:n.\u0275fac})}}return n})();function nV(n,e){let t=n.url.toLowerCase();if(!$($D)||n.method==="GET"||n.method==="HEAD"||t.startsWith("http://")||t.startsWith("https://"))return e(n);let r=$($h).getToken(),i=$(eV);return r!=null&&!n.headers.has(i)&&(n=n.clone({headers:n.headers.set(i,r)})),e(n)}var HD=function(n){return n[n.Interceptors=0]="Interceptors",n[n.LegacyInterceptors=1]="LegacyInterceptors",n[n.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",n[n.NoXsrfProtection=3]="NoXsrfProtection",n[n.JsonpSupport=4]="JsonpSupport",n[n.RequestsMadeViaParent=5]="RequestsMadeViaParent",n[n.Fetch=6]="Fetch",n}(HD||{});function rV(n,e){return{\u0275kind:n,\u0275providers:e}}function iV(...n){let e=[$4,jD,LD,{provide:Xc,useExisting:LD},{provide:Lh,useExisting:jD},{provide:h_,useValue:nV,multi:!0},{provide:$D,useValue:!0},{provide:$h,useClass:tV}];for(let t of n)e.push(...t.\u0275providers);return Jd(e)}var UD=new G("");function oV(){return rV(HD.LegacyInterceptors,[{provide:UD,useFactory:K4},{provide:h_,useExisting:UD,multi:!0}])}var qD=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=rt({type:n})}static{this.\u0275inj=nt({providers:[iV(oV())]})}}return n})();var g_=class extends Ph{constructor(){super(...arguments),this.supportsDOMEvents=!0}},m_=class n extends g_{static makeCurrent(){ID(new n)}onAndCancel(e,t,r){return e.addEventListener(t,r),()=>{e.removeEventListener(t,r)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=sV();return t==null?null:aV(t)}resetBaseElement(){tu=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Oh(document.cookie,e)}},tu=null;function sV(){return tu=tu||document.querySelector("base"),tu?tu.getAttribute("href"):null}function aV(n){return new URL(n,document.baseURI).pathname}var __=class{addToWindow(e){Ot.getAngularTestability=(r,i=!0)=>{let o=e.findTestabilityInTree(r,i);if(o==null)throw new ne(5103,!1);return o},Ot.getAllAngularTestabilities=()=>e.getAllTestabilities(),Ot.getAllAngularRootElements=()=>e.getAllRootElements();let t=r=>{let i=Ot.getAllAngularTestabilities(),o=i.length,s=function(){o--,o==0&&r()};i.forEach(a=>{a.whenStable(s)})};Ot.frameworkStabilizers||(Ot.frameworkStabilizers=[]),Ot.frameworkStabilizers.push(t)}findTestabilityInTree(e,t,r){if(t==null)return null;let i=e.getTestability(t);return i??(r?yr().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},cV=(()=>{class n{build(){return new XMLHttpRequest}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Q({token:n,factory:n.\u0275fac})}}return n})(),y_=new G(""),KD=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(o=>o.supports(t)),!r)throw new ne(5101,!1);return this._eventNameToPlugin.set(t,r),r}static{this.\u0275fac=function(r){return new(r||n)(B(y_),B(Ie))}}static{this.\u0275prov=Q({token:n,factory:n.\u0275fac})}}return n})(),Hh=class{constructor(e){this._doc=e}},f_="ng-app-id",QD=(()=>{class n{constructor(t,r,i,o={}){this.doc=t,this.appId=r,this.nonce=i,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Mi(o),this.resetHostNodes()}addStyles(t){for(let r of t)this.changeUsageCount(r,1)===1&&this.onStyleAdded(r)}removeStyles(t){for(let r of t)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){let t=this.styleNodesInDOM;t&&(t.forEach(r=>r.remove()),t.clear());for(let r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(let r of this.getAllStyles())this.addStyleToHost(t,r)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(let r of this.hostNodes)this.addStyleToHost(r,t)}onStyleRemoved(t){let r=this.styleRef;r.get(t)?.elements?.forEach(i=>i.remove()),r.delete(t)}collectServerRenderedStyles(){let t=this.doc.head?.querySelectorAll(`style[${f_}="${this.appId}"]`);if(t?.length){let r=new Map;return t.forEach(i=>{i.textContent!=null&&r.set(i.textContent,i)}),r}return null}changeUsageCount(t,r){let i=this.styleRef;if(i.has(t)){let o=i.get(t);return o.usage+=r,o.usage}return i.set(t,{usage:r,elements:[]}),r}getStyleElement(t,r){let i=this.styleNodesInDOM,o=i?.get(r);if(o?.parentNode===t)return i.delete(r),o.removeAttribute(f_),o;{let s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=r,this.platformIsServer&&s.setAttribute(f_,this.appId),t.appendChild(s),s}}addStyleToHost(t,r){let i=this.getStyleElement(t,r),o=this.styleRef,s=o.get(r)?.elements;s?s.push(i):o.set(r,{elements:[i],usage:1})}resetHostNodes(){let t=this.hostNodes;t.clear(),t.add(this.doc.head)}static{this.\u0275fac=function(r){return new(r||n)(B(Qt),B(ih),B(A0,8),B(Wt))}}static{this.\u0275prov=Q({token:n,factory:n.\u0275fac})}}return n})(),p_={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},x_=/%COMP%/g,YD="%COMP%",uV=`_nghost-${YD}`,lV=`_ngcontent-${YD}`,dV=!0,hV=new G("",{providedIn:"root",factory:()=>dV});function fV(n){return lV.replace(x_,n)}function pV(n){return uV.replace(x_,n)}function ZD(n,e){return e.map(t=>t.replace(x_,n))}var zD=(()=>{class n{constructor(t,r,i,o,s,a,c,l=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=c,this.nonce=l,this.rendererByCompId=new Map,this.platformIsServer=Mi(a),this.defaultRenderer=new nu(t,s,c,this.platformIsServer)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===hr.ShadowDom&&(r=ke(W({},r),{encapsulation:hr.Emulated}));let i=this.getOrCreateRenderer(t,r);return i instanceof qh?i.applyToHost(t):i instanceof ru&&i.applyStyles(),i}getOrCreateRenderer(t,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,c=this.eventManager,l=this.sharedStylesHost,h=this.removeStylesOnCompDestroy,f=this.platformIsServer;switch(r.encapsulation){case hr.Emulated:o=new qh(c,l,r,this.appId,h,s,a,f);break;case hr.ShadowDom:return new v_(c,l,t,r,s,a,this.nonce,f);default:o=new ru(c,l,r,h,s,a,f);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(r){return new(r||n)(B(KD),B(QD),B(ih),B(hV),B(Qt),B(Wt),B(Ie),B(A0))}}static{this.\u0275prov=Q({token:n,factory:n.\u0275fac})}}return n})(),nu=class{constructor(e,t,r,i){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,t){return t?this.doc.createElementNS(p_[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(GD(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(GD(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new ne(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;let o=p_[i];o?e.setAttributeNS(o,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){let i=p_[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(Br.DashCase|Br.Important)?e.style.setProperty(t,r,i&Br.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&Br.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e!=null&&(e[t]=r)}setValue(e,t){e.nodeValue=t}listen(e,t,r){if(typeof e=="string"&&(e=yr().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${t}`);return this.eventManager.addEventListener(e,t,this.decoratePreventDefault(r))}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))===!1&&t.preventDefault()}}};function GD(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var v_=class extends nu{constructor(e,t,r,i,o,s,a,c){super(e,o,s,c),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let l=ZD(i.id,i.styles);for(let h of l){let f=document.createElement("style");a&&f.setAttribute("nonce",a),f.textContent=h,this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},ru=class extends nu{constructor(e,t,r,i,o,s,a,c){super(e,o,s,a),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i,this.styles=c?ZD(c,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},qh=class extends ru{constructor(e,t,r,i,o,s,a,c){let l=i+"-"+r.id;super(e,t,r,o,s,a,c,l),this.contentAttr=fV(l),this.hostAttr=pV(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}},gV=(()=>{class n extends Hh{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}static{this.\u0275fac=function(r){return new(r||n)(B(Qt))}}static{this.\u0275prov=Q({token:n,factory:n.\u0275fac})}}return n})(),WD=["alt","control","meta","shift"],mV={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},_V={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},yV=(()=>{class n extends Hh{constructor(t){super(t)}supports(t){return n.parseEventName(t)!=null}addEventListener(t,r,i){let o=n.parseEventName(r),s=n.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>yr().onAndCancel(t,o.domEventName,s))}static parseEventName(t){let r=t.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=n._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),WD.forEach(l=>{let h=r.indexOf(l);h>-1&&(r.splice(h,1),s+=l+".")}),s+=o,r.length!=0||o.length===0)return null;let c={};return c.domEventName=i,c.fullKey=s,c}static matchEventFullKeyCode(t,r){let i=mV[t.key]||t.key,o="";return r.indexOf("code.")>-1&&(i=t.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),WD.forEach(s=>{if(s!==i){let a=_V[s];a(t)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(t,r,i){return o=>{n.matchEventFullKeyCode(o,t)&&i.runGuarded(()=>r(o))}}static _normalizeKey(t){return t==="esc"?"escape":t}static{this.\u0275fac=function(r){return new(r||n)(B(Qt))}}static{this.\u0275prov=Q({token:n,factory:n.\u0275fac})}}return n})();function vV(){m_.makeCurrent()}function xV(){return new gr}function bV(){return gC(document),document}var wV=[{provide:Wt,useValue:a_},{provide:T0,useValue:vV,multi:!0},{provide:Qt,useFactory:bV,deps:[]}],JD=Q0(gD,"browser",wV),EV=new G(""),IV=[{provide:Yc,useClass:__,deps:[]},{provide:W0,useClass:vh,deps:[Ie,xh,Yc]},{provide:vh,useClass:vh,deps:[Ie,xh,Yc]}],CV=[{provide:Xd,useValue:"root"},{provide:gr,useFactory:xV,deps:[]},{provide:y_,useClass:gV,multi:!0,deps:[Qt,Ie,Wt]},{provide:y_,useClass:yV,multi:!0,deps:[Qt]},zD,QD,KD,{provide:Uc,useExisting:zD},{provide:Ks,useClass:cV,deps:[]},[]],XD=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:ih,useValue:t.appId}]}}static{this.\u0275fac=function(r){return new(r||n)(B(EV,12))}}static{this.\u0275mod=rt({type:n})}static{this.\u0275inj=nt({providers:[...CV,...IV],imports:[ND,mD]})}}return n})();var e1=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static{this.\u0275fac=function(r){return new(r||n)(B(Qt))}}static{this.\u0275prov=Q({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var l1=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static{this.\u0275fac=function(r){return new(r||n)(K(Ao),K(Di))}}static{this.\u0275dir=Dt({type:n})}}return n})(),C_=(()=>{class n extends l1{static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=Ci(n)))(i||n)}})()}static{this.\u0275dir=Dt({type:n,features:[Fn]})}}return n})(),au=new G(""),DV={provide:au,useExisting:mr(()=>cu),multi:!0},cu=(()=>{class n extends C_{writeValue(t){this.setProperty("checked",t)}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=Ci(n)))(i||n)}})()}static{this.\u0275dir=Dt({type:n,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(r,i){r&1&&se("change",function(s){return i.onChange(s.target.checked)})("blur",function(){return i.onTouched()})},features:[Si([DV]),Fn]})}}return n})(),SV={provide:au,useExisting:mr(()=>_n),multi:!0};function TV(){let n=yr()?yr().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var AV=new G(""),_n=(()=>{class n extends l1{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!TV())}writeValue(t){let r=t??"";this.setProperty("value",r)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static{this.\u0275fac=function(r){return new(r||n)(K(Ao),K(Di),K(AV,8))}}static{this.\u0275dir=Dt({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&se("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},features:[Si([SV]),Fn]})}}return n})();function Ni(n){return n==null||(typeof n=="string"||Array.isArray(n))&&n.length===0}function d1(n){return n!=null&&typeof n.length=="number"}var Xh=new G(""),D_=new G(""),MV=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,Yr=class{static min(e){return RV(e)}static max(e){return NV(e)}static required(e){return h1(e)}static requiredTrue(e){return PV(e)}static email(e){return kV(e)}static minLength(e){return FV(e)}static maxLength(e){return OV(e)}static pattern(e){return VV(e)}static nullValidator(e){return Gh(e)}static compose(e){return y1(e)}static composeAsync(e){return x1(e)}};function RV(n){return e=>{if(Ni(e.value)||Ni(n))return null;let t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}function NV(n){return e=>{if(Ni(e.value)||Ni(n))return null;let t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}function h1(n){return Ni(n.value)?{required:!0}:null}function PV(n){return n.value===!0?null:{required:!0}}function kV(n){return Ni(n.value)||MV.test(n.value)?null:{email:!0}}function FV(n){return e=>Ni(e.value)||!d1(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}function OV(n){return e=>d1(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}function VV(n){if(!n)return Gh;let e,t;return typeof n=="string"?(t="",n.charAt(0)!=="^"&&(t+="^"),t+=n,n.charAt(n.length-1)!=="$"&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(Ni(r.value))return null;let i=r.value;return e.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}function Gh(n){return null}function f1(n){return n!=null}function p1(n){return Ro(n)?Ee(n):n}function g1(n){let e={};return n.forEach(t=>{e=t!=null?W(W({},e),t):e}),Object.keys(e).length===0?null:e}function m1(n,e){return e.map(t=>t(n))}function LV(n){return!n.validate}function _1(n){return n.map(e=>LV(e)?e:t=>e.validate(t))}function y1(n){if(!n)return null;let e=n.filter(f1);return e.length==0?null:function(t){return g1(m1(t,e))}}function v1(n){return n!=null?y1(_1(n)):null}function x1(n){if(!n)return null;let e=n.filter(f1);return e.length==0?null:function(t){let r=m1(t,e).map(p1);return Zg(r).pipe(te(g1))}}function b1(n){return n!=null?x1(_1(n)):null}function n1(n,e){return n===null?[e]:Array.isArray(n)?[...n,e]:[n,e]}function w1(n){return n._rawValidators}function E1(n){return n._rawAsyncValidators}function b_(n){return n?Array.isArray(n)?n:[n]:[]}function Wh(n,e){return Array.isArray(n)?n.includes(e):n===e}function r1(n,e){let t=b_(e);return b_(n).forEach(i=>{Wh(t,i)||t.push(i)}),t}function i1(n,e){return b_(e).filter(t=>!Wh(n,t))}var Kh=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=v1(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=b1(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return this.control?this.control.hasError(e,t):!1}getError(e,t){return this.control?this.control.getError(e,t):null}},Oo=class extends Kh{get formDirective(){return null}get path(){return null}},Vo=class extends Kh{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},Qh=class{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}},jV={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},HG=ke(W({},jV),{"[class.ng-submitted]":"isSubmitted"}),Yt=(()=>{class n extends Qh{constructor(t){super(t)}static{this.\u0275fac=function(r){return new(r||n)(K(Vo,2))}}static{this.\u0275dir=Dt({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&mh("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[Fn]})}}return n})(),ef=(()=>{class n extends Qh{constructor(t){super(t)}static{this.\u0275fac=function(r){return new(r||n)(K(Oo,10))}}static{this.\u0275dir=Dt({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&mh("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[Fn]})}}return n})();var iu="VALID",zh="INVALID",Zs="PENDING",ou="DISABLED";function S_(n){return(tf(n)?n.validators:n)||null}function UV(n){return Array.isArray(n)?v1(n):n||null}function T_(n,e){return(tf(e)?e.asyncValidators:n)||null}function BV(n){return Array.isArray(n)?b1(n):n||null}function tf(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function I1(n,e,t){let r=n.controls;if(!(e?Object.keys(r):r).length)throw new ne(1e3,"");if(!r[t])throw new ne(1001,"")}function C1(n,e,t){n._forEachChild((r,i)=>{if(t[i]===void 0)throw new ne(1002,"")})}var Js=class{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===iu}get invalid(){return this.status===zh}get pending(){return this.status==Zs}get disabled(){return this.status===ou}get enabled(){return this.status!==ou}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(r1(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(r1(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(i1(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(i1(e,this._rawAsyncValidators))}hasValidator(e){return Wh(this._rawValidators,e)}hasAsyncValidator(e){return Wh(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Zs,e.emitEvent!==!1&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=ou,this.errors=null,this._forEachChild(r=>{r.disable(ke(W({},e),{onlySelf:!0}))}),this._updateValue(),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(ke(W({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=iu,this._forEachChild(r=>{r.enable(ke(W({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(ke(W({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===iu||this.status===Zs)&&this._runAsyncValidator(e.emitEvent)),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?ou:iu}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Zs,this._hasOwnPendingAsyncValidator=!0;let t=p1(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(t.emitEvent!==!1)}get(e){let t=e;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){let r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new lt,this.statusChanges=new lt}_calculateStatus(){return this._allControlsDisabled()?ou:this.errors?zh:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Zs)?Zs:this._anyControlsHaveStatus(zh)?zh:iu}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){tf(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let t=this._parent&&this._parent.dirty;return!e&&!!t&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=UV(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=BV(this._rawAsyncValidators)}},Yh=class extends Js{constructor(e,t,r){super(S_(t),T_(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){C1(this,!0,e),Object.keys(e).forEach(r=>{I1(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>r._syncPendingControls()?!0:t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{let r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,o)=>{r=t(r,i,o)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var w_=class extends Yh{};var nf=new G("CallSetDisabledState",{providedIn:"root",factory:()=>rf}),rf="always";function D1(n,e){return[...e.path,n]}function E_(n,e,t=rf){A_(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||t==="always")&&e.valueAccessor.setDisabledState?.(n.disabled),HV(n,e),zV(n,e),qV(n,e),$V(n,e)}function o1(n,e,t=!0){let r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),Jh(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function Zh(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function $V(n,e){if(e.valueAccessor.setDisabledState){let t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}function A_(n,e){let t=w1(n);e.validator!==null?n.setValidators(n1(t,e.validator)):typeof t=="function"&&n.setValidators([t]);let r=E1(n);e.asyncValidator!==null?n.setAsyncValidators(n1(r,e.asyncValidator)):typeof r=="function"&&n.setAsyncValidators([r]);let i=()=>n.updateValueAndValidity();Zh(e._rawValidators,i),Zh(e._rawAsyncValidators,i)}function Jh(n,e){let t=!1;if(n!==null){if(e.validator!==null){let i=w1(n);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.validator);o.length!==i.length&&(t=!0,n.setValidators(o))}}if(e.asyncValidator!==null){let i=E1(n);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.asyncValidator);o.length!==i.length&&(t=!0,n.setAsyncValidators(o))}}}let r=()=>{};return Zh(e._rawValidators,r),Zh(e._rawAsyncValidators,r),t}function HV(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&S1(n,e)})}function qV(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&S1(n,e),n.updateOn!=="submit"&&n.markAsTouched()})}function S1(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function zV(n,e){let t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}function GV(n,e){n==null,A_(n,e)}function WV(n,e){return Jh(n,e)}function T1(n,e){if(!n.hasOwnProperty("model"))return!1;let t=n.model;return t.isFirstChange()?!0:!Object.is(e,t.currentValue)}function KV(n){return Object.getPrototypeOf(n.constructor)===C_}function QV(n,e){n._syncPendingControls(),e.forEach(t=>{let r=t.control;r.updateOn==="submit"&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function A1(n,e){if(!e)return null;Array.isArray(e);let t,r,i;return e.forEach(o=>{o.constructor===_n?t=o:KV(o)?r=o:i=o}),i||r||t||null}function YV(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function s1(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function a1(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var su=class extends Js{constructor(e=null,t,r){super(S_(t),T_(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),tf(t)&&(t.nonNullable||t.initialValueIsDefault)&&(a1(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){s1(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){s1(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){a1(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var ZV=n=>n instanceof su;var JV={provide:Vo,useExisting:mr(()=>Dn)},c1=Promise.resolve(),Dn=(()=>{class n extends Vo{constructor(t,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this.control=new su,this._registered=!1,this.name="",this.update=new lt,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=A1(this,o)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){let r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),T1(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){E_(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(t){c1.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){let r=t.isDisabled.currentValue,i=r!==0&&Zc(r);c1.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?D1(t,this._parent):[t]}static{this.\u0275fac=function(r){return new(r||n)(K(Oo,9),K(Xh,10),K(D_,10),K(au,10),K(Po,8),K(nf,8))}}static{this.\u0275dir=Dt({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[Vt.None,"disabled","isDisabled"],model:[Vt.None,"ngModel","model"],options:[Vt.None,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Si([JV]),Fn,zr]})}}return n})(),of=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=Dt({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return n})(),XV={provide:au,useExisting:mr(()=>Zr),multi:!0},Zr=(()=>{class n extends C_{writeValue(t){let r=t??"";this.setProperty("value",r)}registerOnChange(t){this.onChange=r=>{t(r==""?null:parseFloat(r))}}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=Ci(n)))(i||n)}})()}static{this.\u0275dir=Dt({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,i){r&1&&se("input",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},features:[Si([XV]),Fn]})}}return n})();var M1=new G("");var eL={provide:Oo,useExisting:mr(()=>uu)},uu=(()=>{class n extends Oo{constructor(t,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new lt,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Jh(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){let r=this.form.get(t.path);return E_(r,t,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){o1(t.control||null,t,!1),YV(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this.submitted=!0,QV(this.form,this.directives),this.ngSubmit.emit(t),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{let r=t.control,i=this.form.get(t.path);r!==i&&(o1(r||null,t),ZV(i)&&(E_(i,t,this.callSetDisabledState),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){let r=this.form.get(t.path);GV(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){let r=this.form.get(t.path);r&&WV(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){A_(this.form,this),this._oldForm&&Jh(this._oldForm,this)}_checkFormPresent(){this.form}static{this.\u0275fac=function(r){return new(r||n)(K(Xh,10),K(D_,10),K(nf,8))}}static{this.\u0275dir=Dt({type:n,selectors:[["","formGroup",""]],hostBindings:function(r,i){r&1&&se("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{form:[Vt.None,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Si([eL]),Fn,zr]})}}return n})();var tL={provide:Vo,useExisting:mr(()=>lu)},lu=(()=>{class n extends Vo{set isDisabled(t){}static{this._ngModelWarningSentOnce=!1}constructor(t,r,i,o,s){super(),this._ngModelWarningConfig=s,this._added=!1,this.name=null,this.update=new lt,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=A1(this,o)}ngOnChanges(t){this._added||this._setUpControl(),T1(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return D1(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static{this.\u0275fac=function(r){return new(r||n)(K(Oo,13),K(Xh,10),K(D_,10),K(au,10),K(M1,8))}}static{this.\u0275dir=Dt({type:n,selectors:[["","formControlName",""]],inputs:{name:[Vt.None,"formControlName","name"],isDisabled:[Vt.None,"disabled","isDisabled"],model:[Vt.None,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[Si([tL]),Fn,zr]})}}return n})();var nL=(()=>{class n{constructor(){this._validator=Gh}ngOnChanges(t){if(this.inputName in t){let r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):Gh,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return t!=null}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=Dt({type:n,features:[zr]})}}return n})();var rL={provide:Xh,useExisting:mr(()=>Xn),multi:!0};var Xn=(()=>{class n extends nL{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=Zc,this.createValidator=t=>h1}enabled(t){return t}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=Ci(n)))(i||n)}})()}static{this.\u0275dir=Dt({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){r&2&&gh("required",i._enabled?"":null)},inputs:{required:"required"},features:[Si([rL]),Fn]})}}return n})();var R1=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=rt({type:n})}static{this.\u0275inj=nt({})}}return n})(),I_=class extends Js{constructor(e,t,r){super(S_(t),T_(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),t&&(this.controls.splice(i,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){C1(this,!1,e),e.forEach((r,i)=>{I1(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,r)=>r._syncPendingControls()?!0:t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(let e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}};function u1(n){return!!n&&(n.asyncValidators!==void 0||n.validators!==void 0||n.updateOn!==void 0)}var sf=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){let t=new n;return t.useNonNullable=!0,t}group(t,r=null){let i=this._reduceControls(t),o={};return u1(r)?o=r:r!==null&&(o.validators=r.validator,o.asyncValidators=r.asyncValidator),new Yh(i,o)}record(t,r=null){let i=this._reduceControls(t);return new w_(i,r)}control(t,r,i){let o={};return this.useNonNullable?(u1(r)?o=r:(o.validators=r,o.asyncValidators=i),new su(t,ke(W({},o),{nonNullable:!0}))):new su(t,r,i)}array(t,r,i){let o=t.map(s=>this._createControl(s));return new I_(o,r,i)}_reduceControls(t){let r={};return Object.keys(t).forEach(i=>{r[i]=this._createControl(t[i])}),r}_createControl(t){if(t instanceof su)return t;if(t instanceof Js)return t;if(Array.isArray(t)){let r=t[0],i=t.length>1?t[1]:null,o=t.length>2?t[2]:null;return this.control(r,i,o)}else return this.control(t)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Q({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var N1=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:nf,useValue:t.callSetDisabledState??rf}]}}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=rt({type:n})}static{this.\u0275inj=nt({imports:[R1]})}}return n})(),P1=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:M1,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:nf,useValue:t.callSetDisabledState??rf}]}}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=rt({type:n})}static{this.\u0275inj=nt({imports:[R1]})}}return n})();var pe="primary",Cu=Symbol("RouteTitle"),k_=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function ra(n){return new k_(n)}function iL(n,e,t){let r=t.path.split("/");if(r.length>n.length||t.pathMatch==="full"&&(e.hasChildren()||r.length<n.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=n[o];if(s.startsWith(":"))i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function oL(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!br(n[t],e[t]))return!1;return!0}function br(n,e){let t=n?F_(n):void 0,r=e?F_(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let o=0;o<t.length;o++)if(i=t[o],!$1(n[i],e[i]))return!1;return!0}function F_(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function $1(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;let t=[...n].sort(),r=[...e].sort();return t.every((i,o)=>r[o]===i)}else return n===e}function H1(n){return n.length>0?n[n.length-1]:null}function Vi(n){return Yg(n)?n:Ro(n)?Ee(Promise.resolve(n)):oe(n)}var sL={exact:z1,subset:G1},q1={exact:aL,subset:cL,ignored:()=>!0};function k1(n,e,t){return sL[t.paths](n.root,e.root,t.matrixParams)&&q1[t.queryParams](n.queryParams,e.queryParams)&&!(t.fragment==="exact"&&n.fragment!==e.fragment)}function aL(n,e){return br(n,e)}function z1(n,e,t){if(!jo(n.segments,e.segments)||!uf(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!n.children[r]||!z1(n.children[r],e.children[r],t))return!1;return!0}function cL(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>$1(n[t],e[t]))}function G1(n,e,t){return W1(n,e,e.segments,t)}function W1(n,e,t,r){if(n.segments.length>t.length){let i=n.segments.slice(0,t.length);return!(!jo(i,t)||e.hasChildren()||!uf(i,t,r))}else if(n.segments.length===t.length){if(!jo(n.segments,t)||!uf(n.segments,t,r))return!1;for(let i in e.children)if(!n.children[i]||!G1(n.children[i],e.children[i],r))return!1;return!0}else{let i=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!jo(n.segments,i)||!uf(n.segments,i,r)||!n.children[pe]?!1:W1(n.children[pe],e,o,r)}}function uf(n,e,t){return e.every((r,i)=>q1[t](n[i].parameters,r.parameters))}var ki=class{constructor(e=new Fe([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap??=ra(this.queryParams),this._queryParamMap}toString(){return dL.serialize(this)}},Fe=class{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return lf(this)}},Lo=class{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=ra(this.parameters),this._parameterMap}toString(){return Q1(this)}};function uL(n,e){return jo(n,e)&&n.every((t,r)=>br(t.parameters,e[r].parameters))}function jo(n,e){return n.length!==e.length?!1:n.every((t,r)=>t.path===e[r].path)}function lL(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===pe&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==pe&&(t=t.concat(e(i,r)))}),t}var Du=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Q({token:n,factory:()=>new _u,providedIn:"root"})}}return n})(),_u=class{parse(e){let t=new V_(e);return new ki(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${du(e.root,!0)}`,r=pL(e.queryParams),i=typeof e.fragment=="string"?`#${hL(e.fragment)}`:"";return`${t}${r}${i}`}},dL=new _u;function lf(n){return n.segments.map(e=>Q1(e)).join("/")}function du(n,e){if(!n.hasChildren())return lf(n);if(e){let t=n.children[pe]?du(n.children[pe],!1):"",r=[];return Object.entries(n.children).forEach(([i,o])=>{i!==pe&&r.push(`${i}:${du(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}else{let t=lL(n,(r,i)=>i===pe?[du(n.children[pe],!1)]:[`${i}:${du(r,!1)}`]);return Object.keys(n.children).length===1&&n.children[pe]!=null?`${lf(n)}/${t[0]}`:`${lf(n)}/(${t.join("//")})`}}function K1(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function af(n){return K1(n).replace(/%3B/gi,";")}function hL(n){return encodeURI(n)}function O_(n){return K1(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function df(n){return decodeURIComponent(n)}function F1(n){return df(n.replace(/\+/g,"%20"))}function Q1(n){return`${O_(n.path)}${fL(n.parameters)}`}function fL(n){return Object.entries(n).map(([e,t])=>`;${O_(e)}=${O_(t)}`).join("")}function pL(n){let e=Object.entries(n).map(([t,r])=>Array.isArray(r)?r.map(i=>`${af(t)}=${af(i)}`).join("&"):`${af(t)}=${af(r)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}var gL=/^[^\/()?;#]+/;function M_(n){let e=n.match(gL);return e?e[0]:""}var mL=/^[^\/()?;=#]+/;function _L(n){let e=n.match(mL);return e?e[0]:""}var yL=/^[^=?&#]+/;function vL(n){let e=n.match(yL);return e?e[0]:""}var xL=/^[^&#]+/;function bL(n){let e=n.match(xL);return e?e[0]:""}var V_=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Fe([],{}):new Fe([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[pe]=new Fe(e,t)),r}parseSegment(){let e=M_(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new ne(4009,!1);return this.capture(e),new Lo(df(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=_L(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let i=M_(this.remaining);i&&(r=i,this.capture(r))}e[df(t)]=df(r)}parseQueryParam(e){let t=vL(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let s=bL(this.remaining);s&&(r=s,this.capture(r))}let i=F1(t),o=F1(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=M_(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new ne(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=pe);let s=this.parseChildren();t[o]=Object.keys(s).length===1?s[pe]:new Fe([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new ne(4011,!1)}};function Y1(n){return n.segments.length>0?new Fe([],{[pe]:n}):n}function Z1(n){let e={};for(let[r,i]of Object.entries(n.children)){let o=Z1(i);if(r===pe&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let t=new Fe(n.segments,e);return wL(t)}function wL(n){if(n.numberOfChildren===1&&n.children[pe]){let e=n.children[pe];return new Fe(n.segments.concat(e.segments),e.children)}return n}function ia(n){return n instanceof ki}function EL(n,e,t=null,r=null){let i=J1(n);return X1(i,e,t,r)}function J1(n){let e;function t(o){let s={};for(let c of o.children){let l=t(c);s[c.outlet]=l}let a=new Fe(o.url,s);return o===n&&(e=a),a}let r=t(n.root),i=Y1(r);return e??i}function X1(n,e,t,r){let i=n;for(;i.parent;)i=i.parent;if(e.length===0)return R_(i,i,i,t,r);let o=IL(e);if(o.toRoot())return R_(i,i,new Fe([],{}),t,r);let s=CL(o,i,n),a=s.processChildren?pu(s.segmentGroup,s.index,o.commands):tS(s.segmentGroup,s.index,o.commands);return R_(i,s.segmentGroup,a,t,r)}function hf(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function yu(n){return typeof n=="object"&&n!=null&&n.outlets}function R_(n,e,t,r,i){let o={};r&&Object.entries(r).forEach(([c,l])=>{o[c]=Array.isArray(l)?l.map(h=>`${h}`):`${l}`});let s;n===e?s=t:s=eS(n,e,t);let a=Y1(Z1(s));return new ki(a,o,i)}function eS(n,e,t){let r={};return Object.entries(n.children).forEach(([i,o])=>{o===e?r[i]=t:r[i]=eS(o,e,t)}),new Fe(n.segments,r)}var ff=class{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&hf(r[0]))throw new ne(4003,!1);let i=r.find(yu);if(i&&i!==H1(r))throw new ne(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function IL(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new ff(!0,0,n);let e=0,t=!1,r=n.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([c,l])=>{a[c]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?t=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new ff(t,e,r)}var ta=class{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}};function CL(n,e,t){if(n.isAbsolute)return new ta(e,!0,0);if(!t)return new ta(e,!1,NaN);if(t.parent===null)return new ta(t,!0,0);let r=hf(n.commands[0])?0:1,i=t.segments.length-1+r;return DL(t,i,n.numberOfDoubleDots)}function DL(n,e,t){let r=n,i=e,o=t;for(;o>i;){if(o-=i,r=r.parent,!r)throw new ne(4005,!1);i=r.segments.length}return new ta(r,!1,i-o)}function SL(n){return yu(n[0])?n[0].outlets:{[pe]:n}}function tS(n,e,t){if(n??=new Fe([],{}),n.segments.length===0&&n.hasChildren())return pu(n,e,t);let r=TL(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){let o=new Fe(n.segments.slice(0,r.pathIndex),{});return o.children[pe]=new Fe(n.segments.slice(r.pathIndex),n.children),pu(o,0,i)}else return r.match&&i.length===0?new Fe(n.segments,{}):r.match&&!n.hasChildren()?L_(n,e,t):r.match?pu(n,0,i):L_(n,e,t)}function pu(n,e,t){if(t.length===0)return new Fe(n.segments,{});{let r=SL(t),i={};if(Object.keys(r).some(o=>o!==pe)&&n.children[pe]&&n.numberOfChildren===1&&n.children[pe].segments.length===0){let o=pu(n.children[pe],e,t);return new Fe(n.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=tS(n.children[o],e,s))}),Object.entries(n.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new Fe(n.segments,i)}}function TL(n,e,t){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return o;let s=n.segments[i],a=t[r];if(yu(a))break;let c=`${a}`,l=r<t.length-1?t[r+1]:null;if(i>0&&c===void 0)break;if(c&&l&&typeof l=="object"&&l.outlets===void 0){if(!V1(c,l,s))return o;r+=2}else{if(!V1(c,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function L_(n,e,t){let r=n.segments.slice(0,e),i=0;for(;i<t.length;){let o=t[i];if(yu(o)){let c=AL(o.outlets);return new Fe(r,c)}if(i===0&&hf(t[0])){let c=n.segments[e];r.push(new Lo(c.path,O1(t[0]))),i++;continue}let s=yu(o)?o.outlets[pe]:`${o}`,a=i<t.length-1?t[i+1]:null;s&&a&&hf(a)?(r.push(new Lo(s,O1(a))),i+=2):(r.push(new Lo(s,{})),i++)}return new Fe(r,{})}function AL(n){let e={};return Object.entries(n).forEach(([t,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[t]=L_(new Fe([],{}),0,r))}),e}function O1(n){let e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function V1(n,e,t){return n==t.path&&br(e,t.parameters)}var gu="imperative",Pt=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(Pt||{}),jn=class{constructor(e,t){this.id=e,this.url=t}},oa=class extends jn{constructor(e,t,r="imperative",i=null){super(e,t),this.type=Pt.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Jr=class extends jn{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=Pt.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Tn=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n}(Tn||{}),pf=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}(pf||{}),Fi=class extends jn{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=Pt.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Oi=class extends jn{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=Pt.NavigationSkipped}},vu=class extends jn{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=Pt.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},gf=class extends jn{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=Pt.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},j_=class extends jn{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=Pt.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},U_=class extends jn{constructor(e,t,r,i,o){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=Pt.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},B_=class extends jn{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=Pt.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},$_=class extends jn{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=Pt.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},H_=class{constructor(e){this.route=e,this.type=Pt.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},q_=class{constructor(e){this.route=e,this.type=Pt.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},z_=class{constructor(e){this.snapshot=e,this.type=Pt.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},G_=class{constructor(e){this.snapshot=e,this.type=Pt.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},W_=class{constructor(e){this.snapshot=e,this.type=Pt.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},K_=class{constructor(e){this.snapshot=e,this.type=Pt.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},mf=class{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=Pt.Scroll}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},xu=class{},bu=class{constructor(e){this.url=e}};var Q_=class{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Su,this.attachRef=null}},Su=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){let i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){let r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new Q_,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Q({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),_f=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=Y_(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){let t=Y_(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=Z_(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Z_(e,this._root).map(t=>t.value)}};function Y_(n,e){if(n===e.value)return e;for(let t of e.children){let r=Y_(n,t);if(r)return r}return null}function Z_(n,e){if(n===e.value)return[e];for(let t of e.children){let r=Z_(n,t);if(r.length)return r.unshift(e),r}return[]}var Sn=class{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};function ea(n){let e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}var yf=class extends _f{constructor(e,t){super(e),this.snapshot=t,ay(this,e)}toString(){return this.snapshot.toString()}};function nS(n){let e=ML(n),t=new Ft([new Lo("",{})]),r=new Ft({}),i=new Ft({}),o=new Ft({}),s=new Ft(""),a=new sa(t,r,o,s,i,pe,n,e.root);return a.snapshot=e.root,new yf(new Sn(a,[]),e)}function ML(n){let e={},t={},r={},i="",o=new wu([],e,r,i,t,pe,n,null,{});return new vf("",new Sn(o,[]))}var sa=class{constructor(e,t,r,i,o,s,a,c){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(te(l=>l[Cu]))??oe(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(te(e=>ra(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(te(e=>ra(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function sy(n,e,t="emptyOnly"){let r,{routeConfig:i}=n;return e!==null&&(t==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:W(W({},e.params),n.params),data:W(W({},e.data),n.data),resolve:W(W(W(W({},n.data),e.data),i?.data),n._resolvedData)}:r={params:W({},n.params),data:W({},n.data),resolve:W(W({},n.data),n._resolvedData??{})},i&&iS(i)&&(r.resolve[Cu]=i.title),r}var wu=class{get title(){return this.data?.[Cu]}constructor(e,t,r,i,o,s,a,c,l){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=ra(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=ra(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},vf=class extends _f{constructor(e,t){super(t),this.url=e,ay(this,t)}toString(){return rS(this._root)}};function ay(n,e){e.value._routerState=n,e.children.forEach(t=>ay(n,t))}function rS(n){let e=n.children.length>0?` { ${n.children.map(rS).join(", ")} } `:"";return`${n.value}${e}`}function N_(n){if(n.snapshot){let e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,br(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),br(e.params,t.params)||n.paramsSubject.next(t.params),oL(e.url,t.url)||n.urlSubject.next(t.url),br(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function J_(n,e){let t=br(n.params,e.params)&&uL(n.url,e.url),r=!n.parent!=!e.parent;return t&&!r&&(!n.parent||J_(n.parent,e.parent))}function iS(n){return typeof n.title=="string"||n.title===null}var RL=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=pe,this.activateEvents=new lt,this.deactivateEvents=new lt,this.attachEvents=new lt,this.detachEvents=new lt,this.parentContexts=$(Su),this.location=$(Kc),this.changeDetector=$(Po),this.environmentInjector=$(zt),this.inputBinder=$(If,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){let{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new ne(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new ne(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new ne(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new ne(4013,!1);this._activatedRoute=t;let i=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new X_(t,a,i.injector);this.activated=i.createComponent(s,{index:i.length,injector:c,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=Dt({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[zr]})}}return n})(),X_=class n{__ngOutletInjector(e){return new n(this.route,this.childContexts,e)}constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===sa?this.route:e===Su?this.childContexts:this.parent.get(e,t)}},If=new G(""),L1=(()=>{class n{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){let{activatedRoute:r}=t,i=Ic([r.queryParams,r.params,r.data]).pipe(Ze(([o,s,a],c)=>(a=W(W(W({},o),s),a),c===0?oe(a):Promise.resolve(a)))).subscribe(o=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(t);return}let s=_D(r.component);if(!s){this.unsubscribeFromRouteData(t);return}for(let{templateName:a}of s.inputs)t.activatedComponentRef.setInput(a,o[a])});this.outletDataSubscriptions.set(t,i)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Q({token:n,factory:n.\u0275fac})}}return n})();function NL(n,e,t){let r=Eu(n,e._root,t?t._root:void 0);return new yf(r,e)}function Eu(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){let r=t.value;r._futureSnapshot=e.value;let i=PL(n,e,t);return new Sn(r,i)}else{if(n.shouldAttach(e.value)){let o=n.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>Eu(n,a)),s}}let r=kL(e.value),i=e.children.map(o=>Eu(n,o));return new Sn(r,i)}}function PL(n,e,t){return e.children.map(r=>{for(let i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Eu(n,r,i);return Eu(n,r)})}function kL(n){return new sa(new Ft(n.url),new Ft(n.params),new Ft(n.queryParams),new Ft(n.fragment),new Ft(n.data),n.outlet,n.component,n)}var oS="ngNavigationCancelingError";function sS(n,e){let{redirectTo:t,navigationBehaviorOptions:r}=ia(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=aS(!1,Tn.Redirect);return i.url=t,i.navigationBehaviorOptions=r,i}function aS(n,e){let t=new Error(`NavigationCancelingError: ${n||""}`);return t[oS]=!0,t.cancellationCode=e,t}function FL(n){return cS(n)&&ia(n.url)}function cS(n){return!!n&&n[oS]}var OL=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275cmp=qe({type:n,selectors:[["ng-component"]],standalone:!0,features:[eD],decls:1,vars:0,template:function(r,i){r&1&&de(0,"router-outlet")},dependencies:[RL],encapsulation:2})}}return n})();function VL(n,e){return n.providers&&!n._injector&&(n._injector=ph(n.providers,e,`Route: ${n.path}`)),n._injector??e}function cy(n){let e=n.children&&n.children.map(cy),t=e?ke(W({},n),{children:e}):W({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==pe&&(t.component=OL),t}function wr(n){return n.outlet||pe}function LL(n,e){let t=n.filter(r=>wr(r)===e);return t.push(...n.filter(r=>wr(r)!==e)),t}function Tu(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){let t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var jL=(n,e,t,r)=>te(i=>(new ey(e,i.targetRouterState,i.currentRouterState,t,r).activate(n),i)),ey=class{constructor(e,t,r,i,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),N_(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){let i=ea(t);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,r);else o&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=ea(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=ea(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){let i=ea(t);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new K_(o.value.snapshot))}),e.children.length&&this.forwardEvent(new G_(e.value.snapshot))}activateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(N_(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),N_(a.route.value),this.activateChildRoutes(e,null,s.children)}else{let a=Tu(i.snapshot);s.attachRef=null,s.route=i,s.injector=a,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}}else this.activateChildRoutes(e,null,r)}},xf=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},na=class{constructor(e,t){this.component=e,this.route=t}};function UL(n,e,t){let r=n._root,i=e?e._root:null;return hu(r,i,t,[r.value])}function BL(n){let e=n.routeConfig?n.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:n,guards:e}}function ca(n,e){let t=Symbol(),r=e.get(n,t);return r===t?typeof n=="function"&&!oI(n)?n:e.get(n):r}function hu(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=ea(e);return n.children.forEach(s=>{$L(s,o[s.value.outlet],t,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>mu(a,t.getContext(s),i)),i}function $L(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=n.value,s=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let c=HL(s,o,o.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new xf(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?hu(n,e,a?a.children:null,r,i):hu(n,e,t,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new na(a.outlet.component,s))}else s&&mu(e,a,i),i.canActivateChecks.push(new xf(r)),o.component?hu(n,null,a?a.children:null,r,i):hu(n,null,t,r,i);return i}function HL(n,e,t){if(typeof t=="function")return t(n,e);switch(t){case"pathParamsChange":return!jo(n.url,e.url);case"pathParamsOrQueryParamsChange":return!jo(n.url,e.url)||!br(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!J_(n,e)||!br(n.queryParams,e.queryParams);case"paramsChange":default:return!J_(n,e)}}function mu(n,e,t){let r=ea(n),i=n.value;Object.entries(r).forEach(([o,s])=>{i.component?e?mu(s,e.children.getContext(o),t):mu(s,null,t):mu(s,e,t)}),i.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new na(e.outlet.component,i)):t.canDeactivateChecks.push(new na(null,i)):t.canDeactivateChecks.push(new na(null,i))}function Au(n){return typeof n=="function"}function qL(n){return typeof n=="boolean"}function zL(n){return n&&Au(n.canLoad)}function GL(n){return n&&Au(n.canActivate)}function WL(n){return n&&Au(n.canActivateChild)}function KL(n){return n&&Au(n.canDeactivate)}function QL(n){return n&&Au(n.canMatch)}function uS(n){return n instanceof Lr||n?.name==="EmptyError"}var cf=Symbol("INITIAL_VALUE");function aa(){return Ze(n=>Ic(n.map(e=>e.pipe(Ur(1),_o(cf)))).pipe(te(e=>{for(let t of e)if(t!==!0){if(t===cf)return cf;if(t===!1||t instanceof ki)return t}return!0}),It(e=>e!==cf),Ur(1)))}function YL(n,e){return mt(t=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return s.length===0&&o.length===0?oe(ke(W({},t),{guardsResult:!0})):ZL(s,r,i,n).pipe(mt(a=>a&&qL(a)?JL(r,o,n,e):oe(a)),te(a=>ke(W({},t),{guardsResult:a})))})}function ZL(n,e,t,r){return Ee(n).pipe(mt(i=>r3(i.component,i.route,t,e,r)),Nn(i=>i!==!0,!0))}function JL(n,e,t,r){return Ee(e).pipe(jr(i=>As(e3(i.route.parent,r),XL(i.route,r),n3(n,i.path,t),t3(n,i.route,t))),Nn(i=>i!==!0,!0))}function XL(n,e){return n!==null&&e&&e(new W_(n)),oe(!0)}function e3(n,e){return n!==null&&e&&e(new z_(n)),oe(!0)}function t3(n,e,t){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return oe(!0);let i=r.map(o=>fd(()=>{let s=Tu(e)??t,a=ca(o,s),c=GL(a)?a.canActivate(e,n):Yn(s,()=>a(e,n));return Vi(c).pipe(Nn())}));return oe(i).pipe(aa())}function n3(n,e,t){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>BL(s)).filter(s=>s!==null).map(s=>fd(()=>{let a=s.guards.map(c=>{let l=Tu(s.node)??t,h=ca(c,l),f=WL(h)?h.canActivateChild(r,n):Yn(l,()=>h(r,n));return Vi(f).pipe(Nn())});return oe(a).pipe(aa())}));return oe(o).pipe(aa())}function r3(n,e,t,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return oe(!0);let s=o.map(a=>{let c=Tu(e)??i,l=ca(a,c),h=KL(l)?l.canDeactivate(n,e,t,r):Yn(c,()=>l(n,e,t,r));return Vi(h).pipe(Nn())});return oe(s).pipe(aa())}function i3(n,e,t,r){let i=e.canLoad;if(i===void 0||i.length===0)return oe(!0);let o=i.map(s=>{let a=ca(s,n),c=zL(a)?a.canLoad(e,t):Yn(n,()=>a(e,t));return Vi(c)});return oe(o).pipe(aa(),lS(r))}function lS(n){return qg(_t(e=>{if(ia(e))throw sS(n,e)}),te(e=>e===!0))}function o3(n,e,t,r){let i=e.canMatch;if(!i||i.length===0)return oe(!0);let o=i.map(s=>{let a=ca(s,n),c=QL(a)?a.canMatch(e,t):Yn(n,()=>a(e,t));return Vi(c)});return oe(o).pipe(aa(),lS(r))}var Iu=class{constructor(e){this.segmentGroup=e||null}},bf=class extends Error{constructor(e){super(),this.urlTree=e}};function Xs(n){return Ts(new Iu(n))}function s3(n){return Ts(new ne(4e3,!1))}function a3(n){return Ts(aS(!1,Tn.GuardRejected))}var ty=class{constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return oe(r);if(i.numberOfChildren>1||!i.children[pe])return s3(e.redirectTo);i=i.children[pe]}}applyRedirectCommands(e,t,r){let i=this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r);if(t.startsWith("/"))throw new bf(i);return i}applyRedirectCreateUrlTree(e,t,r,i){let o=this.createSegmentGroup(e,t.root,r,i);return new ki(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o.startsWith(":")){let a=o.substring(1);r[i]=t[a]}else r[i]=o}),r}createSegmentGroup(e,t,r,i){let o=this.createSegments(e,t.segments,r,i),s={};return Object.entries(t.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(e,c,r,i)}),new Fe(o,s)}createSegments(e,t,r,i){return t.map(o=>o.path.startsWith(":")?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,t,r){let i=r[t.path.substring(1)];if(!i)throw new ne(4001,!1);return i}findOrReturn(e,t){let r=0;for(let i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}},ny={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function c3(n,e,t,r,i){let o=uy(n,e,t);return o.matched?(r=VL(e,r),o3(r,e,t,i).pipe(te(s=>s===!0?o:W({},ny)))):oe(o)}function uy(n,e,t){if(e.path==="**")return u3(t);if(e.path==="")return e.pathMatch==="full"&&(n.hasChildren()||t.length>0)?W({},ny):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let i=(e.matcher||iL)(t,n,e);if(!i)return W({},ny);let o={};Object.entries(i.posParams??{}).forEach(([a,c])=>{o[a]=c.path});let s=i.consumed.length>0?W(W({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function u3(n){return{matched:!0,parameters:n.length>0?H1(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function j1(n,e,t,r){return t.length>0&&h3(n,t,r)?{segmentGroup:new Fe(e,d3(r,new Fe(t,n.children))),slicedSegments:[]}:t.length===0&&f3(n,t,r)?{segmentGroup:new Fe(n.segments,l3(n,t,r,n.children)),slicedSegments:t}:{segmentGroup:new Fe(n.segments,n.children),slicedSegments:t}}function l3(n,e,t,r){let i={};for(let o of t)if(Cf(n,e,o)&&!r[wr(o)]){let s=new Fe([],{});i[wr(o)]=s}return W(W({},r),i)}function d3(n,e){let t={};t[pe]=e;for(let r of n)if(r.path===""&&wr(r)!==pe){let i=new Fe([],{});t[wr(r)]=i}return t}function h3(n,e,t){return t.some(r=>Cf(n,e,r)&&wr(r)!==pe)}function f3(n,e,t){return t.some(r=>Cf(n,e,r))}function Cf(n,e,t){return(n.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function p3(n,e,t,r){return wr(n)!==r&&(r===pe||!Cf(e,t,n))?!1:uy(e,n,t).matched}function g3(n,e,t){return e.length===0&&!n.children[t]}var ry=class{};function m3(n,e,t,r,i,o,s="emptyOnly"){return new iy(n,e,t,r,i,s,o).recognize()}var _3=31,iy=class{constructor(e,t,r,i,o,s,a){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new ty(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new ne(4002,`'${e.segmentGroup}'`)}recognize(){let e=j1(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(te(t=>{let r=new wu([],Object.freeze({}),Object.freeze(W({},this.urlTree.queryParams)),this.urlTree.fragment,{},pe,this.rootComponentType,null,{}),i=new Sn(r,t),o=new vf("",i),s=EL(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),this.inheritParamsAndData(o._root,null),{state:o,tree:s}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e,pe).pipe(gi(r=>{if(r instanceof bf)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Iu?this.noMatchError(r):r}))}inheritParamsAndData(e,t){let r=e.value,i=sy(r,t,this.paramsInheritanceStrategy);r.params=Object.freeze(i.params),r.data=Object.freeze(i.data),e.children.forEach(o=>this.inheritParamsAndData(o,r))}processSegmentGroup(e,t,r,i){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,i,!0).pipe(te(o=>o instanceof Sn?[o]:[]))}processChildren(e,t,r){let i=[];for(let o of Object.keys(r.children))o==="primary"?i.unshift(o):i.push(o);return Ee(i).pipe(jr(o=>{let s=r.children[o],a=LL(t,o);return this.processSegmentGroup(e,a,s,o)}),mo((o,s)=>(o.push(...s),o)),mi(null),tm(),mt(o=>{if(o===null)return Xs(r);let s=dS(o);return y3(s),oe(s)}))}processSegment(e,t,r,i,o,s){return Ee(t).pipe(jr(a=>this.processSegmentAgainstRoute(a._injector??e,t,a,r,i,o,s).pipe(gi(c=>{if(c instanceof Iu)return oe(null);throw c}))),Nn(a=>!!a),gi(a=>{if(uS(a))return g3(r,i,o)?oe(new ry):Xs(r);throw a}))}processSegmentAgainstRoute(e,t,r,i,o,s,a){return p3(r,i,o,s)?r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,o,s):Xs(i):Xs(i)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s){let{matched:a,consumedSegments:c,positionalParamSegments:l,remainingSegments:h}=uy(t,i,o);if(!a)return Xs(t);i.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>_3&&(this.allowRedirects=!1));let f=this.applyRedirects.applyRedirectCommands(c,i.redirectTo,l);return this.applyRedirects.lineralizeSegments(i,f).pipe(mt(m=>this.processSegment(e,r,t,m.concat(h),s,!1)))}matchSegmentAgainstRoute(e,t,r,i,o){let s=c3(t,r,i,e,this.urlSerializer);return r.path==="**"&&(t.children={}),s.pipe(Ze(a=>a.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(Ze(({routes:c})=>{let l=r._loadedInjector??e,{consumedSegments:h,remainingSegments:f,parameters:m}=a,_=new wu(h,m,Object.freeze(W({},this.urlTree.queryParams)),this.urlTree.fragment,x3(r),wr(r),r.component??r._loadedComponent??null,r,b3(r)),{segmentGroup:T,slicedSegments:D}=j1(t,h,f,c);if(D.length===0&&T.hasChildren())return this.processChildren(l,c,T).pipe(te(U=>U===null?null:new Sn(_,U)));if(c.length===0&&D.length===0)return oe(new Sn(_,[]));let A=wr(r)===o;return this.processSegment(l,c,T,D,A?pe:o,!0).pipe(te(U=>new Sn(_,U instanceof Sn?[U]:[])))}))):Xs(t)))}getChildConfig(e,t,r){return t.children?oe({routes:t.children,injector:e}):t.loadChildren?t._loadedRoutes!==void 0?oe({routes:t._loadedRoutes,injector:t._loadedInjector}):i3(e,t,r,this.urlSerializer).pipe(mt(i=>i?this.configLoader.loadChildren(e,t).pipe(_t(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):a3(t))):oe({routes:[],injector:e})}};function y3(n){n.sort((e,t)=>e.value.outlet===pe?-1:t.value.outlet===pe?1:e.value.outlet.localeCompare(t.value.outlet))}function v3(n){let e=n.value.routeConfig;return e&&e.path===""}function dS(n){let e=[],t=new Set;for(let r of n){if(!v3(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),t.add(i)):e.push(r)}for(let r of t){let i=dS(r.children);e.push(new Sn(r.value,i))}return e.filter(r=>!t.has(r))}function x3(n){return n.data||{}}function b3(n){return n.resolve||{}}function w3(n,e,t,r,i,o){return mt(s=>m3(n,e,t,r,s.extractedUrl,i,o).pipe(te(({state:a,tree:c})=>ke(W({},s),{targetSnapshot:a,urlAfterRedirects:c}))))}function E3(n,e){return mt(t=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return oe(t);let o=new Set(i.map(c=>c.route)),s=new Set;for(let c of o)if(!s.has(c))for(let l of hS(c))s.add(l);let a=0;return Ee(s).pipe(jr(c=>o.has(c)?I3(c,r,n,e):(c.data=sy(c,c.parent,n).resolve,oe(void 0))),_t(()=>a++),Ms(1),mt(c=>a===s.size?oe(t):on))})}function hS(n){let e=n.children.map(t=>hS(t)).flat();return[n,...e]}function I3(n,e,t,r){let i=n.routeConfig,o=n._resolve;return i?.title!==void 0&&!iS(i)&&(o[Cu]=i.title),C3(o,n,e,r).pipe(te(s=>(n._resolvedData=s,n.data=sy(n,n.parent,t).resolve,null)))}function C3(n,e,t,r){let i=F_(n);if(i.length===0)return oe({});let o={};return Ee(i).pipe(mt(s=>D3(n[s],e,t,r).pipe(Nn(),_t(a=>{o[s]=a}))),Ms(1),Xg(o),gi(s=>uS(s)?on:Ts(s)))}function D3(n,e,t,r){let i=Tu(e)??r,o=ca(n,i),s=o.resolve?o.resolve(e,t):Yn(i,()=>o(e,t));return Vi(s)}function P_(n){return Ze(e=>{let t=n(e);return t?Ee(t).pipe(te(()=>e)):oe(e)})}var fS=(()=>{class n{buildTitle(t){let r,i=t.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===pe);return r}getResolvedTitleForRoute(t){return t.data[Cu]}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Q({token:n,factory:()=>$(S3),providedIn:"root"})}}return n})(),S3=(()=>{class n extends fS{constructor(t){super(),this.title=t}updateTitle(t){let r=this.buildTitle(t);r!==void 0&&this.title.setTitle(r)}static{this.\u0275fac=function(r){return new(r||n)(B(e1))}}static{this.\u0275prov=Q({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Mu=new G("",{providedIn:"root",factory:()=>({})}),wf=new G(""),ly=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=$(Eh)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return oe(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);let r=Vi(t.loadComponent()).pipe(te(pS),_t(o=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=o}),_i(()=>{this.componentLoaders.delete(t)})),i=new Is(r,()=>new ut).pipe(Es());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return oe({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=T3(r,this.compiler,t,this.onLoadEndListener).pipe(_i(()=>{this.childrenLoaders.delete(r)})),s=new Is(o,()=>new ut).pipe(Es());return this.childrenLoaders.set(r,s),s}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Q({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function T3(n,e,t,r){return Vi(n.loadChildren()).pipe(te(pS),mt(i=>i instanceof Bc||Array.isArray(i)?oe(i):Ee(e.compileModuleAsync(i))),te(i=>{r&&r(n);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(t).injector,s=o.get(wf,[],{optional:!0,self:!0}).flat()),{routes:s.map(cy),injector:o}}))}function A3(n){return n&&typeof n=="object"&&"default"in n}function pS(n){return A3(n)?n.default:n}var dy=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Q({token:n,factory:()=>$(M3),providedIn:"root"})}}return n})(),M3=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Q({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),gS=new G(""),mS=new G("");function R3(n,e,t){let r=n.get(mS),i=n.get(Qt);return n.get(Ie).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(l=>setTimeout(l));let o,s=new Promise(l=>{o=l}),a=i.startViewTransition(()=>(o(),N3(n))),{onViewTransitionCreated:c}=r;return c&&Yn(n,()=>c({transition:a,from:e,to:t})),s})}function N3(n){return new Promise(e=>{fh(e,{injector:n})})}var hy=(()=>{class n{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new ut,this.transitionAbortSubject=new ut,this.configLoader=$(ly),this.environmentInjector=$(zt),this.urlSerializer=$(Du),this.rootContexts=$(Su),this.location=$(Qs),this.inputBindingEnabled=$(If,{optional:!0})!==null,this.titleStrategy=$(fS),this.options=$(Mu,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=$(dy),this.createViewTransition=$(gS,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>oe(void 0),this.rootComponentType=null;let t=i=>this.events.next(new H_(i)),r=i=>this.events.next(new q_(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=t}complete(){this.transitions?.complete()}handleNavigationRequest(t){let r=++this.navigationId;this.transitions?.next(ke(W(W({},this.transitions.value),t),{id:r}))}setupNavigations(t,r,i){return this.transitions=new Ft({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:gu,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(It(o=>o.id!==0),te(o=>ke(W({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),Ze(o=>{let s=!1,a=!1;return oe(o).pipe(Ze(c=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",Tn.SupersededByNewNavigation),on;this.currentTransition=o,this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?ke(W({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let l=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),h=c.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!l&&h!=="reload"){let f="";return this.events.next(new Oi(c.id,this.urlSerializer.serialize(c.rawUrl),f,pf.IgnoredSameUrlNavigation)),c.resolve(null),on}if(this.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return oe(c).pipe(Ze(f=>{let m=this.transitions?.getValue();return this.events.next(new oa(f.id,this.urlSerializer.serialize(f.extractedUrl),f.source,f.restoredState)),m!==this.transitions?.getValue()?on:Promise.resolve(f)}),w3(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),_t(f=>{o.targetSnapshot=f.targetSnapshot,o.urlAfterRedirects=f.urlAfterRedirects,this.currentNavigation=ke(W({},this.currentNavigation),{finalUrl:f.urlAfterRedirects});let m=new gf(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(m)}));if(l&&this.urlHandlingStrategy.shouldProcessUrl(c.currentRawUrl)){let{id:f,extractedUrl:m,source:_,restoredState:T,extras:D}=c,A=new oa(f,this.urlSerializer.serialize(m),_,T);this.events.next(A);let U=nS(this.rootComponentType).snapshot;return this.currentTransition=o=ke(W({},c),{targetSnapshot:U,urlAfterRedirects:m,extras:ke(W({},D),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=m,oe(o)}else{let f="";return this.events.next(new Oi(c.id,this.urlSerializer.serialize(c.extractedUrl),f,pf.IgnoredByUrlHandlingStrategy)),c.resolve(null),on}}),_t(c=>{let l=new j_(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(l)}),te(c=>(this.currentTransition=o=ke(W({},c),{guards:UL(c.targetSnapshot,c.currentSnapshot,this.rootContexts)}),o)),YL(this.environmentInjector,c=>this.events.next(c)),_t(c=>{if(o.guardsResult=c.guardsResult,ia(c.guardsResult))throw sS(this.urlSerializer,c.guardsResult);let l=new U_(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(l)}),It(c=>c.guardsResult?!0:(this.cancelNavigationTransition(c,"",Tn.GuardRejected),!1)),P_(c=>{if(c.guards.canActivateChecks.length)return oe(c).pipe(_t(l=>{let h=new B_(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(h)}),Ze(l=>{let h=!1;return oe(l).pipe(E3(this.paramsInheritanceStrategy,this.environmentInjector),_t({next:()=>h=!0,complete:()=>{h||this.cancelNavigationTransition(l,"",Tn.NoDataFromResolver)}}))}),_t(l=>{let h=new $_(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(h)}))}),P_(c=>{let l=h=>{let f=[];h.routeConfig?.loadComponent&&!h.routeConfig._loadedComponent&&f.push(this.configLoader.loadComponent(h.routeConfig).pipe(_t(m=>{h.component=m}),te(()=>{})));for(let m of h.children)f.push(...l(m));return f};return Ic(l(c.targetSnapshot.root)).pipe(mi(null),Ur(1))}),P_(()=>this.afterPreactivation()),Ze(()=>{let{currentSnapshot:c,targetSnapshot:l}=o,h=this.createViewTransition?.(this.environmentInjector,c.root,l.root);return h?Ee(h).pipe(te(()=>o)):oe(o)}),te(c=>{let l=NL(t.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return this.currentTransition=o=ke(W({},c),{targetRouterState:l}),this.currentNavigation.targetRouterState=l,o}),_t(()=>{this.events.next(new xu)}),jL(this.rootContexts,t.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),Ur(1),_t({next:c=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Jr(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects))),this.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{s=!0}}),rm(this.transitionAbortSubject.pipe(_t(c=>{throw c}))),_i(()=>{!s&&!a&&this.cancelNavigationTransition(o,"",Tn.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),gi(c=>{if(a=!0,cS(c))this.events.next(new Fi(o.id,this.urlSerializer.serialize(o.extractedUrl),c.message,c.cancellationCode)),FL(c)?this.events.next(new bu(c.url)):o.resolve(!1);else{this.events.next(new vu(o.id,this.urlSerializer.serialize(o.extractedUrl),c,o.targetSnapshot??void 0));try{o.resolve(t.errorHandler(c))}catch(l){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(l)}}return on}))}))}cancelNavigationTransition(t,r,i){let o=new Fi(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(o),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Q({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function P3(n){return n!==gu}var k3=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Q({token:n,factory:()=>$(F3),providedIn:"root"})}}return n})(),oy=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}},F3=(()=>{class n extends oy{static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=Ci(n)))(i||n)}})()}static{this.\u0275prov=Q({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),_S=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Q({token:n,factory:()=>$(O3),providedIn:"root"})}}return n})(),O3=(()=>{class n extends _S{constructor(){super(...arguments),this.location=$(Qs),this.urlSerializer=$(Du),this.options=$(Mu,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=$(dy),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new ki,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=nS(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(r=>{r.type==="popstate"&&t(r.url,r.state)})}handleRouterEvent(t,r){if(t instanceof oa)this.stateMemento=this.createStateMemento();else if(t instanceof Oi)this.rawUrlTree=r.initialUrl;else if(t instanceof gf){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let i=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(i,r)}}else t instanceof xu?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,r))):t instanceof Fi&&(t.code===Tn.GuardRejected||t.code===Tn.NoDataFromResolver)?this.restoreHistory(r):t instanceof vu?this.restoreHistory(r,!0):t instanceof Jr&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,r){let i=this.urlSerializer.serialize(t);if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){let o=this.browserPageId,s=W(W({},r.extras.state),this.generateNgRouterState(r.id,o));this.location.replaceState(i,"",s)}else{let o=W(W({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(i,"",o)}}restoreHistory(t,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.currentUrlTree===t.finalUrl&&o===0&&(this.resetState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=Ci(n)))(i||n)}})()}static{this.\u0275prov=Q({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),fu=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(fu||{});function yS(n,e){n.events.pipe(It(t=>t instanceof Jr||t instanceof Fi||t instanceof vu||t instanceof Oi),te(t=>t instanceof Jr||t instanceof Oi?fu.COMPLETE:(t instanceof Fi?t.code===Tn.Redirect||t.code===Tn.SupersededByNewNavigation:!1)?fu.REDIRECTING:fu.FAILED),It(t=>t!==fu.REDIRECTING),Ur(1)).subscribe(()=>{e()})}function V3(n){throw n}var L3={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},j3={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},er=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=$(yh),this.stateManager=$(_S),this.options=$(Mu,{optional:!0})||{},this.pendingTasks=$(Mo),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=$(hy),this.urlSerializer=$(Du),this.location=$(Qs),this.urlHandlingStrategy=$(dy),this._events=new ut,this.errorHandler=this.options.errorHandler||V3,this.navigated=!1,this.routeReuseStrategy=$(k3),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=$(wf,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!$(If,{optional:!0}),this.eventsSubscription=new ct,this.isNgZoneEnabled=$(Ie)instanceof Ie&&Ie.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof Fi&&r.code!==Tn.Redirect&&r.code!==Tn.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof Jr)this.navigated=!0;else if(r instanceof bu){let s=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),a={info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:this.urlUpdateStrategy==="eager"||P3(i.source)};this.scheduleNavigation(s,gu,null,a,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}B3(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),gu,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(t,"popstate",r)},0)})}navigateToSyncWithBrowser(t,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let c=W({},i);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(o.state=c)}let a=this.parseUrl(t);this.scheduleNavigation(a,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(cy),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:c}=r,l=c?this.currentUrlTree.fragment:s,h=null;switch(a){case"merge":h=W(W({},this.currentUrlTree.queryParams),o);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=o||null}h!==null&&(h=this.removeEmptyProps(h));let f;try{let m=i?i.snapshot:this.routerState.snapshot.root;f=J1(m)}catch{(typeof t[0]!="string"||!t[0].startsWith("/"))&&(t=[]),f=this.currentUrlTree.root}return X1(f,t,h,l??null)}navigateByUrl(t,r={skipLocationChange:!1}){let i=ia(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,gu,null,r)}navigate(t,r={skipLocationChange:!1}){return U3(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,r){let i;if(r===!0?i=W({},L3):r===!1?i=W({},j3):i=r,ia(t))return k1(this.currentUrlTree,t,i);let o=this.parseUrl(t);return k1(this.currentUrlTree,o,i)}removeEmptyProps(t){return Object.entries(t).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(t,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,c,l;s?(a=s.resolve,c=s.reject,l=s.promise):l=new Promise((f,m)=>{a=f,c=m});let h=this.pendingTasks.add();return yS(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(h))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:a,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(f=>Promise.reject(f))}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Q({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function U3(n){for(let e=0;e<n.length;e++)if(n[e]==null)throw new ne(4008,!1)}function B3(n){return!(n instanceof xu)&&!(n instanceof bu)}var Ef=class{};var $3=(()=>{class n{constructor(t,r,i,o,s){this.router=t,this.injector=i,this.preloadingStrategy=o,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(It(t=>t instanceof Jr),jr(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){let i=[];for(let o of r){o.providers&&!o._injector&&(o._injector=ph(o.providers,t,`Route: ${o.path}`));let s=o._injector??t,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&i.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&i.push(this.processRoutes(a,o.children??o._loadedRoutes))}return Ee(i).pipe(pi())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;r.loadChildren&&r.canLoad===void 0?i=this.loader.loadChildren(t,r):i=oe(null);let o=i.pipe(mt(s=>s===null?oe(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??t,s.routes))));if(r.loadComponent&&!r._loadedComponent){let s=this.loader.loadComponent(r);return Ee([o,s]).pipe(pi())}else return o})}static{this.\u0275fac=function(r){return new(r||n)(B(er),B(Eh),B(zt),B(Ef),B(ly))}}static{this.\u0275prov=Q({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),vS=new G(""),H3=(()=>{class n{constructor(t,r,i,o,s={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},this.environmentInjector=$(zt),s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof oa?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Jr?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof Oi&&t.code===pf.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof mf&&(t.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(t.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>k(this,null,function*(){yield new Promise(i=>{setTimeout(()=>{i()}),fh(()=>{i()},{injector:this.environmentInjector})}),this.zone.run(()=>{this.transitions.events.next(new mf(t,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})}))}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static{this.\u0275fac=function(r){DC()}}static{this.\u0275prov=Q({token:n,factory:n.\u0275fac})}}return n})();function q3(n){return n.routerState.root}function Ru(n,e){return{\u0275kind:n,\u0275providers:e}}function z3(){let n=$(In);return e=>{let t=n.get(No);if(e!==t.components[0])return;let r=n.get(er),i=n.get(xS);n.get(fy)===1&&r.initialNavigation(),n.get(bS,null,xe.Optional)?.setUpPreloading(),n.get(vS,null,xe.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var xS=new G("",{factory:()=>new ut}),fy=new G("",{providedIn:"root",factory:()=>1});function G3(){return Ru(2,[{provide:fy,useValue:0},{provide:bh,multi:!0,deps:[In],useFactory:e=>{let t=e.get(CD,Promise.resolve());return()=>t.then(()=>new Promise(r=>{let i=e.get(er),o=e.get(xS);yS(i,()=>{r(!0)}),e.get(hy).afterPreactivation=()=>(r(!0),o.closed?oe(void 0):o),i.initialNavigation()}))}}])}function W3(){return Ru(3,[{provide:bh,multi:!0,useFactory:()=>{let e=$(er);return()=>{e.setUpLocationChangeListener()}}},{provide:fy,useValue:2}])}var bS=new G("");function K3(n){return Ru(0,[{provide:bS,useExisting:$3},{provide:Ef,useExisting:n}])}function Q3(){return Ru(8,[L1,{provide:If,useExisting:L1}])}function Y3(n){let e=[{provide:gS,useValue:R3},{provide:mS,useValue:W({skipNextTransition:!!n?.skipInitialTransition},n)}];return Ru(9,e)}var U1=new G("ROUTER_FORROOT_GUARD"),Z3=[Qs,{provide:Du,useClass:_u},er,Su,{provide:sa,useFactory:q3,deps:[er]},ly,[]],py=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[Z3,[],{provide:wf,multi:!0,useValue:t},{provide:U1,useFactory:t5,deps:[[er,new qc,new hI]]},{provide:Mu,useValue:r||{}},r?.useHash?X3():e5(),J3(),r?.preloadingStrategy?K3(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?n5(r):[],r?.bindToComponentInputs?Q3().\u0275providers:[],r?.enableViewTransitions?Y3().\u0275providers:[],r5()]}}static forChild(t){return{ngModule:n,providers:[{provide:wf,multi:!0,useValue:t}]}}static{this.\u0275fac=function(r){return new(r||n)(B(U1,8))}}static{this.\u0275mod=rt({type:n})}static{this.\u0275inj=nt({})}}return n})();function J3(){return{provide:vS,useFactory:()=>{let n=$(PD),e=$(Ie),t=$(Mu),r=$(hy),i=$(Du);return t.scrollOffset&&n.setOffset(t.scrollOffset),new H3(i,r,n,e,t)}}}function X3(){return{provide:ko,useClass:SD}}function e5(){return{provide:ko,useClass:s_}}function t5(n){return"guarded"}function n5(n){return[n.initialNavigation==="disabled"?W3().\u0275providers:[],n.initialNavigation==="enabledBlocking"?G3().\u0275providers:[]]}var B1=new G("");function r5(){return[{provide:B1,useFactory:z3},{provide:wh,multi:!0,useExisting:B1}]}var i5=[],ES=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=rt({type:n})}static{this.\u0275inj=nt({imports:[py.forRoot(i5),py]})}}return n})();var Er=class{Get_Count_Holiday_Have_Event_Log(){}Get_Count_Friday_Have_Event_Log(){}Calc_Before(e,t){let r=0;return e.map(i=>{let o=i.Count,s=i.countFriday,a=i.countHoliday,c;t!=null&&(c=t.find(l=>l.Hour==i.Attendance).Price),r+=o*c,r+=s*(c*.25),r+=a*(c*.5)}),r}Calc_After(e,t){return e==0||e==null||e==null||typeof e!="number"?0:(t.map(r=>{this.splitNumber(e,this.Get_Split_Size(r,e),r.Skip).map((o,s)=>{r.Sub_Layer[s]&&r.Sub_Layer[s].Calc_Until=="Current"?o.Subtract=o.Spliting*r.Sub_Layer[s].Val:r.Sub_Layer[r.Sub_Layer.length-1].Calc_Until=="To-End"&&(o.Subtract=o.Spliting*r.Sub_Layer[r.Sub_Layer.length-1].Val),e-=o.Subtract})}),parseFloat(e.toFixed(2)))}Get_Split_Size(e,t){return e.Split_Size=="Salary"?t:e.Split_Size}Is_Percentage(e){return parseFloat(e)/100}splitNumber(e,t,r){if(e<r)return[];let i=[],o=e;for(o>=r&&(o-=r);o>t;)i.push({Spliting:t,Subtract:0}),o-=t;return o>0&&i.push({Spliting:o,Subtract:0}),i}};var Df=class{constructor(e){this.Fire_Users=e,this.blankDays=[],this.noOfDays=[],this.final_42_days=[],this.initDate()}initDate(){let e=new Date;this.month=e.getMonth(),this.year=e.getFullYear(),this.datepickerValue=new Date(this.year,this.month,e.getDate()).toDateString(),this.refreshCalendarDays()}refreshCalendarDays(){this.blankDays=this.getBlankDays(),this.noOfDays=this.getDaysInCurrentMonth(),this.final_42_days=[...this.blankDays,...this.noOfDays],this.final_42_days.length<42&&(this.final_42_days=[...this.final_42_days,...this.getNextMonthDays(42-this.final_42_days.length)]),this.Append_Event_Data_For_Day(this.Fire_Users.User_Data)}getBlankDays(){let e=new Date(this.year,this.month).getDay(),t=new Date(this.year,this.month,0).getDate();return Array.from({length:e+1},(r,i)=>({Day_Number:t-e+i,Current_Month:!1,Date:new Date(this.year,this.month-1,t-e+i)}))}getDaysInCurrentMonth(){let e=new Date(this.year,this.month+1,0).getDate(),t=new Date;return Array.from({length:e},(r,i)=>({Day_Number:i+1,Current_Month:!0,Date:new Date(this.year,this.month,i+1),Current_Day:this.isToday(i+1,t)}))}getNextMonthDays(e){return Array.from({length:e},(t,r)=>({Day_Number:r+1,Current_Month:!1,Date:new Date(this.year,this.month+1,r+1)}))}isToday(e,t){return this.year===t.getFullYear()&&this.month===t.getMonth()&&e===t.getDate()}Next_Month(){this.month+=1,this.month>11&&(this.month=0,this.year+=1),this.refreshCalendarDays()}Previous_Month(){this.month-=1,this.month<0&&(this.month=11,this.year-=1),this.refreshCalendarDays()}Append_Event_Data_For_Day(e){this.final_42_days.map(t=>{let r=this.Find_My_Day_Event_From_FireBase(e.Month_Data,t);r!=null&&(t.Event=r.Event)})}Find_My_Day_Event_From_FireBase(e,t){if(e!=null)return e.find(r=>String(r.Date.toDate())==String(t.Date))}Count_Attendance(){let e=this.Fire_Users?.User_Data?.Hour_Salary,t=[];e!=null&&(t=e.map(s=>s.Hour));let r=this.final_42_days.filter(s=>s.Current_Month===!0&&s.Event!==void 0),i=r.filter(s=>s.Event.Attendance!=="").reduce((s,a)=>{let c=a.Event.Attendance;return s[c]=(s[c]||0)+1,s},{});return t.map(s=>({Attendance:s,Count:i[s]||0,countFriday:this.Get_Count_Friday_Have_Event_Log(r,s),countHoliday:this.Get_Count_Holiday_Have_Event_Log(r,s)}))}Get_Count_Holiday_Have_Event_Log(e,t){return e.filter(i=>{let o=i.Event.Holiday,s=i.Event.Attendance==t;return o&&s}).length}Get_Count_Friday_Have_Event_Log(e,t){return e.filter(i=>{let s=new Date(i.Date).getDay()===5,a=i.Event&&Object.keys(i.Event.Attendance).length>0,c=i.Event.Holiday,l=i.Event.Attendance==t;return s&&a&&!c&&l}).length}Count_Events(){let e=this.final_42_days.filter(o=>o.Current_Month===!0&&o.Event!==void 0),t=0,r=0,i=0;return e.forEach(o=>{o.Event.Absence&&t++,o.Event.Holiday&&r++,o.Event.Late&&i++}),[{Event_Name:"Absence",Count:t},{Event_Name:"Holiday",Count:r},{Event_Name:"Late",Count:i}]}};var o5="firebase",s5="10.14.1";fi(o5,s5,"app");var Bo=new $r("ANGULARFIRE2_VERSION");var a5=(n,e)=>{let t=e?[e]:Ww(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},Uo=class{constructor(){return a5(c5)}},c5="app-check";function gy(){}var Sf=class{zone;delegate;constructor(e,t=Kg){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){let i=this.zone,o=function(s){i.runGuarded(()=>{e.apply(this,[s])})};return this.delegate.schedule(o,t,r)}},my=class{zone;task=null;constructor(e){this.zone=e}call(e,t){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",gy,{},gy,gy)),t.pipe(_t({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},Tf=(()=>{class n{ngZone;outsideAngular;insideAngular;constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new Sf(Zone.current)),this.insideAngular=t.run(()=>new Sf(Zone.current,Ec)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||n)(B(Ie))};static \u0275prov=Q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function u5(){let n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return n}function yn(n){return l5(u5())(n)}function l5(n){return function(t){return t=t.lift(new my(n.ngZone)),t.pipe(zn(n.outsideAngular),Rn(n.insideAngular))}}var f5=new Map,p5={activated:!1,tokenObservers:[]},g5={initialized:!1,enabled:!1};function tr(n){return f5.get(n)||Object.assign({},p5)}function AS(){return g5}var m5="https://content-firebaseappcheck.googleapis.com/v1";var _5="exchangeDebugToken",CS={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3},PW=24*60*60*1e3;var yy=class{constructor(e,t,r,i,o){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){return k(this,null,function*(){this.stop();try{this.pending=new Rg,this.pending.promise.catch(t=>{}),yield y5(this.getNextRun(e)),this.pending.resolve(),yield this.pending.promise,this.pending=new Rg,this.pending.promise.catch(t=>{}),yield this.operation(),this.pending.resolve(),yield this.pending.promise,this.process(!0).catch(()=>{})}catch(t){this.retryPolicy(t)?this.process(!1).catch(()=>{}):this.stop()}})}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}};function y5(n){return new Promise(e=>{setTimeout(e,n)})}var v5={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"},Li=new zw("appCheck","AppCheck",v5);function MS(n){if(!tr(n).activated)throw Li.create("use-before-activation",{appName:n.name})}function RS(r,i){return k(this,arguments,function*({url:n,body:e},t){let o={"Content-Type":"application/json"},s=t.getImmediate({optional:!0});if(s){let _=yield s.getHeartbeatsHeader();_&&(o["X-Firebase-Client"]=_)}let a={method:"POST",body:JSON.stringify(e),headers:o},c;try{c=yield fetch(n,a)}catch(_){throw Li.create("fetch-network-error",{originalErrorMessage:_?.message})}if(c.status!==200)throw Li.create("fetch-status-error",{httpStatus:c.status});let l;try{l=yield c.json()}catch(_){throw Li.create("fetch-parse-error",{originalErrorMessage:_?.message})}let h=l.ttl.match(/^([\d.]+)(s)$/);if(!h||!h[2]||isNaN(Number(h[1])))throw Li.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${l.ttl}`});let f=Number(h[1])*1e3,m=Date.now();return{token:l.token,expireTimeMillis:m+f,issuedAtTimeMillis:m}})}function NS(n,e){let{projectId:t,appId:r,apiKey:i}=n.options;return{url:`${m5}/projects/${t}/apps/${r}:${_5}?key=${i}`,body:{debug_token:e}}}var x5="firebase-app-check-database",b5=1,vy="firebase-app-check-store";var Af=null;function w5(){return Af||(Af=new Promise((n,e)=>{try{let t=indexedDB.open(x5,b5);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(Li.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},t.onupgradeneeded=r=>{let i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(vy,{keyPath:"compositeKey"})}}}catch(t){e(Li.create("storage-open",{originalErrorMessage:t?.message}))}}),Af)}function E5(n,e){return I5(C5(n),e)}function I5(n,e){return k(this,null,function*(){let r=(yield w5()).transaction(vy,"readwrite"),o=r.objectStore(vy).put({compositeKey:n,value:e});return new Promise((s,a)=>{o.onsuccess=c=>{s()},r.onerror=c=>{var l;a(Li.create("storage-set",{originalErrorMessage:(l=c.target.error)===null||l===void 0?void 0:l.message}))}})})}function C5(n){return`${n.options.appId}-${n.name}`}var xy=new $l("@firebase/app-check");function _y(n,e){return Bl()?E5(n,e).catch(t=>{xy.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function PS(){return AS().enabled}function kS(){return k(this,null,function*(){let n=AS();if(n.enabled&&n.token)return n.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)})}var D5={error:"UNKNOWN_ERROR"};function S5(n){return $w.encodeString(JSON.stringify(n),!1)}function by(n,e=!1){return k(this,null,function*(){let t=n.app;MS(t);let r=tr(t),i=r.token,o;if(i&&!Nu(i)&&(r.token=void 0,i=void 0),!i){let c=yield r.cachedTokenPromise;c&&(Nu(c)?i=c:yield _y(t,void 0))}if(!e&&i&&Nu(i))return{token:i.token};let s=!1;if(PS()){r.exchangeTokenPromise||(r.exchangeTokenPromise=RS(NS(t,yield kS()),n.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),s=!0);let c=yield r.exchangeTokenPromise;return yield _y(t,c),r.token=c,{token:c.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),s=!0),i=yield tr(t).exchangeTokenPromise}catch(c){c.code==="appCheck/throttled"?xy.warn(c.message):xy.error(c),o=c}let a;return i?o?Nu(i)?a={token:i.token,internalError:o}:a=SS(o):(a={token:i.token},r.token=i,yield _y(t,i)):a=SS(o),s&&R5(t,a),a})}function T5(n){return k(this,null,function*(){let e=n.app;MS(e);let{provider:t}=tr(e);if(PS()){let r=yield kS(),{token:i}=yield RS(NS(e,r),n.heartbeatServiceProvider);return{token:i}}else{let{token:r}=yield t.getToken();return{token:r}}})}function A5(n,e,t,r){let{app:i}=n,o=tr(i),s={next:t,error:r,type:e};if(o.tokenObservers=[...o.tokenObservers,s],o.token&&Nu(o.token)){let a=o.token;Promise.resolve().then(()=>{t({token:a.token}),DS(n)}).catch(()=>{})}o.cachedTokenPromise.then(()=>DS(n))}function FS(n,e){let t=tr(n),r=t.tokenObservers.filter(i=>i.next!==e);r.length===0&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function DS(n){let{app:e}=n,t=tr(e),r=t.tokenRefresher;r||(r=M5(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function M5(n){let{app:e}=n;return new yy(()=>k(this,null,function*(){let t=tr(e),r;if(t.token?r=yield by(n,!0):r=yield by(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{let t=tr(e);if(t.token){let r=t.token.issuedAtTimeMillis+(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)*.5+3e5,i=t.token.expireTimeMillis-5*60*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},CS.RETRIAL_MIN_WAIT,CS.RETRIAL_MAX_WAIT)}function R5(n,e){let t=tr(n).tokenObservers;for(let r of t)try{r.type==="EXTERNAL"&&e.error!=null?r.error(e.error):r.next(e)}catch{}}function Nu(n){return n.expireTimeMillis-Date.now()>0}function SS(n){return{token:S5(D5),error:n}}var wy=class{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){let{tokenObservers:e}=tr(this.app);for(let t of e)FS(this.app,t.next);return Promise.resolve()}};function N5(n,e){return new wy(n,e)}function P5(n){return{getToken:e=>by(n,e),getLimitedUseToken:()=>T5(n),addTokenListener:e=>A5(n,"INTERNAL",e),removeTokenListener:e=>FS(n.app,e)}}var k5="@firebase/app-check",F5="0.8.8";var O5="app-check",TS="app-check-internal";function V5(){vc(new ho(O5,n=>{let e=n.getProvider("app").getImmediate(),t=n.getProvider("heartbeat");return N5(e,t)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(TS).initialize()})),vc(new ho(TS,n=>{let e=n.getProvider("app-check").getImmediate();return P5(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),fi(k5,F5)}V5();var L5=["localhost","0.0.0.0","127.0.0.1"],zW=typeof window<"u"&&L5.includes(window.location.hostname);var j5="firebase",U5="10.14.1";At.registerVersion(j5,U5,"app-compat");var B5=["ngOnDestroy"],LS=(n,e,t,r={})=>new Proxy(n,{get:(i,o)=>t.runOutsideAngular(()=>{if(n[o])return r?.spy?.get&&r.spy.get(o,n[o]),n[o];if(B5.indexOf(o)>-1)return()=>{};let s=e.toPromise().then(a=>{let c=a?.[o];return typeof c=="function"?c.bind(a):c?.then?c.then(l=>t.run(()=>l)):t.run(()=>c)});return new Proxy(()=>{},{get:(a,c)=>s[c],apply:(a,c,l)=>s.then(h=>{let f=h?.(...l);return r?.spy?.apply&&r.spy.apply(o,l,f),f})})})});var Mf=class{constructor(e){return e}},ua=new G("angularfire2.app.options"),la=new G("angularfire2.app.name");function Pu(n,e,t){let r=typeof t=="string"&&t||"[DEFAULT]",i=typeof t=="object"&&t||{};i.name=i.name||r;let s=At.apps.filter(a=>a&&a.name===i.name)[0]||e.runOutsideAngular(()=>At.initializeApp(n,i));try{if(JSON.stringify(n)!==JSON.stringify(s.options)){let a=!!module.hot;$5("error",`${s.name} Firebase App already initialized with different options${a?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new Mf(s)}var $5=(n,...e)=>{Y0()&&typeof console<"u"&&console[n](...e)},H5={provide:Mf,useFactory:Pu,deps:[ua,Ie,[new qc,la]]},jS=(()=>{class n{static initializeApp(t,r){return{ngModule:n,providers:[{provide:ua,useValue:t},{provide:la,useValue:r}]}}constructor(t){At.registerVersion("angularfire",Bo.full,"core"),At.registerVersion("angularfire",Bo.full,"app-compat"),At.registerVersion("angular",aD.full,t.toString())}static \u0275fac=function(r){return new(r||n)(B(Wt))};static \u0275mod=rt({type:n});static \u0275inj=nt({providers:[H5]})}return n})();function Rf(n,e,t,r,i){let[,o,s]=globalThis.\u0275AngularfireInstanceCache.find(a=>a[0]===n)||[];if(o)return q5(i,s)||(VS("error",`${e} was already initialized on the ${t} Firebase App with different settings.${z5?" You may need to reload as Firebase is not HMR aware.":""}`),VS("warn",{is:i,was:s})),o;{let a=r();return globalThis.\u0275AngularfireInstanceCache.push([n,a,i]),a}}function q5(n,e){try{return n.toString()===e.toString()}catch{return n===e}}var z5=typeof module<"u"&&!!module.hot,VS=(n,...e)=>{Y0()&&typeof console<"u"&&console[n](...e)};globalThis.\u0275AngularfireInstanceCache||=[];var Ey=new G("angularfire2.auth.use-emulator"),Iy=new G("angularfire2.auth.settings"),Cy=new G("angularfire2.auth.tenant-id"),Dy=new G("angularfire2.auth.langugage-code"),Sy=new G("angularfire2.auth.use-device-language"),Ty=new G("angularfire.auth.persistence"),Ay=(n,e,t,r,i,o,s,a)=>Rf(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{let c=e.runOutsideAngular(()=>n.auth());if(t&&c.useEmulator(...t),r&&(c.tenantId=r),c.languageCode=i,o&&c.useDeviceLanguage(),s)for(let[l,h]of Object.entries(s))c.settings[l]=h;return a&&c.setPersistence(a),c},[t,r,i,o,s,a]),nr=(()=>{class n{authState;idToken;user;idTokenResult;credential;constructor(t,r,i,o,s,a,c,l,h,f,m,_){let T=new ut,D=oe(void 0).pipe(Rn(s.outsideAngular),Ze(()=>o.runOutsideAngular(()=>import("./chunk-BM64HSLY.js"))),te(()=>Pu(t,o,r)),te(A=>Ay(A,o,a,l,h,f,c,m)),gd({bufferSize:1,refCount:!1}));if(Mi(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=oe(null);else{D.pipe(Nn()).subscribe();let A=D.pipe(Ze(O=>O.getRedirectResult().then(X=>X,()=>null)),yn,gd({bufferSize:1,refCount:!1})),U=D.pipe(Ze(O=>new ve(X=>({unsubscribe:o.runOutsideAngular(()=>O.onAuthStateChanged(ce=>X.next(ce),ce=>X.error(ce),()=>X.complete()))})))),Y=D.pipe(Ze(O=>new ve(X=>({unsubscribe:o.runOutsideAngular(()=>O.onIdTokenChanged(ce=>X.next(ce),ce=>X.error(ce),()=>X.complete()))}))));this.authState=A.pipe(md(U),zn(s.outsideAngular),Rn(s.insideAngular)),this.user=A.pipe(md(Y),zn(s.outsideAngular),Rn(s.insideAngular)),this.idToken=this.user.pipe(Ze(O=>O?Ee(O.getIdToken()):oe(null))),this.idTokenResult=this.user.pipe(Ze(O=>O?Ee(O.getIdTokenResult()):oe(null))),this.credential=Jg(A,T,this.authState.pipe(It(O=>!O))).pipe(te(O=>O?.user?O:null),zn(s.outsideAngular),Rn(s.insideAngular))}return LS(this,D,o,{spy:{apply:(A,U,Y)=>{(A.startsWith("signIn")||A.startsWith("createUser"))&&Y.then(O=>T.next(O))}}})}static \u0275fac=function(r){return new(r||n)(B(ua),B(la,8),B(Wt),B(Ie),B(Tf),B(Ey,8),B(Iy,8),B(Cy,8),B(Dy,8),B(Sy,8),B(Ty,8),B(Uo,8))};static \u0275prov=Q({token:n,factory:n.\u0275fac,providedIn:"any"})}return n})(),US=(()=>{class n{constructor(){At.registerVersion("angularfire",Bo.full,"auth-compat")}static \u0275fac=function(r){return new(r||n)};static \u0275mod=rt({type:n});static \u0275inj=nt({providers:[nr]})}return n})();var BS=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},$S={};var ji,My;(function(){var n;function e(w,y){function x(){}x.prototype=y.prototype,w.D=y.prototype,w.prototype=new x,w.prototype.constructor=w,w.C=function(I,C,M){for(var v=Array(arguments.length-2),kr=2;kr<arguments.length;kr++)v[kr-2]=arguments[kr];return y.prototype[C].apply(I,v)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(w,y,x){x||(x=0);var I=Array(16);if(typeof y=="string")for(var C=0;16>C;++C)I[C]=y.charCodeAt(x++)|y.charCodeAt(x++)<<8|y.charCodeAt(x++)<<16|y.charCodeAt(x++)<<24;else for(C=0;16>C;++C)I[C]=y[x++]|y[x++]<<8|y[x++]<<16|y[x++]<<24;y=w.g[0],x=w.g[1],C=w.g[2];var M=w.g[3],v=y+(M^x&(C^M))+I[0]+3614090360&4294967295;y=x+(v<<7&4294967295|v>>>25),v=M+(C^y&(x^C))+I[1]+3905402710&4294967295,M=y+(v<<12&4294967295|v>>>20),v=C+(x^M&(y^x))+I[2]+606105819&4294967295,C=M+(v<<17&4294967295|v>>>15),v=x+(y^C&(M^y))+I[3]+3250441966&4294967295,x=C+(v<<22&4294967295|v>>>10),v=y+(M^x&(C^M))+I[4]+4118548399&4294967295,y=x+(v<<7&4294967295|v>>>25),v=M+(C^y&(x^C))+I[5]+1200080426&4294967295,M=y+(v<<12&4294967295|v>>>20),v=C+(x^M&(y^x))+I[6]+2821735955&4294967295,C=M+(v<<17&4294967295|v>>>15),v=x+(y^C&(M^y))+I[7]+4249261313&4294967295,x=C+(v<<22&4294967295|v>>>10),v=y+(M^x&(C^M))+I[8]+1770035416&4294967295,y=x+(v<<7&4294967295|v>>>25),v=M+(C^y&(x^C))+I[9]+2336552879&4294967295,M=y+(v<<12&4294967295|v>>>20),v=C+(x^M&(y^x))+I[10]+4294925233&4294967295,C=M+(v<<17&4294967295|v>>>15),v=x+(y^C&(M^y))+I[11]+2304563134&4294967295,x=C+(v<<22&4294967295|v>>>10),v=y+(M^x&(C^M))+I[12]+1804603682&4294967295,y=x+(v<<7&4294967295|v>>>25),v=M+(C^y&(x^C))+I[13]+4254626195&4294967295,M=y+(v<<12&4294967295|v>>>20),v=C+(x^M&(y^x))+I[14]+2792965006&4294967295,C=M+(v<<17&4294967295|v>>>15),v=x+(y^C&(M^y))+I[15]+1236535329&4294967295,x=C+(v<<22&4294967295|v>>>10),v=y+(C^M&(x^C))+I[1]+4129170786&4294967295,y=x+(v<<5&4294967295|v>>>27),v=M+(x^C&(y^x))+I[6]+3225465664&4294967295,M=y+(v<<9&4294967295|v>>>23),v=C+(y^x&(M^y))+I[11]+643717713&4294967295,C=M+(v<<14&4294967295|v>>>18),v=x+(M^y&(C^M))+I[0]+3921069994&4294967295,x=C+(v<<20&4294967295|v>>>12),v=y+(C^M&(x^C))+I[5]+3593408605&4294967295,y=x+(v<<5&4294967295|v>>>27),v=M+(x^C&(y^x))+I[10]+38016083&4294967295,M=y+(v<<9&4294967295|v>>>23),v=C+(y^x&(M^y))+I[15]+3634488961&4294967295,C=M+(v<<14&4294967295|v>>>18),v=x+(M^y&(C^M))+I[4]+3889429448&4294967295,x=C+(v<<20&4294967295|v>>>12),v=y+(C^M&(x^C))+I[9]+568446438&4294967295,y=x+(v<<5&4294967295|v>>>27),v=M+(x^C&(y^x))+I[14]+3275163606&4294967295,M=y+(v<<9&4294967295|v>>>23),v=C+(y^x&(M^y))+I[3]+4107603335&4294967295,C=M+(v<<14&4294967295|v>>>18),v=x+(M^y&(C^M))+I[8]+1163531501&4294967295,x=C+(v<<20&4294967295|v>>>12),v=y+(C^M&(x^C))+I[13]+2850285829&4294967295,y=x+(v<<5&4294967295|v>>>27),v=M+(x^C&(y^x))+I[2]+4243563512&4294967295,M=y+(v<<9&4294967295|v>>>23),v=C+(y^x&(M^y))+I[7]+1735328473&4294967295,C=M+(v<<14&4294967295|v>>>18),v=x+(M^y&(C^M))+I[12]+2368359562&4294967295,x=C+(v<<20&4294967295|v>>>12),v=y+(x^C^M)+I[5]+4294588738&4294967295,y=x+(v<<4&4294967295|v>>>28),v=M+(y^x^C)+I[8]+2272392833&4294967295,M=y+(v<<11&4294967295|v>>>21),v=C+(M^y^x)+I[11]+1839030562&4294967295,C=M+(v<<16&4294967295|v>>>16),v=x+(C^M^y)+I[14]+4259657740&4294967295,x=C+(v<<23&4294967295|v>>>9),v=y+(x^C^M)+I[1]+2763975236&4294967295,y=x+(v<<4&4294967295|v>>>28),v=M+(y^x^C)+I[4]+1272893353&4294967295,M=y+(v<<11&4294967295|v>>>21),v=C+(M^y^x)+I[7]+4139469664&4294967295,C=M+(v<<16&4294967295|v>>>16),v=x+(C^M^y)+I[10]+3200236656&4294967295,x=C+(v<<23&4294967295|v>>>9),v=y+(x^C^M)+I[13]+681279174&4294967295,y=x+(v<<4&4294967295|v>>>28),v=M+(y^x^C)+I[0]+3936430074&4294967295,M=y+(v<<11&4294967295|v>>>21),v=C+(M^y^x)+I[3]+3572445317&4294967295,C=M+(v<<16&4294967295|v>>>16),v=x+(C^M^y)+I[6]+76029189&4294967295,x=C+(v<<23&4294967295|v>>>9),v=y+(x^C^M)+I[9]+3654602809&4294967295,y=x+(v<<4&4294967295|v>>>28),v=M+(y^x^C)+I[12]+3873151461&4294967295,M=y+(v<<11&4294967295|v>>>21),v=C+(M^y^x)+I[15]+530742520&4294967295,C=M+(v<<16&4294967295|v>>>16),v=x+(C^M^y)+I[2]+3299628645&4294967295,x=C+(v<<23&4294967295|v>>>9),v=y+(C^(x|~M))+I[0]+4096336452&4294967295,y=x+(v<<6&4294967295|v>>>26),v=M+(x^(y|~C))+I[7]+1126891415&4294967295,M=y+(v<<10&4294967295|v>>>22),v=C+(y^(M|~x))+I[14]+2878612391&4294967295,C=M+(v<<15&4294967295|v>>>17),v=x+(M^(C|~y))+I[5]+4237533241&4294967295,x=C+(v<<21&4294967295|v>>>11),v=y+(C^(x|~M))+I[12]+1700485571&4294967295,y=x+(v<<6&4294967295|v>>>26),v=M+(x^(y|~C))+I[3]+2399980690&4294967295,M=y+(v<<10&4294967295|v>>>22),v=C+(y^(M|~x))+I[10]+4293915773&4294967295,C=M+(v<<15&4294967295|v>>>17),v=x+(M^(C|~y))+I[1]+2240044497&4294967295,x=C+(v<<21&4294967295|v>>>11),v=y+(C^(x|~M))+I[8]+1873313359&4294967295,y=x+(v<<6&4294967295|v>>>26),v=M+(x^(y|~C))+I[15]+4264355552&4294967295,M=y+(v<<10&4294967295|v>>>22),v=C+(y^(M|~x))+I[6]+2734768916&4294967295,C=M+(v<<15&4294967295|v>>>17),v=x+(M^(C|~y))+I[13]+1309151649&4294967295,x=C+(v<<21&4294967295|v>>>11),v=y+(C^(x|~M))+I[4]+4149444226&4294967295,y=x+(v<<6&4294967295|v>>>26),v=M+(x^(y|~C))+I[11]+3174756917&4294967295,M=y+(v<<10&4294967295|v>>>22),v=C+(y^(M|~x))+I[2]+718787259&4294967295,C=M+(v<<15&4294967295|v>>>17),v=x+(M^(C|~y))+I[9]+3951481745&4294967295,w.g[0]=w.g[0]+y&4294967295,w.g[1]=w.g[1]+(C+(v<<21&4294967295|v>>>11))&4294967295,w.g[2]=w.g[2]+C&4294967295,w.g[3]=w.g[3]+M&4294967295}r.prototype.u=function(w,y){y===void 0&&(y=w.length);for(var x=y-this.blockSize,I=this.B,C=this.h,M=0;M<y;){if(C==0)for(;M<=x;)i(this,w,M),M+=this.blockSize;if(typeof w=="string"){for(;M<y;)if(I[C++]=w.charCodeAt(M++),C==this.blockSize){i(this,I),C=0;break}}else for(;M<y;)if(I[C++]=w[M++],C==this.blockSize){i(this,I),C=0;break}}this.h=C,this.o+=y},r.prototype.v=function(){var w=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);w[0]=128;for(var y=1;y<w.length-8;++y)w[y]=0;var x=8*this.o;for(y=w.length-8;y<w.length;++y)w[y]=x&255,x/=256;for(this.u(w),w=Array(16),y=x=0;4>y;++y)for(var I=0;32>I;I+=8)w[x++]=this.g[y]>>>I&255;return w};function o(w,y){var x=a;return Object.prototype.hasOwnProperty.call(x,w)?x[w]:x[w]=y(w)}function s(w,y){this.h=y;for(var x=[],I=!0,C=w.length-1;0<=C;C--){var M=w[C]|0;I&&M==y||(x[C]=M,I=!1)}this.g=x}var a={};function c(w){return-128<=w&&128>w?o(w,function(y){return new s([y|0],0>y?-1:0)}):new s([w|0],0>w?-1:0)}function l(w){if(isNaN(w)||!isFinite(w))return f;if(0>w)return A(l(-w));for(var y=[],x=1,I=0;w>=x;I++)y[I]=w/x|0,x*=4294967296;return new s(y,0)}function h(w,y){if(w.length==0)throw Error("number format error: empty string");if(y=y||10,2>y||36<y)throw Error("radix out of range: "+y);if(w.charAt(0)=="-")return A(h(w.substring(1),y));if(0<=w.indexOf("-"))throw Error('number format error: interior "-" character');for(var x=l(Math.pow(y,8)),I=f,C=0;C<w.length;C+=8){var M=Math.min(8,w.length-C),v=parseInt(w.substring(C,C+M),y);8>M?(M=l(Math.pow(y,M)),I=I.j(M).add(l(v))):(I=I.j(x),I=I.add(l(v)))}return I}var f=c(0),m=c(1),_=c(16777216);n=s.prototype,n.m=function(){if(D(this))return-A(this).m();for(var w=0,y=1,x=0;x<this.g.length;x++){var I=this.i(x);w+=(0<=I?I:4294967296+I)*y,y*=4294967296}return w},n.toString=function(w){if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(T(this))return"0";if(D(this))return"-"+A(this).toString(w);for(var y=l(Math.pow(w,6)),x=this,I="";;){var C=X(x,y).g;x=U(x,C.j(y));var M=((0<x.g.length?x.g[0]:x.h)>>>0).toString(w);if(x=C,T(x))return M+I;for(;6>M.length;)M="0"+M;I=M+I}},n.i=function(w){return 0>w?0:w<this.g.length?this.g[w]:this.h};function T(w){if(w.h!=0)return!1;for(var y=0;y<w.g.length;y++)if(w.g[y]!=0)return!1;return!0}function D(w){return w.h==-1}n.l=function(w){return w=U(this,w),D(w)?-1:T(w)?0:1};function A(w){for(var y=w.g.length,x=[],I=0;I<y;I++)x[I]=~w.g[I];return new s(x,~w.h).add(m)}n.abs=function(){return D(this)?A(this):this},n.add=function(w){for(var y=Math.max(this.g.length,w.g.length),x=[],I=0,C=0;C<=y;C++){var M=I+(this.i(C)&65535)+(w.i(C)&65535),v=(M>>>16)+(this.i(C)>>>16)+(w.i(C)>>>16);I=v>>>16,M&=65535,v&=65535,x[C]=v<<16|M}return new s(x,x[x.length-1]&-2147483648?-1:0)};function U(w,y){return w.add(A(y))}n.j=function(w){if(T(this)||T(w))return f;if(D(this))return D(w)?A(this).j(A(w)):A(A(this).j(w));if(D(w))return A(this.j(A(w)));if(0>this.l(_)&&0>w.l(_))return l(this.m()*w.m());for(var y=this.g.length+w.g.length,x=[],I=0;I<2*y;I++)x[I]=0;for(I=0;I<this.g.length;I++)for(var C=0;C<w.g.length;C++){var M=this.i(I)>>>16,v=this.i(I)&65535,kr=w.i(C)>>>16,Xa=w.i(C)&65535;x[2*I+2*C]+=v*Xa,Y(x,2*I+2*C),x[2*I+2*C+1]+=M*Xa,Y(x,2*I+2*C+1),x[2*I+2*C+1]+=v*kr,Y(x,2*I+2*C+1),x[2*I+2*C+2]+=M*kr,Y(x,2*I+2*C+2)}for(I=0;I<y;I++)x[I]=x[2*I+1]<<16|x[2*I];for(I=y;I<2*y;I++)x[I]=0;return new s(x,0)};function Y(w,y){for(;(w[y]&65535)!=w[y];)w[y+1]+=w[y]>>>16,w[y]&=65535,y++}function O(w,y){this.g=w,this.h=y}function X(w,y){if(T(y))throw Error("division by zero");if(T(w))return new O(f,f);if(D(w))return y=X(A(w),y),new O(A(y.g),A(y.h));if(D(y))return y=X(w,A(y)),new O(A(y.g),y.h);if(30<w.g.length){if(D(w)||D(y))throw Error("slowDivide_ only works with positive integers.");for(var x=m,I=y;0>=I.l(w);)x=ce(x),I=ce(I);var C=ie(x,1),M=ie(I,1);for(I=ie(I,2),x=ie(x,2);!T(I);){var v=M.add(I);0>=v.l(w)&&(C=C.add(x),M=v),I=ie(I,1),x=ie(x,1)}return y=U(w,C.j(y)),new O(C,y)}for(C=f;0<=w.l(y);){for(x=Math.max(1,Math.floor(w.m()/y.m())),I=Math.ceil(Math.log(x)/Math.LN2),I=48>=I?1:Math.pow(2,I-48),M=l(x),v=M.j(y);D(v)||0<v.l(w);)x-=I,M=l(x),v=M.j(y);T(M)&&(M=m),C=C.add(M),w=U(w,v)}return new O(C,w)}n.A=function(w){return X(this,w).h},n.and=function(w){for(var y=Math.max(this.g.length,w.g.length),x=[],I=0;I<y;I++)x[I]=this.i(I)&w.i(I);return new s(x,this.h&w.h)},n.or=function(w){for(var y=Math.max(this.g.length,w.g.length),x=[],I=0;I<y;I++)x[I]=this.i(I)|w.i(I);return new s(x,this.h|w.h)},n.xor=function(w){for(var y=Math.max(this.g.length,w.g.length),x=[],I=0;I<y;I++)x[I]=this.i(I)^w.i(I);return new s(x,this.h^w.h)};function ce(w){for(var y=w.g.length+1,x=[],I=0;I<y;I++)x[I]=w.i(I)<<1|w.i(I-1)>>>31;return new s(x,w.h)}function ie(w,y){var x=y>>5;y%=32;for(var I=w.g.length-x,C=[],M=0;M<I;M++)C[M]=0<y?w.i(M+x)>>>y|w.i(M+x+1)<<32-y:w.i(M+x);return new s(C,w.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,My=$S.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=l,s.fromString=h,ji=$S.Integer=s}).apply(typeof BS<"u"?BS:typeof self<"u"?self:typeof window<"u"?window:{});var Nf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Xr={};var Ry,G5,da,Ny,Fu,Pf,Py,ky,Fy;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,d,p){return u==Array.prototype||u==Object.prototype||(u[d]=p.value),u};function t(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Nf=="object"&&Nf];for(var d=0;d<u.length;++d){var p=u[d];if(p&&p.Math==Math)return p}throw Error("Cannot find global object")}var r=t(this);function i(u,d){if(d)e:{var p=r;u=u.split(".");for(var g=0;g<u.length-1;g++){var S=u[g];if(!(S in p))break e;p=p[S]}u=u[u.length-1],g=p[u],d=d(g),d!=g&&d!=null&&e(p,u,{configurable:!0,writable:!0,value:d})}}function o(u,d){u instanceof String&&(u+="");var p=0,g=!1,S={next:function(){if(!g&&p<u.length){var N=p++;return{value:d(N,u[N]),done:!1}}return g=!0,{done:!0,value:void 0}}};return S[Symbol.iterator]=function(){return S},S}i("Array.prototype.values",function(u){return u||function(){return o(this,function(d,p){return p})}});var s=s||{},a=this||self;function c(u){var d=typeof u;return d=d!="object"?d:u?Array.isArray(u)?"array":d:"null",d=="array"||d=="object"&&typeof u.length=="number"}function l(u){var d=typeof u;return d=="object"&&u!=null||d=="function"}function h(u,d,p){return u.call.apply(u.bind,arguments)}function f(u,d,p){if(!u)throw Error();if(2<arguments.length){var g=Array.prototype.slice.call(arguments,2);return function(){var S=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(S,g),u.apply(d,S)}}return function(){return u.apply(d,arguments)}}function m(u,d,p){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:f,m.apply(null,arguments)}function _(u,d){var p=Array.prototype.slice.call(arguments,1);return function(){var g=p.slice();return g.push.apply(g,arguments),u.apply(this,g)}}function T(u,d){function p(){}p.prototype=d.prototype,u.aa=d.prototype,u.prototype=new p,u.prototype.constructor=u,u.Qb=function(g,S,N){for(var H=Array(arguments.length-2),Le=2;Le<arguments.length;Le++)H[Le-2]=arguments[Le];return d.prototype[S].apply(g,H)}}function D(u){let d=u.length;if(0<d){let p=Array(d);for(let g=0;g<d;g++)p[g]=u[g];return p}return[]}function A(u,d){for(let p=1;p<arguments.length;p++){let g=arguments[p];if(c(g)){let S=u.length||0,N=g.length||0;u.length=S+N;for(let H=0;H<N;H++)u[S+H]=g[H]}else u.push(g)}}class U{constructor(d,p){this.i=d,this.j=p,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function Y(u){return/^[\s\xa0]*$/.test(u)}function O(){var u=a.navigator;return u&&(u=u.userAgent)?u:""}function X(u){return X[" "](u),u}X[" "]=function(){};var ce=O().indexOf("Gecko")!=-1&&!(O().toLowerCase().indexOf("webkit")!=-1&&O().indexOf("Edge")==-1)&&!(O().indexOf("Trident")!=-1||O().indexOf("MSIE")!=-1)&&O().indexOf("Edge")==-1;function ie(u,d,p){for(let g in u)d.call(p,u[g],g,u)}function w(u,d){for(let p in u)d.call(void 0,u[p],p,u)}function y(u){let d={};for(let p in u)d[p]=u[p];return d}let x="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function I(u,d){let p,g;for(let S=1;S<arguments.length;S++){g=arguments[S];for(p in g)u[p]=g[p];for(let N=0;N<x.length;N++)p=x[N],Object.prototype.hasOwnProperty.call(g,p)&&(u[p]=g[p])}}function C(u){var d=1;u=u.split(":");let p=[];for(;0<d&&u.length;)p.push(u.shift()),d--;return u.length&&p.push(u.join(":")),p}function M(u){a.setTimeout(()=>{throw u},0)}function v(){var u=og;let d=null;return u.g&&(d=u.g,u.g=u.g.next,u.g||(u.h=null),d.next=null),d}class kr{constructor(){this.h=this.g=null}add(d,p){let g=Xa.get();g.set(d,p),this.h?this.h.next=g:this.g=g,this.h=g}}var Xa=new U(()=>new LR,u=>u.reset());class LR{constructor(){this.next=this.g=this.h=null}set(d,p){this.h=d,this.g=p,this.next=null}reset(){this.next=this.g=this.h=null}}let ec,tc=!1,og=new kr,Lb=()=>{let u=a.Promise.resolve(void 0);ec=()=>{u.then(jR)}};var jR=()=>{for(var u;u=v();){try{u.h.call(u.g)}catch(p){M(p)}var d=Xa;d.j(u),100>d.h&&(d.h++,u.next=d.g,d.g=u)}tc=!1};function ui(){this.s=this.s,this.C=this.C}ui.prototype.s=!1,ui.prototype.ma=function(){this.s||(this.s=!0,this.N())},ui.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Ut(u,d){this.type=u,this.g=this.target=d,this.defaultPrevented=!1}Ut.prototype.h=function(){this.defaultPrevented=!0};var UR=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var u=!1,d=Object.defineProperty({},"passive",{get:function(){u=!0}});try{let p=()=>{};a.addEventListener("test",p,d),a.removeEventListener("test",p,d)}catch{}return u}();function nc(u,d){if(Ut.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var p=this.type=u.type,g=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=d,d=u.relatedTarget){if(ce){e:{try{X(d.nodeName);var S=!0;break e}catch{}S=!1}S||(d=null)}}else p=="mouseover"?d=u.fromElement:p=="mouseout"&&(d=u.toElement);this.relatedTarget=d,g?(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:BR[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&nc.aa.h.call(this)}}T(nc,Ut);var BR={2:"touch",3:"pen",4:"mouse"};nc.prototype.h=function(){nc.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var rc="closure_listenable_"+(1e6*Math.random()|0),$R=0;function HR(u,d,p,g,S){this.listener=u,this.proxy=null,this.src=d,this.type=p,this.capture=!!g,this.ha=S,this.key=++$R,this.da=this.fa=!1}function El(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Il(u){this.src=u,this.g={},this.h=0}Il.prototype.add=function(u,d,p,g,S){var N=u.toString();u=this.g[N],u||(u=this.g[N]=[],this.h++);var H=ag(u,d,g,S);return-1<H?(d=u[H],p||(d.fa=!1)):(d=new HR(d,this.src,N,!!g,S),d.fa=p,u.push(d)),d};function sg(u,d){var p=d.type;if(p in u.g){var g=u.g[p],S=Array.prototype.indexOf.call(g,d,void 0),N;(N=0<=S)&&Array.prototype.splice.call(g,S,1),N&&(El(d),u.g[p].length==0&&(delete u.g[p],u.h--))}}function ag(u,d,p,g){for(var S=0;S<u.length;++S){var N=u[S];if(!N.da&&N.listener==d&&N.capture==!!p&&N.ha==g)return S}return-1}var cg="closure_lm_"+(1e6*Math.random()|0),ug={};function jb(u,d,p,g,S){if(g&&g.once)return Bb(u,d,p,g,S);if(Array.isArray(d)){for(var N=0;N<d.length;N++)jb(u,d[N],p,g,S);return null}return p=fg(p),u&&u[rc]?u.K(d,p,l(g)?!!g.capture:!!g,S):Ub(u,d,p,!1,g,S)}function Ub(u,d,p,g,S,N){if(!d)throw Error("Invalid event type");var H=l(S)?!!S.capture:!!S,Le=dg(u);if(Le||(u[cg]=Le=new Il(u)),p=Le.add(d,p,g,H,N),p.proxy)return p;if(g=qR(),p.proxy=g,g.src=u,g.listener=p,u.addEventListener)UR||(S=H),S===void 0&&(S=!1),u.addEventListener(d.toString(),g,S);else if(u.attachEvent)u.attachEvent(Hb(d.toString()),g);else if(u.addListener&&u.removeListener)u.addListener(g);else throw Error("addEventListener and attachEvent are unavailable.");return p}function qR(){function u(p){return d.call(u.src,u.listener,p)}let d=zR;return u}function Bb(u,d,p,g,S){if(Array.isArray(d)){for(var N=0;N<d.length;N++)Bb(u,d[N],p,g,S);return null}return p=fg(p),u&&u[rc]?u.L(d,p,l(g)?!!g.capture:!!g,S):Ub(u,d,p,!0,g,S)}function $b(u,d,p,g,S){if(Array.isArray(d))for(var N=0;N<d.length;N++)$b(u,d[N],p,g,S);else g=l(g)?!!g.capture:!!g,p=fg(p),u&&u[rc]?(u=u.i,d=String(d).toString(),d in u.g&&(N=u.g[d],p=ag(N,p,g,S),-1<p&&(El(N[p]),Array.prototype.splice.call(N,p,1),N.length==0&&(delete u.g[d],u.h--)))):u&&(u=dg(u))&&(d=u.g[d.toString()],u=-1,d&&(u=ag(d,p,g,S)),(p=-1<u?d[u]:null)&&lg(p))}function lg(u){if(typeof u!="number"&&u&&!u.da){var d=u.src;if(d&&d[rc])sg(d.i,u);else{var p=u.type,g=u.proxy;d.removeEventListener?d.removeEventListener(p,g,u.capture):d.detachEvent?d.detachEvent(Hb(p),g):d.addListener&&d.removeListener&&d.removeListener(g),(p=dg(d))?(sg(p,u),p.h==0&&(p.src=null,d[cg]=null)):El(u)}}}function Hb(u){return u in ug?ug[u]:ug[u]="on"+u}function zR(u,d){if(u.da)u=!0;else{d=new nc(d,this);var p=u.listener,g=u.ha||u.src;u.fa&&lg(u),u=p.call(g,d)}return u}function dg(u){return u=u[cg],u instanceof Il?u:null}var hg="__closure_events_fn_"+(1e9*Math.random()>>>0);function fg(u){return typeof u=="function"?u:(u[hg]||(u[hg]=function(d){return u.handleEvent(d)}),u[hg])}function Bt(){ui.call(this),this.i=new Il(this),this.M=this,this.F=null}T(Bt,ui),Bt.prototype[rc]=!0,Bt.prototype.removeEventListener=function(u,d,p,g){$b(this,u,d,p,g)};function tn(u,d){var p,g=u.F;if(g)for(p=[];g;g=g.F)p.push(g);if(u=u.M,g=d.type||d,typeof d=="string")d=new Ut(d,u);else if(d instanceof Ut)d.target=d.target||u;else{var S=d;d=new Ut(g,u),I(d,S)}if(S=!0,p)for(var N=p.length-1;0<=N;N--){var H=d.g=p[N];S=Cl(H,g,!0,d)&&S}if(H=d.g=u,S=Cl(H,g,!0,d)&&S,S=Cl(H,g,!1,d)&&S,p)for(N=0;N<p.length;N++)H=d.g=p[N],S=Cl(H,g,!1,d)&&S}Bt.prototype.N=function(){if(Bt.aa.N.call(this),this.i){var u=this.i,d;for(d in u.g){for(var p=u.g[d],g=0;g<p.length;g++)El(p[g]);delete u.g[d],u.h--}}this.F=null},Bt.prototype.K=function(u,d,p,g){return this.i.add(String(u),d,!1,p,g)},Bt.prototype.L=function(u,d,p,g){return this.i.add(String(u),d,!0,p,g)};function Cl(u,d,p,g){if(d=u.i.g[String(d)],!d)return!0;d=d.concat();for(var S=!0,N=0;N<d.length;++N){var H=d[N];if(H&&!H.da&&H.capture==p){var Le=H.listener,kt=H.ha||H.src;H.fa&&sg(u.i,H),S=Le.call(kt,g)!==!1&&S}}return S&&!g.defaultPrevented}function qb(u,d,p){if(typeof u=="function")p&&(u=m(u,p));else if(u&&typeof u.handleEvent=="function")u=m(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:a.setTimeout(u,d||0)}function zb(u){u.g=qb(()=>{u.g=null,u.i&&(u.i=!1,zb(u))},u.l);let d=u.h;u.h=null,u.m.apply(null,d)}class GR extends ui{constructor(d,p){super(),this.m=d,this.l=p,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:zb(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ic(u){ui.call(this),this.h=u,this.g={}}T(ic,ui);var Gb=[];function Wb(u){ie(u.g,function(d,p){this.g.hasOwnProperty(p)&&lg(d)},u),u.g={}}ic.prototype.N=function(){ic.aa.N.call(this),Wb(this)},ic.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var pg=a.JSON.stringify,WR=a.JSON.parse,KR=class{stringify(u){return a.JSON.stringify(u,void 0)}parse(u){return a.JSON.parse(u,void 0)}};function gg(){}gg.prototype.h=null;function Kb(u){return u.h||(u.h=u.i())}function Qb(){}var oc={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function mg(){Ut.call(this,"d")}T(mg,Ut);function _g(){Ut.call(this,"c")}T(_g,Ut);var ao={},Yb=null;function Dl(){return Yb=Yb||new Bt}ao.La="serverreachability";function Zb(u){Ut.call(this,ao.La,u)}T(Zb,Ut);function sc(u){let d=Dl();tn(d,new Zb(d))}ao.STAT_EVENT="statevent";function Jb(u,d){Ut.call(this,ao.STAT_EVENT,u),this.stat=d}T(Jb,Ut);function nn(u){let d=Dl();tn(d,new Jb(d,u))}ao.Ma="timingevent";function Xb(u,d){Ut.call(this,ao.Ma,u),this.size=d}T(Xb,Ut);function ac(u,d){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){u()},d)}function cc(){this.g=!0}cc.prototype.xa=function(){this.g=!1};function QR(u,d,p,g,S,N){u.info(function(){if(u.g)if(N)for(var H="",Le=N.split("&"),kt=0;kt<Le.length;kt++){var Re=Le[kt].split("=");if(1<Re.length){var $t=Re[0];Re=Re[1];var Ht=$t.split("_");H=2<=Ht.length&&Ht[1]=="type"?H+($t+"="+Re+"&"):H+($t+"=redacted&")}}else H=null;else H=N;return"XMLHTTP REQ ("+g+") [attempt "+S+"]: "+d+`
`+p+`
`+H})}function YR(u,d,p,g,S,N,H){u.info(function(){return"XMLHTTP RESP ("+g+") [ attempt "+S+"]: "+d+`
`+p+`
`+N+" "+H})}function gs(u,d,p,g){u.info(function(){return"XMLHTTP TEXT ("+d+"): "+JR(u,p)+(g?" "+g:"")})}function ZR(u,d){u.info(function(){return"TIMEOUT: "+d})}cc.prototype.info=function(){};function JR(u,d){if(!u.g)return d;if(!d)return null;try{var p=JSON.parse(d);if(p){for(u=0;u<p.length;u++)if(Array.isArray(p[u])){var g=p[u];if(!(2>g.length)){var S=g[1];if(Array.isArray(S)&&!(1>S.length)){var N=S[0];if(N!="noop"&&N!="stop"&&N!="close")for(var H=1;H<S.length;H++)S[H]=""}}}}return pg(p)}catch{return d}}var Sl={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ew={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},yg;function Tl(){}T(Tl,gg),Tl.prototype.g=function(){return new XMLHttpRequest},Tl.prototype.i=function(){return{}},yg=new Tl;function li(u,d,p,g){this.j=u,this.i=d,this.l=p,this.R=g||1,this.U=new ic(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new tw}function tw(){this.i=null,this.g="",this.h=!1}var nw={},vg={};function xg(u,d,p){u.L=1,u.v=Nl(Fr(d)),u.m=p,u.P=!0,rw(u,null)}function rw(u,d){u.F=Date.now(),Al(u),u.A=Fr(u.v);var p=u.A,g=u.R;Array.isArray(g)||(g=[String(g)]),_w(p.i,"t",g),u.C=0,p=u.j.J,u.h=new tw,u.g=Fw(u.j,p?d:null,!u.m),0<u.O&&(u.M=new GR(m(u.Y,u,u.g),u.O)),d=u.U,p=u.g,g=u.ca;var S="readystatechange";Array.isArray(S)||(S&&(Gb[0]=S.toString()),S=Gb);for(var N=0;N<S.length;N++){var H=jb(p,S[N],g||d.handleEvent,!1,d.h||d);if(!H)break;d.g[H.key]=H}d=u.H?y(u.H):{},u.m?(u.u||(u.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,d)):(u.u="GET",u.g.ea(u.A,u.u,null,d)),sc(),QR(u.i,u.u,u.A,u.l,u.R,u.m)}li.prototype.ca=function(u){u=u.target;let d=this.M;d&&Or(u)==3?d.j():this.Y(u)},li.prototype.Y=function(u){try{if(u==this.g)e:{let Ht=Or(this.g);var d=this.g.Ba();let ys=this.g.Z();if(!(3>Ht)&&(Ht!=3||this.g&&(this.h.h||this.g.oa()||Iw(this.g)))){this.J||Ht!=4||d==7||(d==8||0>=ys?sc(3):sc(2)),bg(this);var p=this.g.Z();this.X=p;t:if(iw(this)){var g=Iw(this.g);u="";var S=g.length,N=Or(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){co(this),uc(this);var H="";break t}this.h.i=new a.TextDecoder}for(d=0;d<S;d++)this.h.h=!0,u+=this.h.i.decode(g[d],{stream:!(N&&d==S-1)});g.length=0,this.h.g+=u,this.C=0,H=this.h.g}else H=this.g.oa();if(this.o=p==200,YR(this.i,this.u,this.A,this.l,this.R,Ht,p),this.o){if(this.T&&!this.K){t:{if(this.g){var Le,kt=this.g;if((Le=kt.g?kt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Y(Le)){var Re=Le;break t}}Re=null}if(p=Re)gs(this.i,this.l,p,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,wg(this,p);else{this.o=!1,this.s=3,nn(12),co(this),uc(this);break e}}if(this.P){p=!0;let Hn;for(;!this.J&&this.C<H.length;)if(Hn=XR(this,H),Hn==vg){Ht==4&&(this.s=4,nn(14),p=!1),gs(this.i,this.l,null,"[Incomplete Response]");break}else if(Hn==nw){this.s=4,nn(15),gs(this.i,this.l,H,"[Invalid Chunk]"),p=!1;break}else gs(this.i,this.l,Hn,null),wg(this,Hn);if(iw(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ht!=4||H.length!=0||this.h.h||(this.s=1,nn(16),p=!1),this.o=this.o&&p,!p)gs(this.i,this.l,H,"[Invalid Chunked Response]"),co(this),uc(this);else if(0<H.length&&!this.W){this.W=!0;var $t=this.j;$t.g==this&&$t.ba&&!$t.M&&($t.j.info("Great, no buffering proxy detected. Bytes received: "+H.length),Tg($t),$t.M=!0,nn(11))}}else gs(this.i,this.l,H,null),wg(this,H);Ht==4&&co(this),this.o&&!this.J&&(Ht==4?Rw(this.j,this):(this.o=!1,Al(this)))}else mN(this.g),p==400&&0<H.indexOf("Unknown SID")?(this.s=3,nn(12)):(this.s=0,nn(13)),co(this),uc(this)}}}catch{}finally{}};function iw(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function XR(u,d){var p=u.C,g=d.indexOf(`
`,p);return g==-1?vg:(p=Number(d.substring(p,g)),isNaN(p)?nw:(g+=1,g+p>d.length?vg:(d=d.slice(g,g+p),u.C=g+p,d)))}li.prototype.cancel=function(){this.J=!0,co(this)};function Al(u){u.S=Date.now()+u.I,ow(u,u.I)}function ow(u,d){if(u.B!=null)throw Error("WatchDog timer not null");u.B=ac(m(u.ba,u),d)}function bg(u){u.B&&(a.clearTimeout(u.B),u.B=null)}li.prototype.ba=function(){this.B=null;let u=Date.now();0<=u-this.S?(ZR(this.i,this.A),this.L!=2&&(sc(),nn(17)),co(this),this.s=2,uc(this)):ow(this,this.S-u)};function uc(u){u.j.G==0||u.J||Rw(u.j,u)}function co(u){bg(u);var d=u.M;d&&typeof d.ma=="function"&&d.ma(),u.M=null,Wb(u.U),u.g&&(d=u.g,u.g=null,d.abort(),d.ma())}function wg(u,d){try{var p=u.j;if(p.G!=0&&(p.g==u||Eg(p.h,u))){if(!u.K&&Eg(p.h,u)&&p.G==3){try{var g=p.Da.g.parse(d)}catch{g=null}if(Array.isArray(g)&&g.length==3){var S=g;if(S[0]==0){e:if(!p.u){if(p.g)if(p.g.F+3e3<u.F)Vl(p),Fl(p);else break e;Sg(p),nn(18)}}else p.za=S[1],0<p.za-p.T&&37500>S[2]&&p.F&&p.v==0&&!p.C&&(p.C=ac(m(p.Za,p),6e3));if(1>=cw(p.h)&&p.ca){try{p.ca()}catch{}p.ca=void 0}}else lo(p,11)}else if((u.K||p.g==u)&&Vl(p),!Y(d))for(S=p.Da.g.parse(d),d=0;d<S.length;d++){let Re=S[d];if(p.T=Re[0],Re=Re[1],p.G==2)if(Re[0]=="c"){p.K=Re[1],p.ia=Re[2];let $t=Re[3];$t!=null&&(p.la=$t,p.j.info("VER="+p.la));let Ht=Re[4];Ht!=null&&(p.Aa=Ht,p.j.info("SVER="+p.Aa));let ys=Re[5];ys!=null&&typeof ys=="number"&&0<ys&&(g=1.5*ys,p.L=g,p.j.info("backChannelRequestTimeoutMs_="+g)),g=p;let Hn=u.g;if(Hn){let jl=Hn.g?Hn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(jl){var N=g.h;N.g||jl.indexOf("spdy")==-1&&jl.indexOf("quic")==-1&&jl.indexOf("h2")==-1||(N.j=N.l,N.g=new Set,N.h&&(Ig(N,N.h),N.h=null))}if(g.D){let Ag=Hn.g?Hn.g.getResponseHeader("X-HTTP-Session-Id"):null;Ag&&(g.ya=Ag,We(g.I,g.D,Ag))}}p.G=3,p.l&&p.l.ua(),p.ba&&(p.R=Date.now()-u.F,p.j.info("Handshake RTT: "+p.R+"ms")),g=p;var H=u;if(g.qa=kw(g,g.J?g.ia:null,g.W),H.K){uw(g.h,H);var Le=H,kt=g.L;kt&&(Le.I=kt),Le.B&&(bg(Le),Al(Le)),g.g=H}else Aw(g);0<p.i.length&&Ol(p)}else Re[0]!="stop"&&Re[0]!="close"||lo(p,7);else p.G==3&&(Re[0]=="stop"||Re[0]=="close"?Re[0]=="stop"?lo(p,7):Dg(p):Re[0]!="noop"&&p.l&&p.l.ta(Re),p.v=0)}}sc(4)}catch{}}var eN=class{constructor(u,d){this.g=u,this.map=d}};function sw(u){this.l=u||10,a.PerformanceNavigationTiming?(u=a.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function aw(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function cw(u){return u.h?1:u.g?u.g.size:0}function Eg(u,d){return u.h?u.h==d:u.g?u.g.has(d):!1}function Ig(u,d){u.g?u.g.add(d):u.h=d}function uw(u,d){u.h&&u.h==d?u.h=null:u.g&&u.g.has(d)&&u.g.delete(d)}sw.prototype.cancel=function(){if(this.i=lw(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let u of this.g.values())u.cancel();this.g.clear()}};function lw(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let d=u.i;for(let p of u.g.values())d=d.concat(p.D);return d}return D(u.i)}function tN(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(c(u)){for(var d=[],p=u.length,g=0;g<p;g++)d.push(u[g]);return d}d=[],p=0;for(g in u)d[p++]=u[g];return d}function nN(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(c(u)||typeof u=="string"){var d=[];u=u.length;for(var p=0;p<u;p++)d.push(p);return d}d=[],p=0;for(let g in u)d[p++]=g;return d}}}function dw(u,d){if(u.forEach&&typeof u.forEach=="function")u.forEach(d,void 0);else if(c(u)||typeof u=="string")Array.prototype.forEach.call(u,d,void 0);else for(var p=nN(u),g=tN(u),S=g.length,N=0;N<S;N++)d.call(void 0,g[N],p&&p[N],u)}var hw=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function rN(u,d){if(u){u=u.split("&");for(var p=0;p<u.length;p++){var g=u[p].indexOf("="),S=null;if(0<=g){var N=u[p].substring(0,g);S=u[p].substring(g+1)}else N=u[p];d(N,S?decodeURIComponent(S.replace(/\+/g," ")):"")}}}function uo(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof uo){this.h=u.h,Ml(this,u.j),this.o=u.o,this.g=u.g,Rl(this,u.s),this.l=u.l;var d=u.i,p=new hc;p.i=d.i,d.g&&(p.g=new Map(d.g),p.h=d.h),fw(this,p),this.m=u.m}else u&&(d=String(u).match(hw))?(this.h=!1,Ml(this,d[1]||"",!0),this.o=lc(d[2]||""),this.g=lc(d[3]||"",!0),Rl(this,d[4]),this.l=lc(d[5]||"",!0),fw(this,d[6]||"",!0),this.m=lc(d[7]||"")):(this.h=!1,this.i=new hc(null,this.h))}uo.prototype.toString=function(){var u=[],d=this.j;d&&u.push(dc(d,pw,!0),":");var p=this.g;return(p||d=="file")&&(u.push("//"),(d=this.o)&&u.push(dc(d,pw,!0),"@"),u.push(encodeURIComponent(String(p)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p=this.s,p!=null&&u.push(":",String(p))),(p=this.l)&&(this.g&&p.charAt(0)!="/"&&u.push("/"),u.push(dc(p,p.charAt(0)=="/"?sN:oN,!0))),(p=this.i.toString())&&u.push("?",p),(p=this.m)&&u.push("#",dc(p,cN)),u.join("")};function Fr(u){return new uo(u)}function Ml(u,d,p){u.j=p?lc(d,!0):d,u.j&&(u.j=u.j.replace(/:$/,""))}function Rl(u,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);u.s=d}else u.s=null}function fw(u,d,p){d instanceof hc?(u.i=d,uN(u.i,u.h)):(p||(d=dc(d,aN)),u.i=new hc(d,u.h))}function We(u,d,p){u.i.set(d,p)}function Nl(u){return We(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function lc(u,d){return u?d?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function dc(u,d,p){return typeof u=="string"?(u=encodeURI(u).replace(d,iN),p&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function iN(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var pw=/[#\/\?@]/g,oN=/[#\?:]/g,sN=/[#\?]/g,aN=/[#\?@]/g,cN=/#/g;function hc(u,d){this.h=this.g=null,this.i=u||null,this.j=!!d}function di(u){u.g||(u.g=new Map,u.h=0,u.i&&rN(u.i,function(d,p){u.add(decodeURIComponent(d.replace(/\+/g," ")),p)}))}n=hc.prototype,n.add=function(u,d){di(this),this.i=null,u=ms(this,u);var p=this.g.get(u);return p||this.g.set(u,p=[]),p.push(d),this.h+=1,this};function gw(u,d){di(u),d=ms(u,d),u.g.has(d)&&(u.i=null,u.h-=u.g.get(d).length,u.g.delete(d))}function mw(u,d){return di(u),d=ms(u,d),u.g.has(d)}n.forEach=function(u,d){di(this),this.g.forEach(function(p,g){p.forEach(function(S){u.call(d,S,g,this)},this)},this)},n.na=function(){di(this);let u=Array.from(this.g.values()),d=Array.from(this.g.keys()),p=[];for(let g=0;g<d.length;g++){let S=u[g];for(let N=0;N<S.length;N++)p.push(d[g])}return p},n.V=function(u){di(this);let d=[];if(typeof u=="string")mw(this,u)&&(d=d.concat(this.g.get(ms(this,u))));else{u=Array.from(this.g.values());for(let p=0;p<u.length;p++)d=d.concat(u[p])}return d},n.set=function(u,d){return di(this),this.i=null,u=ms(this,u),mw(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[d]),this.h+=1,this},n.get=function(u,d){return u?(u=this.V(u),0<u.length?String(u[0]):d):d};function _w(u,d,p){gw(u,d),0<p.length&&(u.i=null,u.g.set(ms(u,d),D(p)),u.h+=p.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";let u=[],d=Array.from(this.g.keys());for(var p=0;p<d.length;p++){var g=d[p];let N=encodeURIComponent(String(g)),H=this.V(g);for(g=0;g<H.length;g++){var S=N;H[g]!==""&&(S+="="+encodeURIComponent(String(H[g]))),u.push(S)}}return this.i=u.join("&")};function ms(u,d){return d=String(d),u.j&&(d=d.toLowerCase()),d}function uN(u,d){d&&!u.j&&(di(u),u.i=null,u.g.forEach(function(p,g){var S=g.toLowerCase();g!=S&&(gw(this,g),_w(this,S,p))},u)),u.j=d}function lN(u,d){let p=new cc;if(a.Image){let g=new Image;g.onload=_(hi,p,"TestLoadImage: loaded",!0,d,g),g.onerror=_(hi,p,"TestLoadImage: error",!1,d,g),g.onabort=_(hi,p,"TestLoadImage: abort",!1,d,g),g.ontimeout=_(hi,p,"TestLoadImage: timeout",!1,d,g),a.setTimeout(function(){g.ontimeout&&g.ontimeout()},1e4),g.src=u}else d(!1)}function dN(u,d){let p=new cc,g=new AbortController,S=setTimeout(()=>{g.abort(),hi(p,"TestPingServer: timeout",!1,d)},1e4);fetch(u,{signal:g.signal}).then(N=>{clearTimeout(S),N.ok?hi(p,"TestPingServer: ok",!0,d):hi(p,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(S),hi(p,"TestPingServer: error",!1,d)})}function hi(u,d,p,g,S){try{S&&(S.onload=null,S.onerror=null,S.onabort=null,S.ontimeout=null),g(p)}catch{}}function hN(){this.g=new KR}function fN(u,d,p){let g=p||"";try{dw(u,function(S,N){let H=S;l(S)&&(H=pg(S)),d.push(g+N+"="+encodeURIComponent(H))})}catch(S){throw d.push(g+"type="+encodeURIComponent("_badmap")),S}}function fc(u){this.l=u.Ub||null,this.j=u.eb||!1}T(fc,gg),fc.prototype.g=function(){return new Pl(this.l,this.j)},fc.prototype.i=function(u){return function(){return u}}({});function Pl(u,d){Bt.call(this),this.D=u,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}T(Pl,Bt),n=Pl.prototype,n.open=function(u,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=d,this.readyState=1,gc(this)},n.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(d.body=u),(this.D||a).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,pc(this)),this.readyState=0},n.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,gc(this)),this.g&&(this.readyState=3,gc(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;yw(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function yw(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}n.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var d=u.value?u.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!u.done}))&&(this.response=this.responseText+=d)}u.done?pc(this):gc(this),this.readyState==3&&yw(this)}},n.Ra=function(u){this.g&&(this.response=this.responseText=u,pc(this))},n.Qa=function(u){this.g&&(this.response=u,pc(this))},n.ga=function(){this.g&&pc(this)};function pc(u){u.readyState=4,u.l=null,u.j=null,u.v=null,gc(u)}n.setRequestHeader=function(u,d){this.u.append(u,d)},n.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";let u=[],d=this.h.entries();for(var p=d.next();!p.done;)p=p.value,u.push(p[0]+": "+p[1]),p=d.next();return u.join(`\r
`)};function gc(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Pl.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function vw(u){let d="";return ie(u,function(p,g){d+=g,d+=":",d+=p,d+=`\r
`}),d}function Cg(u,d,p){e:{for(g in p){var g=!1;break e}g=!0}g||(p=vw(p),typeof u=="string"?p!=null&&encodeURIComponent(String(p)):We(u,d,p))}function st(u){Bt.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}T(st,Bt);var pN=/^https?$/i,gN=["POST","PUT"];n=st.prototype,n.Ha=function(u){this.J=u},n.ea=function(u,d,p,g){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);d=d?d.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():yg.g(),this.v=this.o?Kb(this.o):Kb(yg),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(d,String(u),!0),this.B=!1}catch(N){xw(this,N);return}if(u=p||"",p=new Map(this.headers),g)if(Object.getPrototypeOf(g)===Object.prototype)for(var S in g)p.set(S,g[S]);else if(typeof g.keys=="function"&&typeof g.get=="function")for(let N of g.keys())p.set(N,g.get(N));else throw Error("Unknown input type for opt_headers: "+String(g));g=Array.from(p.keys()).find(N=>N.toLowerCase()=="content-type"),S=a.FormData&&u instanceof a.FormData,!(0<=Array.prototype.indexOf.call(gN,d,void 0))||g||S||p.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[N,H]of p)this.g.setRequestHeader(N,H);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ew(this),this.u=!0,this.g.send(u),this.u=!1}catch(N){xw(this,N)}};function xw(u,d){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=d,u.m=5,bw(u),kl(u)}function bw(u){u.A||(u.A=!0,tn(u,"complete"),tn(u,"error"))}n.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,tn(this,"complete"),tn(this,"abort"),kl(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),kl(this,!0)),st.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?ww(this):this.bb())},n.bb=function(){ww(this)};function ww(u){if(u.h&&typeof s<"u"&&(!u.v[1]||Or(u)!=4||u.Z()!=2)){if(u.u&&Or(u)==4)qb(u.Ea,0,u);else if(tn(u,"readystatechange"),Or(u)==4){u.h=!1;try{let H=u.Z();e:switch(H){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var p;if(!(p=d)){var g;if(g=H===0){var S=String(u.D).match(hw)[1]||null;!S&&a.self&&a.self.location&&(S=a.self.location.protocol.slice(0,-1)),g=!pN.test(S?S.toLowerCase():"")}p=g}if(p)tn(u,"complete"),tn(u,"success");else{u.m=6;try{var N=2<Or(u)?u.g.statusText:""}catch{N=""}u.l=N+" ["+u.Z()+"]",bw(u)}}finally{kl(u)}}}}function kl(u,d){if(u.g){Ew(u);let p=u.g,g=u.v[0]?()=>{}:null;u.g=null,u.v=null,d||tn(u,"ready");try{p.onreadystatechange=g}catch{}}}function Ew(u){u.I&&(a.clearTimeout(u.I),u.I=null)}n.isActive=function(){return!!this.g};function Or(u){return u.g?u.g.readyState:0}n.Z=function(){try{return 2<Or(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(u){if(this.g){var d=this.g.responseText;return u&&d.indexOf(u)==0&&(d=d.substring(u.length)),WR(d)}};function Iw(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function mN(u){let d={};u=(u.g&&2<=Or(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let g=0;g<u.length;g++){if(Y(u[g]))continue;var p=C(u[g]);let S=p[0];if(p=p[1],typeof p!="string")continue;p=p.trim();let N=d[S]||[];d[S]=N,N.push(p)}w(d,function(g){return g.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function mc(u,d,p){return p&&p.internalChannelParams&&p.internalChannelParams[u]||d}function Cw(u){this.Aa=0,this.i=[],this.j=new cc,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=mc("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=mc("baseRetryDelayMs",5e3,u),this.cb=mc("retryDelaySeedMs",1e4,u),this.Wa=mc("forwardChannelMaxRetries",2,u),this.wa=mc("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new sw(u&&u.concurrentRequestLimit),this.Da=new hN,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Cw.prototype,n.la=8,n.G=1,n.connect=function(u,d,p,g){nn(0),this.W=u,this.H=d||{},p&&g!==void 0&&(this.H.OSID=p,this.H.OAID=g),this.F=this.X,this.I=kw(this,null,this.W),Ol(this)};function Dg(u){if(Dw(u),u.G==3){var d=u.U++,p=Fr(u.I);if(We(p,"SID",u.K),We(p,"RID",d),We(p,"TYPE","terminate"),_c(u,p),d=new li(u,u.j,d),d.L=2,d.v=Nl(Fr(p)),p=!1,a.navigator&&a.navigator.sendBeacon)try{p=a.navigator.sendBeacon(d.v.toString(),"")}catch{}!p&&a.Image&&(new Image().src=d.v,p=!0),p||(d.g=Fw(d.j,null),d.g.ea(d.v)),d.F=Date.now(),Al(d)}Pw(u)}function Fl(u){u.g&&(Tg(u),u.g.cancel(),u.g=null)}function Dw(u){Fl(u),u.u&&(a.clearTimeout(u.u),u.u=null),Vl(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&a.clearTimeout(u.s),u.s=null)}function Ol(u){if(!aw(u.h)&&!u.s){u.s=!0;var d=u.Ga;ec||Lb(),tc||(ec(),tc=!0),og.add(d,u),u.B=0}}function _N(u,d){return cw(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=d.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=ac(m(u.Ga,u,d),Nw(u,u.B)),u.B++,!0)}n.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;let S=new li(this,this.j,u),N=this.o;if(this.S&&(N?(N=y(N),I(N,this.S)):N=this.S),this.m!==null||this.O||(S.H=N,N=null),this.P)e:{for(var d=0,p=0;p<this.i.length;p++){t:{var g=this.i[p];if("__data__"in g.map&&(g=g.map.__data__,typeof g=="string")){g=g.length;break t}g=void 0}if(g===void 0)break;if(d+=g,4096<d){d=p;break e}if(d===4096||p===this.i.length-1){d=p+1;break e}}d=1e3}else d=1e3;d=Tw(this,S,d),p=Fr(this.I),We(p,"RID",u),We(p,"CVER",22),this.D&&We(p,"X-HTTP-Session-Id",this.D),_c(this,p),N&&(this.O?d="headers="+encodeURIComponent(String(vw(N)))+"&"+d:this.m&&Cg(p,this.m,N)),Ig(this.h,S),this.Ua&&We(p,"TYPE","init"),this.P?(We(p,"$req",d),We(p,"SID","null"),S.T=!0,xg(S,p,null)):xg(S,p,d),this.G=2}}else this.G==3&&(u?Sw(this,u):this.i.length==0||aw(this.h)||Sw(this))};function Sw(u,d){var p;d?p=d.l:p=u.U++;let g=Fr(u.I);We(g,"SID",u.K),We(g,"RID",p),We(g,"AID",u.T),_c(u,g),u.m&&u.o&&Cg(g,u.m,u.o),p=new li(u,u.j,p,u.B+1),u.m===null&&(p.H=u.o),d&&(u.i=d.D.concat(u.i)),d=Tw(u,p,1e3),p.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),Ig(u.h,p),xg(p,g,d)}function _c(u,d){u.H&&ie(u.H,function(p,g){We(d,g,p)}),u.l&&dw({},function(p,g){We(d,g,p)})}function Tw(u,d,p){p=Math.min(u.i.length,p);var g=u.l?m(u.l.Na,u.l,u):null;e:{var S=u.i;let N=-1;for(;;){let H=["count="+p];N==-1?0<p?(N=S[0].g,H.push("ofs="+N)):N=0:H.push("ofs="+N);let Le=!0;for(let kt=0;kt<p;kt++){let Re=S[kt].g,$t=S[kt].map;if(Re-=N,0>Re)N=Math.max(0,S[kt].g-100),Le=!1;else try{fN($t,H,"req"+Re+"_")}catch{g&&g($t)}}if(Le){g=H.join("&");break e}}}return u=u.i.splice(0,p),d.D=u,g}function Aw(u){if(!u.g&&!u.u){u.Y=1;var d=u.Fa;ec||Lb(),tc||(ec(),tc=!0),og.add(d,u),u.v=0}}function Sg(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=ac(m(u.Fa,u),Nw(u,u.v)),u.v++,!0)}n.Fa=function(){if(this.u=null,Mw(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=ac(m(this.ab,this),u)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,nn(10),Fl(this),Mw(this))};function Tg(u){u.A!=null&&(a.clearTimeout(u.A),u.A=null)}function Mw(u){u.g=new li(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var d=Fr(u.qa);We(d,"RID","rpc"),We(d,"SID",u.K),We(d,"AID",u.T),We(d,"CI",u.F?"0":"1"),!u.F&&u.ja&&We(d,"TO",u.ja),We(d,"TYPE","xmlhttp"),_c(u,d),u.m&&u.o&&Cg(d,u.m,u.o),u.L&&(u.g.I=u.L);var p=u.g;u=u.ia,p.L=1,p.v=Nl(Fr(d)),p.m=null,p.P=!0,rw(p,u)}n.Za=function(){this.C!=null&&(this.C=null,Fl(this),Sg(this),nn(19))};function Vl(u){u.C!=null&&(a.clearTimeout(u.C),u.C=null)}function Rw(u,d){var p=null;if(u.g==d){Vl(u),Tg(u),u.g=null;var g=2}else if(Eg(u.h,d))p=d.D,uw(u.h,d),g=1;else return;if(u.G!=0){if(d.o)if(g==1){p=d.m?d.m.length:0,d=Date.now()-d.F;var S=u.B;g=Dl(),tn(g,new Xb(g,p)),Ol(u)}else Aw(u);else if(S=d.s,S==3||S==0&&0<d.X||!(g==1&&_N(u,d)||g==2&&Sg(u)))switch(p&&0<p.length&&(d=u.h,d.i=d.i.concat(p)),S){case 1:lo(u,5);break;case 4:lo(u,10);break;case 3:lo(u,6);break;default:lo(u,2)}}}function Nw(u,d){let p=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(p*=2),p*d}function lo(u,d){if(u.j.info("Error code "+d),d==2){var p=m(u.fb,u),g=u.Xa;let S=!g;g=new uo(g||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Ml(g,"https"),Nl(g),S?lN(g.toString(),p):dN(g.toString(),p)}else nn(2);u.G=0,u.l&&u.l.sa(d),Pw(u),Dw(u)}n.fb=function(u){u?(this.j.info("Successfully pinged google.com"),nn(2)):(this.j.info("Failed to ping google.com"),nn(1))};function Pw(u){if(u.G=0,u.ka=[],u.l){let d=lw(u.h);(d.length!=0||u.i.length!=0)&&(A(u.ka,d),A(u.ka,u.i),u.h.i.length=0,D(u.i),u.i.length=0),u.l.ra()}}function kw(u,d,p){var g=p instanceof uo?Fr(p):new uo(p);if(g.g!="")d&&(g.g=d+"."+g.g),Rl(g,g.s);else{var S=a.location;g=S.protocol,d=d?d+"."+S.hostname:S.hostname,S=+S.port;var N=new uo(null);g&&Ml(N,g),d&&(N.g=d),S&&Rl(N,S),p&&(N.l=p),g=N}return p=u.D,d=u.ya,p&&d&&We(g,p,d),We(g,"VER",u.la),_c(u,g),g}function Fw(u,d,p){if(d&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=u.Ca&&!u.pa?new st(new fc({eb:p})):new st(u.pa),d.Ha(u.J),d}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ow(){}n=Ow.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Ll(){}Ll.prototype.g=function(u,d){return new xn(u,d)};function xn(u,d){Bt.call(this),this.g=new Cw(d),this.l=u,this.h=d&&d.messageUrlParams||null,u=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(u?u["X-WebChannel-Content-Type"]=d.messageContentType:u={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(u?u["X-WebChannel-Client-Profile"]=d.va:u={"X-WebChannel-Client-Profile":d.va}),this.g.S=u,(u=d&&d.Sb)&&!Y(u)&&(this.g.m=u),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!Y(d)&&(this.g.D=d,u=this.h,u!==null&&d in u&&(u=this.h,d in u&&delete u[d])),this.j=new _s(this)}T(xn,Bt),xn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},xn.prototype.close=function(){Dg(this.g)},xn.prototype.o=function(u){var d=this.g;if(typeof u=="string"){var p={};p.__data__=u,u=p}else this.u&&(p={},p.__data__=pg(u),u=p);d.i.push(new eN(d.Ya++,u)),d.G==3&&Ol(d)},xn.prototype.N=function(){this.g.l=null,delete this.j,Dg(this.g),delete this.g,xn.aa.N.call(this)};function Vw(u){mg.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var d=u.__sm__;if(d){e:{for(let p in d){u=p;break e}u=void 0}(this.i=u)&&(u=this.i,d=d!==null&&u in d?d[u]:void 0),this.data=d}else this.data=u}T(Vw,mg);function Lw(){_g.call(this),this.status=1}T(Lw,_g);function _s(u){this.g=u}T(_s,Ow),_s.prototype.ua=function(){tn(this.g,"a")},_s.prototype.ta=function(u){tn(this.g,new Vw(u))},_s.prototype.sa=function(u){tn(this.g,new Lw)},_s.prototype.ra=function(){tn(this.g,"b")},Ll.prototype.createWebChannel=Ll.prototype.g,xn.prototype.send=xn.prototype.o,xn.prototype.open=xn.prototype.m,xn.prototype.close=xn.prototype.close,Fy=Xr.createWebChannelTransport=function(){return new Ll},ky=Xr.getStatEventTarget=function(){return Dl()},Py=Xr.Event=ao,Pf=Xr.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Sl.NO_ERROR=0,Sl.TIMEOUT=8,Sl.HTTP_ERROR=6,Fu=Xr.ErrorCode=Sl,ew.COMPLETE="complete",Ny=Xr.EventType=ew,Qb.EventType=oc,oc.OPEN="a",oc.CLOSE="b",oc.ERROR="c",oc.MESSAGE="d",Bt.prototype.listen=Bt.prototype.K,da=Xr.WebChannel=Qb,G5=Xr.FetchXmlHttpFactory=fc,st.prototype.listenOnce=st.prototype.L,st.prototype.getLastError=st.prototype.Ka,st.prototype.getLastErrorCode=st.prototype.Ba,st.prototype.getStatus=st.prototype.Z,st.prototype.getResponseJson=st.prototype.Oa,st.prototype.getResponseText=st.prototype.oa,st.prototype.send=st.prototype.ea,st.prototype.setWithCredentials=st.prototype.Ha,Ry=Xr.XhrIo=st}).apply(typeof Nf<"u"?Nf:typeof self<"u"?self:typeof window<"u"?window:{});var HS="@firebase/firestore";var wt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};wt.UNAUTHENTICATED=new wt(null),wt.GOOGLE_CREDENTIALS=new wt("google-credentials-uid"),wt.FIRST_PARTY=new wt("first-party-uid"),wt.MOCK_USER=new wt("mock-user");var $a="10.14.0";var Gi=new $l("@firebase/firestore");function ma(){return Gi.logLevel}function GT(n){Gi.setLogLevel(n)}function j(n,...e){if(Gi.logLevel<=cr.DEBUG){let t=e.map(Ux);Gi.debug(`Firestore (${$a}): ${n}`,...t)}}function ht(n,...e){if(Gi.logLevel<=cr.ERROR){let t=e.map(Ux);Gi.error(`Firestore (${$a}): ${n}`,...t)}}function rr(n,...e){if(Gi.logLevel<=cr.WARN){let t=e.map(Ux);Gi.warn(`Firestore (${$a}): ${n}`,...t)}}function Ux(n){if(typeof n=="string")return n;try{return function(t){return JSON.stringify(t)}(n)}catch{return n}}function J(n="Unexpected state"){let e=`FIRESTORE (${$a}) INTERNAL ASSERTION FAILED: `+n;throw ht(e),new Error(e)}function ee(n,e){n||J()}function WT(n,e){n||J()}function q(n,e){return n}var P={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},V=class extends qw{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var St=class{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}};var Hf=class{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},By=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(wt.UNAUTHENTICATED))}shutdown(){}},$y=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}},Hy=class{constructor(e){this.t=e,this.currentUser=wt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){ee(this.o===void 0);let r=this.i,i=c=>this.i!==r?(r=this.i,t(c)):Promise.resolve(),o=new St;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new St,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let c=o;e.enqueueRetryable(()=>k(this,null,function*(){yield c.promise,yield i(this.currentUser)}))},a=c=>{j("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){let c=this.t.getImmediate({optional:!0});c?a(c):(j("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new St)}},0),s()}getToken(){let e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(j("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ee(typeof r.accessToken=="string"),new Hf(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return ee(e===null||typeof e=="string"),new wt(e)}},qy=class{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=wt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},zy=class{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new qy(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(wt.FIRST_PARTY))}shutdown(){}invalidateToken(){}},Gy=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},Wy=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){ee(this.o===void 0);let r=o=>{o.error!=null&&j("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.R;return this.R=o.token,j("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{j("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.A.getImmediate({optional:!0});o?i(o):j("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(ee(typeof t.token=="string"),this.R=t.token,new Gy(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function W5(n){let e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}var qf=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let i=W5(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<t&&(r+=e.charAt(i[o]%e.length))}return r}};function he(n,e){return n<e?-1:n>e?1:0}function Ca(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}function KT(n){return n+"\0"}var Qe=class n{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new V(P.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new V(P.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new V(P.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new V(P.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return n.fromMillis(Date.now())}static fromDate(e){return n.fromMillis(e.getTime())}static fromMillis(e){let t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new n(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?he(this.nanoseconds,e.nanoseconds):he(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var ae=class n{constructor(e){this.timestamp=e}static fromTimestamp(e){return new n(e)}static min(){return new n(new Qe(0,0))}static max(){return new n(new Qe(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var zf=class n{constructor(e,t,r){t===void 0?t=0:t>e.length&&J(),r===void 0?r=e.length-t:r>e.length-t&&J(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return n.comparator(this,e)===0}child(e){let t=this.segments.slice(this.offset,this.limit());return e instanceof n?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){let r=Math.min(e.length,t.length);for(let i=0;i<r;i++){let o=e.get(i),s=t.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<t.length?-1:e.length>t.length?1:0}},Ae=class n extends zf{construct(e,t,r){return new n(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let t=[];for(let r of e){if(r.indexOf("//")>=0)throw new V(P.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new n(t)}static emptyPath(){return new n([])}},K5=/^[_a-zA-Z][_a-zA-Z0-9]*$/,ft=class n extends zf{construct(e,t,r){return new n(e,t,r)}static isValidIdentifier(e){return K5.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new n(["__name__"])}static fromServerFormat(e){let t=[],r="",i=0,o=()=>{if(r.length===0)throw new V(P.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""},s=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new V(P.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new V(P.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new V(P.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}static emptyPath(){return new n([])}};var z=class n{constructor(e){this.path=e}static fromPath(e){return new n(Ae.fromString(e))}static fromName(e){return new n(Ae.fromString(e).popFirst(5))}static empty(){return new n(Ae.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ae.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Ae.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new n(new Ae(e.slice()))}};var Da=class{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}};function Ky(n){return n.fields.find(e=>e.kind===2)}function Ho(n){return n.fields.filter(e=>e.kind!==2)}Da.UNKNOWN_ID=-1;var wa=class{constructor(e,t){this.fieldPath=e,this.kind=t}};var Wu=class n{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new n(0,Bn.min())}};function QT(n,e){let t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=ae.fromTimestamp(r===1e9?new Qe(t+1,0):new Qe(t,r));return new Bn(i,z.empty(),e)}function YT(n){return new Bn(n.readTime,n.key,-1)}var Bn=class n{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new n(ae.min(),z.empty(),-1)}static max(){return new n(ae.max(),z.empty(),-1)}};function Bx(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=z.comparator(n.documentKey,e.documentKey),t!==0?t:he(n.largestBatchId,e.largestBatchId))}var ZT="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Gf=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function no(n){return k(this,null,function*(){if(n.code!==P.FAILED_PRECONDITION||n.message!==ZT)throw n;j("LocalStore","Unexpectedly lost primary lease")})}var R=class n{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&J(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new n((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{let t=e();return t instanceof n?t:n.resolve(t)}catch(t){return n.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):n.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):n.reject(t)}static resolve(e){return new n((t,r)=>{t(e)})}static reject(e){return new n((t,r)=>{r(e)})}static waitFor(e){return new n((t,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&t()},c=>r(c))}),s=!0,o===i&&t()})}static or(e){let t=n.resolve(!1);for(let r of e)t=t.next(i=>i?n.resolve(i):r());return t}static forEach(e,t){let r=[];return e.forEach((i,o)=>{r.push(t.call(this,i,o))}),this.waitFor(r)}static mapArray(e,t){return new n((r,i)=>{let o=e.length,s=new Array(o),a=0;for(let c=0;c<o;c++){let l=c;t(e[l]).next(h=>{s[l]=h,++a,a===o&&r(s)},h=>i(h))}})}static doWhile(e,t){return new n((r,i)=>{let o=()=>{e()===!0?t().next(()=>{o()},i):r()};o()})}};var Wf=class n{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.V=new St,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{t.error?this.V.reject(new Qo(e,t.error)):this.V.resolve()},this.transaction.onerror=r=>{let i=$x(r.target.error);this.V.reject(new Qo(e,i))}}static open(e,t,r,i){try{return new n(t,e.transaction(i,r))}catch(o){throw new Qo(t,o)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(j("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){let e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){let t=this.transaction.objectStore(e);return new Yy(t)}},Wi=class n{constructor(e,t,r){this.name=e,this.version=t,this.p=r,n.S(yc())===12.2&&ht("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return j("SimpleDb","Removing database:",e),qo(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!Bl())return!1;if(n.v())return!0;let e=yc(),t=n.S(e),r=0<t&&t<10,i=JT(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)}static v(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.C)==="YES"}static F(e,t){return e.store(t)}static S(e){let t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}M(e){return k(this,null,function*(){return this.db||(j("SimpleDb","Opening database:",this.name),this.db=yield new Promise((t,r)=>{let i=indexedDB.open(this.name,this.version);i.onsuccess=o=>{let s=o.target.result;t(s)},i.onblocked=()=>{r(new Qo(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=o=>{let s=o.target.error;s.name==="VersionError"?r(new V(P.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):s.name==="InvalidStateError"?r(new V(P.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+s)):r(new Qo(e,s))},i.onupgradeneeded=o=>{j("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',o.oldVersion);let s=o.target.result;this.p.O(s,i.transaction,o.oldVersion,this.version).next(()=>{j("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.N&&(this.db.onversionchange=t=>this.N(t)),this.db})}L(e){this.N=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,i){return k(this,null,function*(){let o=t==="readonly",s=0;for(;;){++s;try{this.db=yield this.M(e);let a=Wf.open(this.db,e,o?"readonly":"readwrite",r),c=i(a).next(l=>(a.g(),l)).catch(l=>(a.abort(l),R.reject(l))).toPromise();return c.catch(()=>{}),yield a.m,c}catch(a){let c=a,l=c.name!=="FirebaseError"&&s<3;if(j("SimpleDb","Transaction failed with error:",c.message,"Retrying:",l),this.close(),!l)return Promise.reject(c)}}})}close(){this.db&&this.db.close(),this.db=void 0}};function JT(n){let e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}var Qy=class{constructor(e){this.B=e,this.k=!1,this.q=null}get isDone(){return this.k}get K(){return this.q}set cursor(e){this.B=e}done(){this.k=!0}$(e){this.q=e}delete(){return qo(this.B.delete())}},Qo=class extends V{constructor(e,t){super(P.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}};function ro(n){return n.name==="IndexedDbTransactionError"}var Yy=class{constructor(e){this.store=e}put(e,t){let r;return t!==void 0?(j("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(j("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),qo(r)}add(e){return j("SimpleDb","ADD",this.store.name,e,e),qo(this.store.add(e))}get(e){return qo(this.store.get(e)).next(t=>(t===void 0&&(t=null),j("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return j("SimpleDb","DELETE",this.store.name,e),qo(this.store.delete(e))}count(){return j("SimpleDb","COUNT",this.store.name),qo(this.store.count())}U(e,t){let r=this.options(e,t),i=r.index?this.store.index(r.index):this.store;if(typeof i.getAll=="function"){let o=i.getAll(r.range);return new R((s,a)=>{o.onerror=c=>{a(c.target.error)},o.onsuccess=c=>{s(c.target.result)}})}{let o=this.cursor(r),s=[];return this.W(o,(a,c)=>{s.push(c)}).next(()=>s)}}G(e,t){let r=this.store.getAll(e,t===null?void 0:t);return new R((i,o)=>{r.onerror=s=>{o(s.target.error)},r.onsuccess=s=>{i(s.target.result)}})}j(e,t){j("SimpleDb","DELETE ALL",this.store.name);let r=this.options(e,t);r.H=!1;let i=this.cursor(r);return this.W(i,(o,s,a)=>a.delete())}J(e,t){let r;t?r=e:(r={},t=e);let i=this.cursor(r);return this.W(i,t)}Y(e){let t=this.cursor({});return new R((r,i)=>{t.onerror=o=>{let s=$x(o.target.error);i(s)},t.onsuccess=o=>{let s=o.target.result;s?e(s.primaryKey,s.value).next(a=>{a?s.continue():r()}):r()}})}W(e,t){let r=[];return new R((i,o)=>{e.onerror=s=>{o(s.target.error)},e.onsuccess=s=>{let a=s.target.result;if(!a)return void i();let c=new Qy(a),l=t(a.primaryKey,a.value,c);if(l instanceof R){let h=l.catch(f=>(c.done(),R.reject(f)));r.push(h)}c.isDone?i():c.K===null?a.continue():a.continue(c.K)}}).next(()=>R.waitFor(r))}options(e,t){let r;return e!==void 0&&(typeof e=="string"?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){let r=this.store.index(e.index);return e.H?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}};function qo(n){return new R((e,t)=>{n.onsuccess=r=>{let i=r.target.result;e(i)},n.onerror=r=>{let i=$x(r.target.error);t(i)}})}var qS=!1;function $x(n){let e=Wi.S(yc());if(e>=12.2&&e<13){let t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){let r=new V("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return qS||(qS=!0,setTimeout(()=>{throw r},0)),r}}return n}var Zy=class{constructor(e,t){this.asyncQueue=e,this.Z=t,this.task=null}start(){this.X(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}X(e){j("IndexBackfiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,()=>k(this,null,function*(){this.task=null;try{j("IndexBackfiller",`Documents written: ${yield this.Z.ee()}`)}catch(t){ro(t)?j("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",t):yield no(t)}yield this.X(6e4)}))}},Jy=class{constructor(e,t){this.localStore=e,this.persistence=t}ee(e=50){return k(this,null,function*(){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",t=>this.te(t,e))})}te(e,t){let r=new Set,i=t,o=!0;return R.doWhile(()=>o===!0&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(s=>{if(s!==null&&!r.has(s))return j("IndexBackfiller",`Processing collection: ${s}`),this.ne(e,s,i).next(a=>{i-=a,r.add(s)});o=!1})).next(()=>t-i)}ne(e,t,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(i=>this.localStore.localDocuments.getNextDocuments(e,t,i,r).next(o=>{let s=o.changes;return this.localStore.indexManager.updateIndexEntries(e,s).next(()=>this.re(i,o)).next(a=>(j("IndexBackfiller",`Updating offset: ${a}`),this.localStore.indexManager.updateCollectionGroup(e,t,a))).next(()=>s.size)}))}re(e,t){let r=e;return t.changes.forEach((i,o)=>{let s=YT(o);Bx(s,r)>0&&(r=s)}),new Bn(r.readTime,r.documentKey,Math.max(t.batchId,e.largestBatchId))}};var An=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.ie(i),this.se=i=>r.writeSequenceNumber(i))}ie(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){let t=++this.previousValue;return this.se&&this.se(t),t}}return n.oe=-1,n})();function pl(n){return n==null}function Ku(n){return n===0&&1/n==-1/0}function XT(n){return typeof n=="number"&&Number.isInteger(n)&&!Ku(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}function ln(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=zS(e)),e=Q5(n.get(t),e);return zS(e)}function Q5(n,e){let t=e,r=n.length;for(let i=0;i<r;i++){let o=n.charAt(i);switch(o){case"\0":t+="";break;case"":t+="";break;default:t+=o}}return t}function zS(n){return n+""}function Ir(n){let e=n.length;if(ee(e>=2),e===2)return ee(n.charAt(0)===""&&n.charAt(1)===""),Ae.emptyPath();let t=e-2,r=[],i="";for(let o=0;o<e;){let s=n.indexOf("",o);switch((s<0||s>t)&&J(),n.charAt(s+1)){case"":let a=n.substring(o,s),c;i.length===0?c=a:(i+=a,c=i,i=""),r.push(c);break;case"":i+=n.substring(o,s),i+="\0";break;case"":i+=n.substring(o,s+1);break;default:J()}o=s+2}return new Ae(r)}var GS=["userId","batchId"];function Lf(n,e){return[n,ln(e)]}function eA(n,e,t){return[n,ln(e),t]}var Y5={},Z5=["prefixPath","collectionGroup","readTime","documentId"],J5=["prefixPath","collectionGroup","documentId"],X5=["collectionGroup","readTime","prefixPath","documentId"],e6=["canonicalId","targetId"],t6=["targetId","path"],n6=["path","targetId"],r6=["collectionId","parent"],i6=["indexId","uid"],o6=["uid","sequenceNumber"],s6=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],a6=["indexId","uid","orderedDocumentKey"],c6=["userId","collectionPath","documentId"],u6=["userId","collectionPath","largestBatchId"],l6=["userId","collectionGroup","largestBatchId"],tA=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],d6=[...tA,"documentOverlays"],nA=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],rA=nA,Hx=[...rA,"indexConfiguration","indexState","indexEntries"],h6=Hx,f6=[...Hx,"globals"];var Qu=class extends Gf{constructor(e,t){super(),this._e=e,this.currentSequenceNumber=t}};function Tt(n,e){let t=q(n);return Wi.F(t._e,e)}function WS(n){let e=0;for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function as(n,e){for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function iA(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}var Ye=class n{constructor(e,t){this.comparator=e,this.root=t||Dr.EMPTY}insert(e,t){return new n(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Dr.BLACK,null,null))}remove(e){return new n(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Dr.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){let e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ba(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ba(this.root,e,this.comparator,!1)}getReverseIterator(){return new ba(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ba(this.root,e,this.comparator,!0)}},ba=class{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Dr=class n{constructor(e,t,r,i,o){this.key=e,this.value=t,this.color=r??n.RED,this.left=i??n.EMPTY,this.right=o??n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,o){return new n(e??this.key,t??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,t,r),null):o===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return n.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw J();let e=this.left.check();if(e!==this.right.check())throw J();return e+(this.isRed()?0:1)}};Dr.EMPTY=null,Dr.RED=!0,Dr.BLACK=!1;Dr.EMPTY=new class{constructor(){this.size=0}get key(){throw J()}get value(){throw J()}get color(){throw J()}get left(){throw J()}get right(){throw J()}copy(e,t,r,i,o){return this}insert(e,t,r){return new Dr(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var $e=class n{constructor(e){this.comparator=e,this.data=new Ye(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Kf(this.data.getIterator())}getIteratorFrom(e){return new Kf(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(t=>{e.push(t)}),e}toString(){let e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){let t=new n(this.comparator);return t.data=e,t}},Kf=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};function ha(n){return n.hasNext()?n.getNext():void 0}var Mn=class n{constructor(e){this.fields=e,e.sort(ft.comparator)}static empty(){return new n([])}unionWith(e){let t=new $e(ft.comparator);for(let r of this.fields)t=t.add(r);for(let r of e)t=t.add(r);return new n(t.toArray())}covers(e){for(let t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Ca(this.fields,e.fields,(t,r)=>t.isEqual(r))}};var Qf=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};function oA(){return typeof atob<"u"}var gt=class n{constructor(e){this.binaryString=e}static fromBase64String(e){let t=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new Qf("Invalid base64 string: "+o):o}}(e);return new n(t)}static fromUint8Array(e){let t=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new n(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){let r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return he(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};gt.EMPTY_BYTE_STRING=new gt("");var p6=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ni(n){if(ee(!!n),typeof n=="string"){let e=0,t=p6.exec(n);if(ee(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:et(n.seconds),nanos:et(n.nanos)}}function et(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Ki(n){return typeof n=="string"?gt.fromBase64String(n):gt.fromUint8Array(n)}function Up(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function qx(n){let e=n.mapValue.fields.__previous_value__;return Up(e)?qx(e):e}function Yu(n){let e=ni(n.mapValue.fields.__local_write_time__.timestampValue);return new Qe(e.seconds,e.nanos)}var Xy=class{constructor(e,t,r,i,o,s,a,c,l){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=l}},Qi=class n{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new n("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof n&&e.projectId===this.projectId&&e.database===this.database}};var qi={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},jf={nullValue:"NULL_VALUE"};function Yo(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Up(n)?4:sA(n)?9007199254740991:Bp(n)?10:11:J()}function Ar(n,e){if(n===e)return!0;let t=Yo(n);if(t!==Yo(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Yu(n).isEqual(Yu(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let s=ni(i.timestampValue),a=ni(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(i,o){return Ki(i.bytesValue).isEqual(Ki(o.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,o){return et(i.geoPointValue.latitude)===et(o.geoPointValue.latitude)&&et(i.geoPointValue.longitude)===et(o.geoPointValue.longitude)}(n,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return et(i.integerValue)===et(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let s=et(i.doubleValue),a=et(o.doubleValue);return s===a?Ku(s)===Ku(a):isNaN(s)&&isNaN(a)}return!1}(n,e);case 9:return Ca(n.arrayValue.values||[],e.arrayValue.values||[],Ar);case 10:case 11:return function(i,o){let s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(WS(s)!==WS(a))return!1;for(let c in s)if(s.hasOwnProperty(c)&&(a[c]===void 0||!Ar(s[c],a[c])))return!1;return!0}(n,e);default:return J()}}function Zu(n,e){return(n.values||[]).find(t=>Ar(t,e))!==void 0}function Yi(n,e){if(n===e)return 0;let t=Yo(n),r=Yo(e);if(t!==r)return he(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return he(n.booleanValue,e.booleanValue);case 2:return function(o,s){let a=et(o.integerValue||o.doubleValue),c=et(s.integerValue||s.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(n,e);case 3:return KS(n.timestampValue,e.timestampValue);case 4:return KS(Yu(n),Yu(e));case 5:return he(n.stringValue,e.stringValue);case 6:return function(o,s){let a=Ki(o),c=Ki(s);return a.compareTo(c)}(n.bytesValue,e.bytesValue);case 7:return function(o,s){let a=o.split("/"),c=s.split("/");for(let l=0;l<a.length&&l<c.length;l++){let h=he(a[l],c[l]);if(h!==0)return h}return he(a.length,c.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,s){let a=he(et(o.latitude),et(s.latitude));return a!==0?a:he(et(o.longitude),et(s.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return QS(n.arrayValue,e.arrayValue);case 10:return function(o,s){var a,c,l,h;let f=o.fields||{},m=s.fields||{},_=(a=f.value)===null||a===void 0?void 0:a.arrayValue,T=(c=m.value)===null||c===void 0?void 0:c.arrayValue,D=he(((l=_?.values)===null||l===void 0?void 0:l.length)||0,((h=T?.values)===null||h===void 0?void 0:h.length)||0);return D!==0?D:QS(_,T)}(n.mapValue,e.mapValue);case 11:return function(o,s){if(o===qi.mapValue&&s===qi.mapValue)return 0;if(o===qi.mapValue)return 1;if(s===qi.mapValue)return-1;let a=o.fields||{},c=Object.keys(a),l=s.fields||{},h=Object.keys(l);c.sort(),h.sort();for(let f=0;f<c.length&&f<h.length;++f){let m=he(c[f],h[f]);if(m!==0)return m;let _=Yi(a[c[f]],l[h[f]]);if(_!==0)return _}return he(c.length,h.length)}(n.mapValue,e.mapValue);default:throw J()}}function KS(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return he(n,e);let t=ni(n),r=ni(e),i=he(t.seconds,r.seconds);return i!==0?i:he(t.nanos,r.nanos)}function QS(n,e){let t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){let o=Yi(t[i],r[i]);if(o)return o}return he(t.length,r.length)}function Sa(n){return ev(n)}function ev(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){let r=ni(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Ki(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return z.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(let o of t.values||[])i?i=!1:r+=",",r+=ev(o);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){let r=Object.keys(t.fields||{}).sort(),i="{",o=!0;for(let s of r)o?o=!1:i+=",",i+=`${s}:${ev(t.fields[s])}`;return i+"}"}(n.mapValue):J()}function Zo(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function tv(n){return!!n&&"integerValue"in n}function Ju(n){return!!n&&"arrayValue"in n}function YS(n){return!!n&&"nullValue"in n}function ZS(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Uf(n){return!!n&&"mapValue"in n}function Bp(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="__vector__"}function $u(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){let e={mapValue:{fields:{}}};return as(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=$u(r)),e}if(n.arrayValue){let e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=$u(n.arrayValue.values[t]);return e}return Object.assign({},n)}function sA(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var aA={mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{}}}}};function g6(n){return"nullValue"in n?jf:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?Zo(Qi.empty(),z.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?Bp(n)?aA:{mapValue:{}}:J()}function m6(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?Zo(Qi.empty(),z.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?aA:"mapValue"in n?Bp(n)?{mapValue:{}}:qi:J()}function JS(n,e){let t=Yi(n.value,e.value);return t!==0?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function XS(n,e){let t=Yi(n.value,e.value);return t!==0?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}var Jt=class n{constructor(e){this.value=e}static empty(){return new n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Uf(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=$u(t)}setAll(e){let t=ft.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!t.isImmediateParentOf(a)){let c=this.getFieldsMap(t);this.applyChanges(c,r,i),r={},i=[],t=a.popLast()}s?r[a.lastSegment()]=$u(s):i.push(a.lastSegment())});let o=this.getFieldsMap(t);this.applyChanges(o,r,i)}delete(e){let t=this.field(e.popLast());Uf(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Ar(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];Uf(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){as(t,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new n($u(this.value))}};function cA(n){let e=[];return as(n.fields,(t,r)=>{let i=new ft([t]);if(Uf(r)){let o=cA(r.mapValue).fields;if(o.length===0)e.push(i);else for(let s of o)e.push(i.child(s))}else e.push(i)}),new Mn(e)}var Et=class n{constructor(e,t,r,i,o,s,a){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new n(e,0,ae.min(),ae.min(),ae.min(),Jt.empty(),0)}static newFoundDocument(e,t,r,i){return new n(e,1,t,ae.min(),r,i,0)}static newNoDocument(e,t){return new n(e,2,t,ae.min(),ae.min(),Jt.empty(),0)}static newUnknownDocument(e,t){return new n(e,3,t,ae.min(),ae.min(),Jt.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(ae.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Jt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Jt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ae.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var Mr=class{constructor(e,t){this.position=e,this.inclusive=t}};function eT(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){let o=e[i],s=n.position[i];if(o.field.isKeyField()?r=z.comparator(z.fromName(s.referenceValue),t.key):r=Yi(s,t.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function tT(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Ar(n.position[t],e.position[t]))return!1;return!0}var Jo=class{constructor(e,t="asc"){this.field=e,this.dir=t}};function _6(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}var Yf=class{},be=class n extends Yf{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new iv(e,t,r):t==="array-contains"?new av(e,r):t==="in"?new Zf(e,r):t==="not-in"?new cv(e,r):t==="array-contains-any"?new uv(e,r):new n(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new ov(e,r):new sv(e,r)}matches(e){let t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(Yi(t,this.value)):t!==null&&Yo(this.value)===Yo(t)&&this.matchesComparison(Yi(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return J()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},Oe=class n extends Yf{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new n(e,t)}matches(e){return Ta(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}};function Ta(n){return n.op==="and"}function nv(n){return n.op==="or"}function zx(n){return uA(n)&&Ta(n)}function uA(n){for(let e of n.filters)if(e instanceof Oe)return!1;return!0}function rv(n){if(n instanceof be)return n.field.canonicalString()+n.op.toString()+Sa(n.value);if(zx(n))return n.filters.map(e=>rv(e)).join(",");{let e=n.filters.map(t=>rv(t)).join(",");return`${n.op}(${e})`}}function lA(n,e){return n instanceof be?function(r,i){return i instanceof be&&r.op===i.op&&r.field.isEqual(i.field)&&Ar(r.value,i.value)}(n,e):n instanceof Oe?function(r,i){return i instanceof Oe&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&lA(s,i.filters[a]),!0):!1}(n,e):void J()}function dA(n,e){let t=n.filters.concat(e);return Oe.create(t,n.op)}function hA(n){return n instanceof be?function(t){return`${t.field.canonicalString()} ${t.op} ${Sa(t.value)}`}(n):n instanceof Oe?function(t){return t.op.toString()+" {"+t.getFilters().map(hA).join(" ,")+"}"}(n):"Filter"}var iv=class extends be{constructor(e,t,r){super(e,t,r),this.key=z.fromName(r.referenceValue)}matches(e){let t=z.comparator(e.key,this.key);return this.matchesComparison(t)}},ov=class extends be{constructor(e,t){super(e,"in",t),this.keys=fA("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}},sv=class extends be{constructor(e,t){super(e,"not-in",t),this.keys=fA("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}};function fA(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>z.fromName(r.referenceValue))}var av=class extends be{constructor(e,t){super(e,"array-contains",t)}matches(e){let t=e.data.field(this.field);return Ju(t)&&Zu(t.arrayValue,this.value)}},Zf=class extends be{constructor(e,t){super(e,"in",t)}matches(e){let t=e.data.field(this.field);return t!==null&&Zu(this.value.arrayValue,t)}},cv=class extends be{constructor(e,t){super(e,"not-in",t)}matches(e){if(Zu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let t=e.data.field(this.field);return t!==null&&!Zu(this.value.arrayValue,t)}},uv=class extends be{constructor(e,t){super(e,"array-contains-any",t)}matches(e){let t=e.data.field(this.field);return!(!Ju(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Zu(this.value.arrayValue,r))}};var lv=class{constructor(e,t=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.ue=null}};function dv(n,e=null,t=[],r=[],i=null,o=null,s=null){return new lv(n,e,t,r,i,o,s)}function Xo(n){let e=q(n);if(e.ue===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>rv(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),pl(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Sa(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Sa(r)).join(",")),e.ue=t}return e.ue}function gl(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!_6(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!lA(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!tT(n.startAt,e.startAt)&&tT(n.endAt,e.endAt)}function Jf(n){return z.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}function Xf(n,e){return n.filters.filter(t=>t instanceof be&&t.field.isEqual(e))}function nT(n,e,t){let r=jf,i=!0;for(let o of Xf(n,e)){let s=jf,a=!0;switch(o.op){case"<":case"<=":s=g6(o.value);break;case"==":case"in":case">=":s=o.value;break;case">":s=o.value,a=!1;break;case"!=":case"not-in":s=jf}JS({value:r,inclusive:i},{value:s,inclusive:a})<0&&(r=s,i=a)}if(t!==null){for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(e)){let s=t.position[o];JS({value:r,inclusive:i},{value:s,inclusive:t.inclusive})<0&&(r=s,i=t.inclusive);break}}return{value:r,inclusive:i}}function rT(n,e,t){let r=qi,i=!0;for(let o of Xf(n,e)){let s=qi,a=!0;switch(o.op){case">=":case">":s=m6(o.value),a=!1;break;case"==":case"in":case"<=":s=o.value;break;case"<":s=o.value,a=!1;break;case"!=":case"not-in":s=qi}XS({value:r,inclusive:i},{value:s,inclusive:a})>0&&(r=s,i=a)}if(t!==null){for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(e)){let s=t.position[o];XS({value:r,inclusive:i},{value:s,inclusive:t.inclusive})>0&&(r=s,i=t.inclusive);break}}return{value:r,inclusive:i}}var ir=class{constructor(e,t=null,r=[],i=[],o=null,s="F",a=null,c=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=c,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}};function pA(n,e,t,r,i,o,s,a){return new ir(n,e,t,r,i,o,s,a)}function Ha(n){return new ir(n)}function iT(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function Gx(n){return n.collectionGroup!==null}function Ea(n){let e=q(n);if(e.ce===null){e.ce=[];let t=new Set;for(let o of e.explicitOrderBy)e.ce.push(o),t.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new $e(ft.comparator);return s.filters.forEach(c=>{c.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.ce.push(new Jo(o,r))}),t.has(ft.keyField().canonicalString())||e.ce.push(new Jo(ft.keyField(),r))}return e.ce}function dn(n){let e=q(n);return e.le||(e.le=y6(e,Ea(n))),e.le}function y6(n,e){if(n.limitType==="F")return dv(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new Jo(i.field,o)});let t=n.endAt?new Mr(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Mr(n.startAt.position,n.startAt.inclusive):null;return dv(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function hv(n,e){let t=n.filters.concat([e]);return new ir(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function ep(n,e,t){return new ir(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function ml(n,e){return gl(dn(n),dn(e))&&n.limitType===e.limitType}function gA(n){return`${Xo(dn(n))}|lt:${n.limitType}`}function _a(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>hA(i)).join(", ")}]`),pl(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>Sa(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>Sa(i)).join(",")),`Target(${r})`}(dn(n))}; limitType=${n.limitType})`}function _l(n,e){return e.isFoundDocument()&&function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):z.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(n,e)&&function(r,i){for(let o of Ea(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(n,e)&&function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0}(n,e)&&function(r,i){return!(r.startAt&&!function(s,a,c){let l=eT(s,a,c);return s.inclusive?l<=0:l<0}(r.startAt,Ea(r),i)||r.endAt&&!function(s,a,c){let l=eT(s,a,c);return s.inclusive?l>=0:l>0}(r.endAt,Ea(r),i))}(n,e)}function mA(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function _A(n){return(e,t)=>{let r=!1;for(let i of Ea(n)){let o=v6(i,e,t);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function v6(n,e,t){let r=n.field.isKeyField()?z.comparator(e.key,t.key):function(o,s,a){let c=s.data.field(o),l=a.data.field(o);return c!==null&&l!==null?Yi(c,l):J()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return J()}}var Rr=class{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){as(this.inner,(t,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return iA(this.inner)}size(){return this.innerSize}};var x6=new Ye(z.comparator);function vn(){return x6}var yA=new Ye(z.comparator);function Uu(...n){let e=yA;for(let t of n)e=e.insert(t.key,t);return e}function vA(n){let e=yA;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Cr(){return Hu()}function xA(){return Hu()}function Hu(){return new Rr(n=>n.toString(),(n,e)=>n.isEqual(e))}var b6=new Ye(z.comparator),w6=new $e(z.comparator);function fe(...n){let e=w6;for(let t of n)e=e.add(t);return e}var E6=new $e(he);function Wx(){return E6}function Kx(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ku(e)?"-0":e}}function bA(n){return{integerValue:""+n}}function wA(n,e){return XT(e)?bA(e):Kx(n,e)}var Aa=class{constructor(){this._=void 0}};function I6(n,e,t){return n instanceof Zi?function(i,o){let s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&Up(o)&&(o=qx(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(t,e):n instanceof ri?IA(n,e):n instanceof ii?CA(n,e):function(i,o){let s=EA(i,o),a=oT(s)+oT(i.Pe);return tv(s)&&tv(i.Pe)?bA(a):Kx(i.serializer,a)}(n,e)}function C6(n,e,t){return n instanceof ri?IA(n,e):n instanceof ii?CA(n,e):t}function EA(n,e){return n instanceof Ji?function(r){return tv(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}var Zi=class extends Aa{},ri=class extends Aa{constructor(e){super(),this.elements=e}};function IA(n,e){let t=DA(e);for(let r of n.elements)t.some(i=>Ar(i,r))||t.push(r);return{arrayValue:{values:t}}}var ii=class extends Aa{constructor(e){super(),this.elements=e}};function CA(n,e){let t=DA(e);for(let r of n.elements)t=t.filter(i=>!Ar(i,r));return{arrayValue:{values:t}}}var Ji=class extends Aa{constructor(e,t){super(),this.serializer=e,this.Pe=t}};function oT(n){return et(n.integerValue||n.doubleValue)}function DA(n){return Ju(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}var es=class{constructor(e,t){this.field=e,this.transform=t}};function D6(n,e){return n.field.isEqual(e.field)&&function(r,i){return r instanceof ri&&i instanceof ri||r instanceof ii&&i instanceof ii?Ca(r.elements,i.elements,Ar):r instanceof Ji&&i instanceof Ji?Ar(r.Pe,i.Pe):r instanceof Zi&&i instanceof Zi}(n.transform,e.transform)}var fv=class{constructor(e,t){this.version=e,this.transformResults=t}},at=class n{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new n}static exists(e){return new n(void 0,e)}static updateTime(e){return new n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function Bf(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}var Ma=class{};function SA(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new eo(n.key,at.none()):new Xi(n.key,n.data,at.none());{let t=n.data,r=Jt.empty(),i=new $e(ft.comparator);for(let o of e.fields)if(!i.has(o)){let s=t.field(o);s===null&&o.length>1&&(o=o.popLast(),s=t.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new or(n.key,r,new Mn(i.toArray()),at.none())}}function S6(n,e,t){n instanceof Xi?function(i,o,s){let a=i.value.clone(),c=aT(i.fieldTransforms,o,s.transformResults);a.setAll(c),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(n,e,t):n instanceof or?function(i,o,s){if(!Bf(i.precondition,o))return void o.convertToUnknownDocument(s.version);let a=aT(i.fieldTransforms,o,s.transformResults),c=o.data;c.setAll(TA(i)),c.setAll(a),o.convertToFoundDocument(s.version,c).setHasCommittedMutations()}(n,e,t):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,t)}function qu(n,e,t,r){return n instanceof Xi?function(o,s,a,c){if(!Bf(o.precondition,s))return a;let l=o.value.clone(),h=cT(o.fieldTransforms,c,s);return l.setAll(h),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(n,e,t,r):n instanceof or?function(o,s,a,c){if(!Bf(o.precondition,s))return a;let l=cT(o.fieldTransforms,c,s),h=s.data;return h.setAll(TA(o)),h.setAll(l),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(f=>f.field))}(n,e,t,r):function(o,s,a){return Bf(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(n,e,t)}function T6(n,e){let t=null;for(let r of n.fieldTransforms){let i=e.data.field(r.field),o=EA(r.transform,i||null);o!=null&&(t===null&&(t=Jt.empty()),t.set(r.field,o))}return t||null}function sT(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Ca(r,i,(o,s)=>D6(o,s))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}var Xi=class extends Ma{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},or=class extends Ma{constructor(e,t,r,i,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function TA(n){let e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){let r=n.data.field(t);e.set(t,r)}}),e}function aT(n,e,t){let r=new Map;ee(n.length===t.length);for(let i=0;i<t.length;i++){let o=n[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,C6(s,a,t[i]))}return r}function cT(n,e,t){let r=new Map;for(let i of n){let o=i.transform,s=t.data.field(i.field);r.set(i.field,I6(o,s,e))}return r}var eo=class extends Ma{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},Xu=class extends Ma{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var el=class{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){let r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&S6(o,e,r[i])}}applyToLocalView(e,t){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(t=qu(r,e,t,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(t=qu(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){let r=xA();return this.mutations.forEach(i=>{let o=e.get(i.key),s=o.overlayedDocument,a=this.applyToLocalView(s,o.mutatedFields);a=t.has(i.key)?null:a;let c=SA(s,a);c!==null&&r.set(i.key,c),s.isValidDocument()||s.convertToNoDocument(ae.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),fe())}isEqual(e){return this.batchId===e.batchId&&Ca(this.mutations,e.mutations,(t,r)=>sT(t,r))&&Ca(this.baseMutations,e.baseMutations,(t,r)=>sT(t,r))}},pv=class n{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){ee(e.mutations.length===r.length);let i=function(){return b6}(),o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new n(e,t,r,i)}};var tl=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var gv=class{constructor(e,t){this.count=e,this.unchangedNames=t}};var xt,Te;function AA(n){switch(n){default:return J();case P.CANCELLED:case P.UNKNOWN:case P.DEADLINE_EXCEEDED:case P.RESOURCE_EXHAUSTED:case P.INTERNAL:case P.UNAVAILABLE:case P.UNAUTHENTICATED:return!1;case P.INVALID_ARGUMENT:case P.NOT_FOUND:case P.ALREADY_EXISTS:case P.PERMISSION_DENIED:case P.FAILED_PRECONDITION:case P.ABORTED:case P.OUT_OF_RANGE:case P.UNIMPLEMENTED:case P.DATA_LOSS:return!0}}function MA(n){if(n===void 0)return ht("GRPC error has no .code"),P.UNKNOWN;switch(n){case xt.OK:return P.OK;case xt.CANCELLED:return P.CANCELLED;case xt.UNKNOWN:return P.UNKNOWN;case xt.DEADLINE_EXCEEDED:return P.DEADLINE_EXCEEDED;case xt.RESOURCE_EXHAUSTED:return P.RESOURCE_EXHAUSTED;case xt.INTERNAL:return P.INTERNAL;case xt.UNAVAILABLE:return P.UNAVAILABLE;case xt.UNAUTHENTICATED:return P.UNAUTHENTICATED;case xt.INVALID_ARGUMENT:return P.INVALID_ARGUMENT;case xt.NOT_FOUND:return P.NOT_FOUND;case xt.ALREADY_EXISTS:return P.ALREADY_EXISTS;case xt.PERMISSION_DENIED:return P.PERMISSION_DENIED;case xt.FAILED_PRECONDITION:return P.FAILED_PRECONDITION;case xt.ABORTED:return P.ABORTED;case xt.OUT_OF_RANGE:return P.OUT_OF_RANGE;case xt.UNIMPLEMENTED:return P.UNIMPLEMENTED;case xt.DATA_LOSS:return P.DATA_LOSS;default:return J()}}(Te=xt||(xt={}))[Te.OK=0]="OK",Te[Te.CANCELLED=1]="CANCELLED",Te[Te.UNKNOWN=2]="UNKNOWN",Te[Te.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Te[Te.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Te[Te.NOT_FOUND=5]="NOT_FOUND",Te[Te.ALREADY_EXISTS=6]="ALREADY_EXISTS",Te[Te.PERMISSION_DENIED=7]="PERMISSION_DENIED",Te[Te.UNAUTHENTICATED=16]="UNAUTHENTICATED",Te[Te.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Te[Te.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Te[Te.ABORTED=10]="ABORTED",Te[Te.OUT_OF_RANGE=11]="OUT_OF_RANGE",Te[Te.UNIMPLEMENTED=12]="UNIMPLEMENTED",Te[Te.INTERNAL=13]="INTERNAL",Te[Te.UNAVAILABLE=14]="UNAVAILABLE",Te[Te.DATA_LOSS=15]="DATA_LOSS";var uT=null;function RA(){return new TextEncoder}var A6=new ji([4294967295,4294967295],0);function lT(n){let e=RA().encode(n),t=new My;return t.update(e),new Uint8Array(t.digest())}function dT(n){let e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new ji([t,r],0),new ji([i,o],0)]}var mv=class n{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Ko(`Invalid padding: ${t}`);if(r<0)throw new Ko(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ko(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new Ko(`Invalid padding when bitmap length is 0: ${t}`);this.Ie=8*e.length-t,this.Te=ji.fromNumber(this.Ie)}Ee(e,t,r){let i=e.add(t.multiply(ji.fromNumber(r)));return i.compare(A6)===1&&(i=new ji([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;let t=lT(e),[r,i]=dT(t);for(let o=0;o<this.hashCount;o++){let s=this.Ee(r,i,o);if(!this.de(s))return!1}return!0}static create(e,t,r){let i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new n(o,i,t);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.Ie===0)return;let t=lT(e),[r,i]=dT(t);for(let o=0;o<this.hashCount;o++){let s=this.Ee(r,i,o);this.Ae(s)}}Ae(e){let t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}},Ko=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var nl=class n{constructor(e,t,r,i,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){let i=new Map;return i.set(e,rl.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new n(ae.min(),i,new Ye(he),vn(),fe())}},rl=class n{constructor(e,t,r,i,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new n(r,t,fe(),fe(),fe())}};var Ia=class{constructor(e,t,r,i){this.Re=e,this.removedTargetIds=t,this.key=r,this.Ve=i}},tp=class{constructor(e,t){this.targetId=e,this.me=t}},np=class{constructor(e,t,r=gt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}},rp=class{constructor(){this.fe=0,this.ge=fT(),this.pe=gt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=fe(),t=fe(),r=fe();return this.ge.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:J()}}),new rl(this.pe,this.ye,e,t,r)}Ce(){this.we=!1,this.ge=fT()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,ee(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}},_v=class{constructor(e){this.Le=e,this.Be=new Map,this.ke=vn(),this.qe=hT(),this.Qe=new Ye(he)}Ke(e){for(let t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(t,e.Ve):this.Ue(t,e.key,e.Ve);for(let t of e.removedTargetIds)this.Ue(t,e.key,e.Ve)}We(e){this.forEachTarget(e,t=>{let r=this.Ge(t);switch(e.state){case 0:this.ze(t)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(t);break;case 3:this.ze(t)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(t)&&(this.je(t),r.De(e.resumeToken));break;default:J()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach((r,i)=>{this.ze(i)&&t(i)})}He(e){let t=e.targetId,r=e.me.count,i=this.Je(t);if(i){let o=i.target;if(Jf(o))if(r===0){let s=new z(o.path);this.Ue(t,s,Et.newNoDocument(s,ae.min()))}else ee(r===1);else{let s=this.Ye(t);if(s!==r){let a=this.Ze(e),c=a?this.Xe(a,e,s):1;if(c!==0){this.je(t);let l=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(t,l)}uT?.et(function(h,f,m,_,T){var D,A,U,Y,O,X;let ce={localCacheCount:h,existenceFilterCount:f.count,databaseId:m.database,projectId:m.projectId},ie=f.unchangedNames;return ie&&(ce.bloomFilter={applied:T===0,hashCount:(D=ie?.hashCount)!==null&&D!==void 0?D:0,bitmapLength:(Y=(U=(A=ie?.bits)===null||A===void 0?void 0:A.bitmap)===null||U===void 0?void 0:U.length)!==null&&Y!==void 0?Y:0,padding:(X=(O=ie?.bits)===null||O===void 0?void 0:O.padding)!==null&&X!==void 0?X:0,mightContain:w=>{var y;return(y=_?.mightContain(w))!==null&&y!==void 0&&y}}),ce}(s,e.me,this.Le.tt(),a,c))}}}}Ze(e){let t=e.me.unchangedNames;if(!t||!t.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=t,s,a;try{s=Ki(r).toUint8Array()}catch(c){if(c instanceof Qf)return rr("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new mv(s,i,o)}catch(c){return rr(c instanceof Ko?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return a.Ie===0?null:a}Xe(e,t,r){return t.me.count===r-this.nt(e,t.targetId)?0:2}nt(e,t){let r=this.Le.getRemoteKeysForTarget(t),i=0;return r.forEach(o=>{let s=this.Le.tt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.Ue(t,o,null),i++)}),i}rt(e){let t=new Map;this.Be.forEach((o,s)=>{let a=this.Je(s);if(a){if(o.current&&Jf(a.target)){let c=new z(a.target.path);this.ke.get(c)!==null||this.it(s,c)||this.Ue(s,c,Et.newNoDocument(c,e))}o.be&&(t.set(s,o.ve()),o.Ce())}});let r=fe();this.qe.forEach((o,s)=>{let a=!0;s.forEachWhile(c=>{let l=this.Je(c);return!l||l.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.ke.forEach((o,s)=>s.setReadTime(e));let i=new nl(e,t,this.Qe,this.ke,r);return this.ke=vn(),this.qe=hT(),this.Qe=new Ye(he),i}$e(e,t){if(!this.ze(e))return;let r=this.it(e,t.key)?2:0;this.Ge(e).Fe(t.key,r),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e))}Ue(e,t,r){if(!this.ze(e))return;let i=this.Ge(e);this.it(e,t)?i.Fe(t,1):i.Me(t),this.qe=this.qe.insert(t,this.st(t).delete(e)),r&&(this.ke=this.ke.insert(t,r))}removeTarget(e){this.Be.delete(e)}Ye(e){let t=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let t=this.Be.get(e);return t||(t=new rp,this.Be.set(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new $e(he),this.qe=this.qe.insert(e,t)),t}ze(e){let t=this.Je(e)!==null;return t||j("WatchChangeAggregator","Detected inactive target",e),t}Je(e){let t=this.Be.get(e);return t&&t.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new rp),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.Ue(e,t,null)})}it(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}};function hT(){return new Ye(z.comparator)}function fT(){return new Ye(z.comparator)}var M6={asc:"ASCENDING",desc:"DESCENDING"},R6={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},N6={and:"AND",or:"OR"},yv=class{constructor(e,t){this.databaseId=e,this.useProto3Json=t}};function vv(n,e){return n.useProto3Json||pl(e)?e:{value:e}}function Ra(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function NA(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function P6(n,e){return Ra(n,e.toTimestamp())}function pt(n){return ee(!!n),ae.fromTimestamp(function(t){let r=ni(t);return new Qe(r.seconds,r.nanos)}(n))}function Qx(n,e){return xv(n,e).canonicalString()}function xv(n,e){let t=function(i){return new Ae(["projects",i.projectId,"databases",i.database])}(n).child("documents");return e===void 0?t:t.child(e)}function PA(n){let e=Ae.fromString(n);return ee(HA(e)),e}function il(n,e){return Qx(n.databaseId,e.path)}function Sr(n,e){let t=PA(e);if(t.get(1)!==n.databaseId.projectId)throw new V(P.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new V(P.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new z(OA(t))}function kA(n,e){return Qx(n.databaseId,e)}function FA(n){let e=PA(n);return e.length===4?Ae.emptyPath():OA(e)}function bv(n){return new Ae(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function OA(n){return ee(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function pT(n,e,t){return{name:il(n,e),fields:t.value.mapValue.fields}}function VA(n,e,t){let r=Sr(n,e.name),i=pt(e.updateTime),o=e.createTime?pt(e.createTime):ae.min(),s=new Jt({mapValue:{fields:e.fields}}),a=Et.newFoundDocument(r,i,o,s);return t&&a.setHasCommittedMutations(),t?a.setHasCommittedMutations():a}function k6(n,e){return"found"in e?function(r,i){ee(!!i.found),i.found.name,i.found.updateTime;let o=Sr(r,i.found.name),s=pt(i.found.updateTime),a=i.found.createTime?pt(i.found.createTime):ae.min(),c=new Jt({mapValue:{fields:i.found.fields}});return Et.newFoundDocument(o,s,a,c)}(n,e):"missing"in e?function(r,i){ee(!!i.missing),ee(!!i.readTime);let o=Sr(r,i.missing),s=pt(i.readTime);return Et.newNoDocument(o,s)}(n,e):J()}function F6(n,e){let t;if("targetChange"in e){e.targetChange;let r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:J()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(l,h){return l.useProto3Json?(ee(h===void 0||typeof h=="string"),gt.fromBase64String(h||"")):(ee(h===void 0||h instanceof Buffer||h instanceof Uint8Array),gt.fromUint8Array(h||new Uint8Array))}(n,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(l){let h=l.code===void 0?P.UNKNOWN:MA(l.code);return new V(h,l.message||"")}(s);t=new np(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=Sr(n,r.document.name),o=pt(r.document.updateTime),s=r.document.createTime?pt(r.document.createTime):ae.min(),a=new Jt({mapValue:{fields:r.document.fields}}),c=Et.newFoundDocument(i,o,s,a),l=r.targetIds||[],h=r.removedTargetIds||[];t=new Ia(l,h,c.key,c)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=Sr(n,r.document),o=r.readTime?pt(r.readTime):ae.min(),s=Et.newNoDocument(i,o),a=r.removedTargetIds||[];t=new Ia([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=Sr(n,r.document),o=r.removedTargetIds||[];t=new Ia([],o,i,null)}else{if(!("filter"in e))return J();{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:o}=r,s=new gv(i,o),a=r.targetId;t=new tp(a,s)}}return t}function ol(n,e){let t;if(e instanceof Xi)t={update:pT(n,e.key,e.value)};else if(e instanceof eo)t={delete:il(n,e.key)};else if(e instanceof or)t={update:pT(n,e.key,e.data),updateMask:B6(e.fieldMask)};else{if(!(e instanceof Xu))return J();t={verify:il(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(o,s){let a=s.transform;if(a instanceof Zi)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof ri)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof ii)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Ji)return{fieldPath:s.field.canonicalString(),increment:a.Pe};throw J()}(0,r))),e.precondition.isNone||(t.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:P6(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:J()}(n,e.precondition)),t}function wv(n,e){let t=e.currentDocument?function(o){return o.updateTime!==void 0?at.updateTime(pt(o.updateTime)):o.exists!==void 0?at.exists(o.exists):at.none()}(e.currentDocument):at.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(s,a){let c=null;if("setToServerValue"in a)ee(a.setToServerValue==="REQUEST_TIME"),c=new Zi;else if("appendMissingElements"in a){let h=a.appendMissingElements.values||[];c=new ri(h)}else if("removeAllFromArray"in a){let h=a.removeAllFromArray.values||[];c=new ii(h)}else"increment"in a?c=new Ji(s,a.increment):J();let l=ft.fromServerFormat(a.fieldPath);return new es(l,c)}(n,i)):[];if(e.update){e.update.name;let i=Sr(n,e.update.name),o=new Jt({mapValue:{fields:e.update.fields}});if(e.updateMask){let s=function(c){let l=c.fieldPaths||[];return new Mn(l.map(h=>ft.fromServerFormat(h)))}(e.updateMask);return new or(i,o,s,t,r)}return new Xi(i,o,t,r)}if(e.delete){let i=Sr(n,e.delete);return new eo(i,t)}if(e.verify){let i=Sr(n,e.verify);return new Xu(i,t)}return J()}function O6(n,e){return n&&n.length>0?(ee(e!==void 0),n.map(t=>function(i,o){let s=i.updateTime?pt(i.updateTime):pt(o);return s.isEqual(ae.min())&&(s=pt(o)),new fv(s,i.transformResults||[])}(t,e))):[]}function LA(n,e){return{documents:[kA(n,e.path)]}}function jA(n,e){let t={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=kA(n,i);let o=function(l){if(l.length!==0)return $A(Oe.create(l,"and"))}(e.filters);o&&(t.structuredQuery.where=o);let s=function(l){if(l.length!==0)return l.map(h=>function(m){return{field:ya(m.field),direction:L6(m.dir)}}(h))}(e.orderBy);s&&(t.structuredQuery.orderBy=s);let a=vv(n,e.limit);return a!==null&&(t.structuredQuery.limit=a),e.startAt&&(t.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),{_t:t,parent:i}}function UA(n){let e=FA(n.parent),t=n.structuredQuery,r=t.from?t.from.length:0,i=null;if(r>0){ee(r===1);let h=t.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let o=[];t.where&&(o=function(f){let m=BA(f);return m instanceof Oe&&zx(m)?m.getFilters():[m]}(t.where));let s=[];t.orderBy&&(s=function(f){return f.map(m=>function(T){return new Jo(va(T.field),function(A){switch(A){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(T.direction))}(m))}(t.orderBy));let a=null;t.limit&&(a=function(f){let m;return m=typeof f=="object"?f.value:f,pl(m)?null:m}(t.limit));let c=null;t.startAt&&(c=function(f){let m=!!f.before,_=f.values||[];return new Mr(_,m)}(t.startAt));let l=null;return t.endAt&&(l=function(f){let m=!f.before,_=f.values||[];return new Mr(_,m)}(t.endAt)),pA(e,i,s,o,a,"F",c,l)}function V6(n,e){let t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return J()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function BA(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":let r=va(t.unaryFilter.field);return be.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=va(t.unaryFilter.field);return be.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=va(t.unaryFilter.field);return be.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=va(t.unaryFilter.field);return be.create(s,"!=",{nullValue:"NULL_VALUE"});default:return J()}}(n):n.fieldFilter!==void 0?function(t){return be.create(va(t.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return J()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return Oe.create(t.compositeFilter.filters.map(r=>BA(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return J()}}(t.compositeFilter.op))}(n):J()}function L6(n){return M6[n]}function j6(n){return R6[n]}function U6(n){return N6[n]}function ya(n){return{fieldPath:n.canonicalString()}}function va(n){return ft.fromServerFormat(n.fieldPath)}function $A(n){return n instanceof be?function(t){if(t.op==="=="){if(ZS(t.value))return{unaryFilter:{field:ya(t.field),op:"IS_NAN"}};if(YS(t.value))return{unaryFilter:{field:ya(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(ZS(t.value))return{unaryFilter:{field:ya(t.field),op:"IS_NOT_NAN"}};if(YS(t.value))return{unaryFilter:{field:ya(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ya(t.field),op:j6(t.op),value:t.value}}}(n):n instanceof Oe?function(t){let r=t.getFilters().map(i=>$A(i));return r.length===1?r[0]:{compositeFilter:{op:U6(t.op),filters:r}}}(n):J()}function B6(n){let e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function HA(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}var Na=class n{constructor(e,t,r,i,o=ae.min(),s=ae.min(),a=gt.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new n(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var ip=class{constructor(e){this.ct=e}};function $6(n,e){let t;if(e.document)t=VA(n.ct,e.document,!!e.hasCommittedMutations);else if(e.noDocument){let r=z.fromSegments(e.noDocument.path),i=ns(e.noDocument.readTime);t=Et.newNoDocument(r,i),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return J();{let r=z.fromSegments(e.unknownDocument.path),i=ns(e.unknownDocument.version);t=Et.newUnknownDocument(r,i)}}return e.readTime&&t.setReadTime(function(i){let o=new Qe(i[0],i[1]);return ae.fromTimestamp(o)}(e.readTime)),t}function gT(n,e){let t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:op(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=function(o,s){return{name:il(o,s.key),fields:s.data.value.mapValue.fields,updateTime:Ra(o,s.version.toTimestamp()),createTime:Ra(o,s.createTime.toTimestamp())}}(n.ct,e);else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:ts(e.version)};else{if(!e.isUnknownDocument())return J();r.unknownDocument={path:t.path.toArray(),version:ts(e.version)}}return r}function op(n){let e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function ts(n){let e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function ns(n){let e=new Qe(n.seconds,n.nanoseconds);return ae.fromTimestamp(e)}function zo(n,e){let t=(e.baseMutations||[]).map(o=>wv(n.ct,o));for(let o=0;o<e.mutations.length-1;++o){let s=e.mutations[o];if(o+1<e.mutations.length&&e.mutations[o+1].transform!==void 0){let a=e.mutations[o+1];s.updateTransforms=a.transform.fieldTransforms,e.mutations.splice(o+1,1),++o}}let r=e.mutations.map(o=>wv(n.ct,o)),i=Qe.fromMillis(e.localWriteTimeMs);return new el(e.batchId,i,t,r)}function Bu(n){let e=ns(n.readTime),t=n.lastLimboFreeSnapshotVersion!==void 0?ns(n.lastLimboFreeSnapshotVersion):ae.min(),r;return r=function(o){return o.documents!==void 0}(n.query)?function(o){return ee(o.documents.length===1),dn(Ha(FA(o.documents[0])))}(n.query):function(o){return dn(UA(o))}(n.query),new Na(r,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,e,t,gt.fromBase64String(n.resumeToken))}function qA(n,e){let t=ts(e.snapshotVersion),r=ts(e.lastLimboFreeSnapshotVersion),i;i=Jf(e.target)?LA(n.ct,e.target):jA(n.ct,e.target)._t;let o=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Xo(e.target),readTime:t,resumeToken:o,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function Yx(n){let e=UA({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?ep(e,e.limit,"L"):e}function Oy(n,e){return new tl(e.largestBatchId,wv(n.ct,e.overlayMutation))}function mT(n,e){let t=e.path.lastSegment();return[n,ln(e.path.popLast()),t]}function _T(n,e,t,r){return{indexId:n,uid:e,sequenceNumber:t,readTime:ts(r.readTime),documentKey:ln(r.documentKey.path),largestBatchId:r.largestBatchId}}var Ev=class{getBundleMetadata(e,t){return yT(e).get(t).next(r=>{if(r)return function(o){return{id:o.bundleId,createTime:ns(o.createTime),version:o.version}}(r)})}saveBundleMetadata(e,t){return yT(e).put(function(i){return{bundleId:i.id,createTime:ts(pt(i.createTime)),version:i.version}}(t))}getNamedQuery(e,t){return vT(e).get(t).next(r=>{if(r)return function(o){return{name:o.name,query:Yx(o.bundledQuery),readTime:ns(o.readTime)}}(r)})}saveNamedQuery(e,t){return vT(e).put(function(i){return{name:i.name,readTime:ts(pt(i.readTime)),bundledQuery:i.bundledQuery}}(t))}};function yT(n){return Tt(n,"bundles")}function vT(n){return Tt(n,"namedQueries")}var sp=class n{constructor(e,t){this.serializer=e,this.userId=t}static lt(e,t){let r=t.uid||"";return new n(e,r)}getOverlay(e,t){return Ou(e).get(mT(this.userId,t)).next(r=>r?Oy(this.serializer,r):null)}getOverlays(e,t){let r=Cr();return R.forEach(t,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,t,r){let i=[];return r.forEach((o,s)=>{let a=new tl(t,s);i.push(this.ht(e,a))}),R.waitFor(i)}removeOverlaysForBatchId(e,t,r){let i=new Set;t.forEach(s=>i.add(ln(s.getCollectionPath())));let o=[];return i.forEach(s=>{let a=IDBKeyRange.bound([this.userId,s,r],[this.userId,s,r+1],!1,!0);o.push(Ou(e).j("collectionPathOverlayIndex",a))}),R.waitFor(o)}getOverlaysForCollection(e,t,r){let i=Cr(),o=ln(t),s=IDBKeyRange.bound([this.userId,o,r],[this.userId,o,Number.POSITIVE_INFINITY],!0);return Ou(e).U("collectionPathOverlayIndex",s).next(a=>{for(let c of a){let l=Oy(this.serializer,c);i.set(l.getKey(),l)}return i})}getOverlaysForCollectionGroup(e,t,r,i){let o=Cr(),s,a=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Ou(e).J({index:"collectionGroupOverlayIndex",range:a},(c,l,h)=>{let f=Oy(this.serializer,l);o.size()<i||f.largestBatchId===s?(o.set(f.getKey(),f),s=f.largestBatchId):h.done()}).next(()=>o)}ht(e,t){return Ou(e).put(function(i,o,s){let[a,c,l]=mT(o,s.mutation.key);return{userId:o,collectionPath:c,documentId:l,collectionGroup:s.mutation.key.getCollectionGroup(),largestBatchId:s.largestBatchId,overlayMutation:ol(i.ct,s.mutation)}}(this.serializer,this.userId,t))}};function Ou(n){return Tt(n,"documentOverlays")}var Iv=class{Pt(e){return Tt(e,"globals")}getSessionToken(e){return this.Pt(e).get("sessionToken").next(t=>{let r=t?.value;return r?gt.fromUint8Array(r):gt.EMPTY_BYTE_STRING})}setSessionToken(e,t){return this.Pt(e).put({name:"sessionToken",value:t.toUint8Array()})}};var ei=class{constructor(){}It(e,t){this.Tt(e,t),t.Et()}Tt(e,t){if("nullValue"in e)this.dt(t,5);else if("booleanValue"in e)this.dt(t,10),t.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(t,15),t.At(et(e.integerValue));else if("doubleValue"in e){let r=et(e.doubleValue);isNaN(r)?this.dt(t,13):(this.dt(t,15),Ku(r)?t.At(0):t.At(r))}else if("timestampValue"in e){let r=e.timestampValue;this.dt(t,20),typeof r=="string"&&(r=ni(r)),t.Rt(`${r.seconds||""}`),t.At(r.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,t),this.ft(t);else if("bytesValue"in e)this.dt(t,30),t.gt(Ki(e.bytesValue)),this.ft(t);else if("referenceValue"in e)this.yt(e.referenceValue,t);else if("geoPointValue"in e){let r=e.geoPointValue;this.dt(t,45),t.At(r.latitude||0),t.At(r.longitude||0)}else"mapValue"in e?sA(e)?this.dt(t,Number.MAX_SAFE_INTEGER):Bp(e)?this.wt(e.mapValue,t):(this.St(e.mapValue,t),this.ft(t)):"arrayValue"in e?(this.bt(e.arrayValue,t),this.ft(t)):J()}Vt(e,t){this.dt(t,25),this.Dt(e,t)}Dt(e,t){t.Rt(e)}St(e,t){let r=e.fields||{};this.dt(t,55);for(let i of Object.keys(r))this.Vt(i,t),this.Tt(r[i],t)}wt(e,t){var r,i;let o=e.fields||{};this.dt(t,53);let s="value",a=((i=(r=o[s].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.dt(t,15),t.At(et(a)),this.Vt(s,t),this.Tt(o[s],t)}bt(e,t){let r=e.values||[];this.dt(t,50);for(let i of r)this.Tt(i,t)}yt(e,t){this.dt(t,37),z.fromName(e).path.forEach(r=>{this.dt(t,60),this.Dt(r,t)})}dt(e,t){e.At(t)}ft(e){e.At(2)}};ei.vt=new ei;function H6(n){if(n===0)return 8;let e=0;return!(n>>4)&&(e+=4,n<<=4),!(n>>6)&&(e+=2,n<<=2),!(n>>7)&&(e+=1),e}function xT(n){let e=64-function(r){let i=0;for(let o=0;o<8;++o){let s=H6(255&r[o]);if(i+=s,s!==8)break}return i}(n);return Math.ceil(e/8)}var Cv=class{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ct(e){let t=e[Symbol.iterator](),r=t.next();for(;!r.done;)this.Ft(r.value),r=t.next();this.Mt()}xt(e){let t=e[Symbol.iterator](),r=t.next();for(;!r.done;)this.Ot(r.value),r=t.next();this.Nt()}Lt(e){for(let t of e){let r=t.charCodeAt(0);if(r<128)this.Ft(r);else if(r<2048)this.Ft(960|r>>>6),this.Ft(128|63&r);else if(t<"\uD800"||"\uDBFF"<t)this.Ft(480|r>>>12),this.Ft(128|63&r>>>6),this.Ft(128|63&r);else{let i=t.codePointAt(0);this.Ft(240|i>>>18),this.Ft(128|63&i>>>12),this.Ft(128|63&i>>>6),this.Ft(128|63&i)}}this.Mt()}Bt(e){for(let t of e){let r=t.charCodeAt(0);if(r<128)this.Ot(r);else if(r<2048)this.Ot(960|r>>>6),this.Ot(128|63&r);else if(t<"\uD800"||"\uDBFF"<t)this.Ot(480|r>>>12),this.Ot(128|63&r>>>6),this.Ot(128|63&r);else{let i=t.codePointAt(0);this.Ot(240|i>>>18),this.Ot(128|63&i>>>12),this.Ot(128|63&i>>>6),this.Ot(128|63&i)}}this.Nt()}kt(e){let t=this.qt(e),r=xT(t);this.Qt(1+r),this.buffer[this.position++]=255&r;for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=255&t[i]}Kt(e){let t=this.qt(e),r=xT(t);this.Qt(1+r),this.buffer[this.position++]=~(255&r);for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=~(255&t[i])}$t(){this.Ut(255),this.Ut(255)}Wt(){this.Gt(255),this.Gt(255)}reset(){this.position=0}seed(e){this.Qt(e.length),this.buffer.set(e,this.position),this.position+=e.length}zt(){return this.buffer.slice(0,this.position)}qt(e){let t=function(o){let s=new DataView(new ArrayBuffer(8));return s.setFloat64(0,o,!1),new Uint8Array(s.buffer)}(e),r=(128&t[0])!=0;t[0]^=r?255:128;for(let i=1;i<t.length;++i)t[i]^=r?255:0;return t}Ft(e){let t=255&e;t===0?(this.Ut(0),this.Ut(255)):t===255?(this.Ut(255),this.Ut(0)):this.Ut(t)}Ot(e){let t=255&e;t===0?(this.Gt(0),this.Gt(255)):t===255?(this.Gt(255),this.Gt(0)):this.Gt(e)}Mt(){this.Ut(0),this.Ut(1)}Nt(){this.Gt(0),this.Gt(1)}Ut(e){this.Qt(1),this.buffer[this.position++]=e}Gt(e){this.Qt(1),this.buffer[this.position++]=~e}Qt(e){let t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);let i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}},Dv=class{constructor(e){this.jt=e}gt(e){this.jt.Ct(e)}Rt(e){this.jt.Lt(e)}At(e){this.jt.kt(e)}Et(){this.jt.$t()}},Sv=class{constructor(e){this.jt=e}gt(e){this.jt.xt(e)}Rt(e){this.jt.Bt(e)}At(e){this.jt.Kt(e)}Et(){this.jt.Wt()}},Go=class{constructor(){this.jt=new Cv,this.Ht=new Dv(this.jt),this.Jt=new Sv(this.jt)}seed(e){this.jt.seed(e)}Yt(e){return e===0?this.Ht:this.Jt}zt(){return this.jt.zt()}reset(){this.jt.reset()}};var Wo=class n{constructor(e,t,r,i){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=i}Zt(){let e=this.directionalValue.length,t=e===0||this.directionalValue[e-1]===255?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new n(this.indexId,this.documentKey,this.arrayValue,r)}};function Ui(n,e){let t=n.indexId-e.indexId;return t!==0?t:(t=bT(n.arrayValue,e.arrayValue),t!==0?t:(t=bT(n.directionalValue,e.directionalValue),t!==0?t:z.comparator(n.documentKey,e.documentKey)))}function bT(n,e){for(let t=0;t<n.length&&t<e.length;++t){let r=n[t]-e[t];if(r!==0)return r}return n.length-e.length}var ap=class{constructor(e){this.Xt=new $e((t,r)=>ft.comparator(t.field,r.field)),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.en=e.orderBy,this.tn=[];for(let t of e.filters){let r=t;r.isInequality()?this.Xt=this.Xt.add(r):this.tn.push(r)}}get nn(){return this.Xt.size>1}rn(e){if(ee(e.collectionGroup===this.collectionId),this.nn)return!1;let t=Ky(e);if(t!==void 0&&!this.sn(t))return!1;let r=Ho(e),i=new Set,o=0,s=0;for(;o<r.length&&this.sn(r[o]);++o)i=i.add(r[o].fieldPath.canonicalString());if(o===r.length)return!0;if(this.Xt.size>0){let a=this.Xt.getIterator().getNext();if(!i.has(a.field.canonicalString())){let c=r[o];if(!this.on(a,c)||!this._n(this.en[s++],c))return!1}++o}for(;o<r.length;++o){let a=r[o];if(s>=this.en.length||!this._n(this.en[s++],a))return!1}return!0}an(){if(this.nn)return null;let e=new $e(ft.comparator),t=[];for(let r of this.tn)if(!r.field.isKeyField())if(r.op==="array-contains"||r.op==="array-contains-any")t.push(new wa(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),t.push(new wa(r.field,0))}for(let r of this.en)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),t.push(new wa(r.field,r.dir==="asc"?0:1)));return new Da(Da.UNKNOWN_ID,this.collectionId,t,Wu.empty())}sn(e){for(let t of this.tn)if(this.on(t,e))return!0;return!1}on(e,t){if(e===void 0||!e.field.isEqual(t.fieldPath))return!1;let r=e.op==="array-contains"||e.op==="array-contains-any";return t.kind===2===r}_n(e,t){return!!e.field.isEqual(t.fieldPath)&&(t.kind===0&&e.dir==="asc"||t.kind===1&&e.dir==="desc")}};function zA(n){var e,t;if(ee(n instanceof be||n instanceof Oe),n instanceof be){if(n instanceof Zf){let i=((t=(e=n.value.arrayValue)===null||e===void 0?void 0:e.values)===null||t===void 0?void 0:t.map(o=>be.create(n.field,"==",o)))||[];return Oe.create(i,"or")}return n}let r=n.filters.map(i=>zA(i));return Oe.create(r,n.op)}function q6(n){if(n.getFilters().length===0)return[];let e=Mv(zA(n));return ee(GA(e)),Tv(e)||Av(e)?[e]:e.getFilters()}function Tv(n){return n instanceof be}function Av(n){return n instanceof Oe&&zx(n)}function GA(n){return Tv(n)||Av(n)||function(t){if(t instanceof Oe&&nv(t)){for(let r of t.getFilters())if(!Tv(r)&&!Av(r))return!1;return!0}return!1}(n)}function Mv(n){if(ee(n instanceof be||n instanceof Oe),n instanceof be)return n;if(n.filters.length===1)return Mv(n.filters[0]);let e=n.filters.map(r=>Mv(r)),t=Oe.create(e,n.op);return t=cp(t),GA(t)?t:(ee(t instanceof Oe),ee(Ta(t)),ee(t.filters.length>1),t.filters.reduce((r,i)=>Zx(r,i)))}function Zx(n,e){let t;return ee(n instanceof be||n instanceof Oe),ee(e instanceof be||e instanceof Oe),t=n instanceof be?e instanceof be?function(i,o){return Oe.create([i,o],"and")}(n,e):wT(n,e):e instanceof be?wT(e,n):function(i,o){if(ee(i.filters.length>0&&o.filters.length>0),Ta(i)&&Ta(o))return dA(i,o.getFilters());let s=nv(i)?i:o,a=nv(i)?o:i,c=s.filters.map(l=>Zx(l,a));return Oe.create(c,"or")}(n,e),cp(t)}function wT(n,e){if(Ta(e))return dA(e,n.getFilters());{let t=e.filters.map(r=>Zx(n,r));return Oe.create(t,"or")}}function cp(n){if(ee(n instanceof be||n instanceof Oe),n instanceof be)return n;let e=n.getFilters();if(e.length===1)return cp(e[0]);if(uA(n))return n;let t=e.map(i=>cp(i)),r=[];return t.forEach(i=>{i instanceof be?r.push(i):i instanceof Oe&&(i.op===n.op?r.push(...i.filters):r.push(i))}),r.length===1?r[0]:Oe.create(r,n.op)}var Rv=class{constructor(){this.un=new sl}addToCollectionParentIndex(e,t){return this.un.add(t),R.resolve()}getCollectionParents(e,t){return R.resolve(this.un.getEntries(t))}addFieldIndex(e,t){return R.resolve()}deleteFieldIndex(e,t){return R.resolve()}deleteAllFieldIndexes(e){return R.resolve()}createTargetIndexes(e,t){return R.resolve()}getDocumentsMatchingTarget(e,t){return R.resolve(null)}getIndexType(e,t){return R.resolve(0)}getFieldIndexes(e,t){return R.resolve([])}getNextCollectionGroupToUpdate(e){return R.resolve(null)}getMinOffset(e,t){return R.resolve(Bn.min())}getMinOffsetFromCollectionGroup(e,t){return R.resolve(Bn.min())}updateCollectionGroup(e,t,r){return R.resolve()}updateIndexEntries(e,t){return R.resolve()}},sl=class{constructor(){this.index={}}add(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new $e(Ae.comparator),o=!i.has(r);return this.index[t]=i.add(r),o}has(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new $e(Ae.comparator)).toArray()}};var kf=new Uint8Array(0),Nv=class{constructor(e,t){this.databaseId=t,this.cn=new sl,this.ln=new Rr(r=>Xo(r),(r,i)=>gl(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.cn.has(t)){let r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener(()=>{this.cn.add(t)});let o={collectionId:r,parent:ln(i)};return ET(e).put(o)}return R.resolve()}getCollectionParents(e,t){let r=[],i=IDBKeyRange.bound([t,""],[KT(t),""],!1,!0);return ET(e).U(i).next(o=>{for(let s of o){if(s.collectionId!==t)break;r.push(Ir(s.parent))}return r})}addFieldIndex(e,t){let r=Vu(e),i=function(a){return{indexId:a.indexId,collectionGroup:a.collectionGroup,fields:a.fields.map(c=>[c.fieldPath.canonicalString(),c.kind])}}(t);delete i.indexId;let o=r.add(i);if(t.indexState){let s=pa(e);return o.next(a=>{s.put(_T(a,this.uid,t.indexState.sequenceNumber,t.indexState.offset))})}return o.next()}deleteFieldIndex(e,t){let r=Vu(e),i=pa(e),o=fa(e);return r.delete(t.indexId).next(()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>o.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){let t=Vu(e),r=fa(e),i=pa(e);return t.j().next(()=>r.j()).next(()=>i.j())}createTargetIndexes(e,t){return R.forEach(this.hn(t),r=>this.getIndexType(e,r).next(i=>{if(i===0||i===1){let o=new ap(r).an();if(o!=null)return this.addFieldIndex(e,o)}}))}getDocumentsMatchingTarget(e,t){let r=fa(e),i=!0,o=new Map;return R.forEach(this.hn(t),s=>this.Pn(e,s).next(a=>{i&&(i=!!a),o.set(s,a)})).next(()=>{if(i){let s=fe(),a=[];return R.forEach(o,(c,l)=>{j("IndexedDbIndexManager",`Using index ${function(O){return`id=${O.indexId}|cg=${O.collectionGroup}|f=${O.fields.map(X=>`${X.fieldPath}:${X.kind}`).join(",")}`}(c)} to execute ${Xo(t)}`);let h=function(O,X){let ce=Ky(X);if(ce===void 0)return null;for(let ie of Xf(O,ce.fieldPath))switch(ie.op){case"array-contains-any":return ie.value.arrayValue.values||[];case"array-contains":return[ie.value]}return null}(l,c),f=function(O,X){let ce=new Map;for(let ie of Ho(X))for(let w of Xf(O,ie.fieldPath))switch(w.op){case"==":case"in":ce.set(ie.fieldPath.canonicalString(),w.value);break;case"not-in":case"!=":return ce.set(ie.fieldPath.canonicalString(),w.value),Array.from(ce.values())}return null}(l,c),m=function(O,X){let ce=[],ie=!0;for(let w of Ho(X)){let y=w.kind===0?nT(O,w.fieldPath,O.startAt):rT(O,w.fieldPath,O.startAt);ce.push(y.value),ie&&(ie=y.inclusive)}return new Mr(ce,ie)}(l,c),_=function(O,X){let ce=[],ie=!0;for(let w of Ho(X)){let y=w.kind===0?rT(O,w.fieldPath,O.endAt):nT(O,w.fieldPath,O.endAt);ce.push(y.value),ie&&(ie=y.inclusive)}return new Mr(ce,ie)}(l,c),T=this.In(c,l,m),D=this.In(c,l,_),A=this.Tn(c,l,f),U=this.En(c.indexId,h,T,m.inclusive,D,_.inclusive,A);return R.forEach(U,Y=>r.G(Y,t.limit).next(O=>{O.forEach(X=>{let ce=z.fromSegments(X.documentKey);s.has(ce)||(s=s.add(ce),a.push(ce))})}))}).next(()=>a)}return R.resolve(null)})}hn(e){let t=this.ln.get(e);return t||(e.filters.length===0?t=[e]:t=q6(Oe.create(e.filters,"and")).map(r=>dv(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.ln.set(e,t),t)}En(e,t,r,i,o,s,a){let c=(t!=null?t.length:1)*Math.max(r.length,o.length),l=c/(t!=null?t.length:1),h=[];for(let f=0;f<c;++f){let m=t?this.dn(t[f/l]):kf,_=this.An(e,m,r[f%l],i),T=this.Rn(e,m,o[f%l],s),D=a.map(A=>this.An(e,m,A,!0));h.push(...this.createRange(_,T,D))}return h}An(e,t,r,i){let o=new Wo(e,z.empty(),t,r);return i?o:o.Zt()}Rn(e,t,r,i){let o=new Wo(e,z.empty(),t,r);return i?o.Zt():o}Pn(e,t){let r=new ap(t),i=t.collectionGroup!=null?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,i).next(o=>{let s=null;for(let a of o)r.rn(a)&&(!s||a.fields.length>s.fields.length)&&(s=a);return s})}getIndexType(e,t){let r=2,i=this.hn(t);return R.forEach(i,o=>this.Pn(e,o).next(s=>{s?r!==0&&s.fields.length<function(c){let l=new $e(ft.comparator),h=!1;for(let f of c.filters)for(let m of f.getFlattenedFilters())m.field.isKeyField()||(m.op==="array-contains"||m.op==="array-contains-any"?h=!0:l=l.add(m.field));for(let f of c.orderBy)f.field.isKeyField()||(l=l.add(f.field));return l.size+(h?1:0)}(o)&&(r=1):r=0})).next(()=>function(s){return s.limit!==null}(t)&&i.length>1&&r===2?1:r)}Vn(e,t){let r=new Go;for(let i of Ho(e)){let o=t.data.field(i.fieldPath);if(o==null)return null;let s=r.Yt(i.kind);ei.vt.It(o,s)}return r.zt()}dn(e){let t=new Go;return ei.vt.It(e,t.Yt(0)),t.zt()}mn(e,t){let r=new Go;return ei.vt.It(Zo(this.databaseId,t),r.Yt(function(o){let s=Ho(o);return s.length===0?0:s[s.length-1].kind}(e))),r.zt()}Tn(e,t,r){if(r===null)return[];let i=[];i.push(new Go);let o=0;for(let s of Ho(e)){let a=r[o++];for(let c of i)if(this.fn(t,s.fieldPath)&&Ju(a))i=this.gn(i,s,a);else{let l=c.Yt(s.kind);ei.vt.It(a,l)}}return this.pn(i)}In(e,t,r){return this.Tn(e,t,r.position)}pn(e){let t=[];for(let r=0;r<e.length;++r)t[r]=e[r].zt();return t}gn(e,t,r){let i=[...e],o=[];for(let s of r.arrayValue.values||[])for(let a of i){let c=new Go;c.seed(a.zt()),ei.vt.It(s,c.Yt(t.kind)),o.push(c)}return o}fn(e,t){return!!e.filters.find(r=>r instanceof be&&r.field.isEqual(t)&&(r.op==="in"||r.op==="not-in"))}getFieldIndexes(e,t){let r=Vu(e),i=pa(e);return(t?r.U("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.U()).next(o=>{let s=[];return R.forEach(o,a=>i.get([a.indexId,this.uid]).next(c=>{s.push(function(h,f){let m=f?new Wu(f.sequenceNumber,new Bn(ns(f.readTime),new z(Ir(f.documentKey)),f.largestBatchId)):Wu.empty(),_=h.fields.map(([T,D])=>new wa(ft.fromServerFormat(T),D));return new Da(h.indexId,h.collectionGroup,_,m)}(a,c))})).next(()=>s)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>t.length===0?null:(t.sort((r,i)=>{let o=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return o!==0?o:he(r.collectionGroup,i.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){let i=Vu(e),o=pa(e);return this.yn(e).next(s=>i.U("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(a=>R.forEach(a,c=>o.put(_T(c.indexId,this.uid,s,r)))))}updateIndexEntries(e,t){let r=new Map;return R.forEach(t,(i,o)=>{let s=r.get(i.collectionGroup);return(s?R.resolve(s):this.getFieldIndexes(e,i.collectionGroup)).next(a=>(r.set(i.collectionGroup,a),R.forEach(a,c=>this.wn(e,i,c).next(l=>{let h=this.Sn(o,c);return l.isEqual(h)?R.resolve():this.bn(e,o,c,l,h)}))))})}Dn(e,t,r,i){return fa(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.mn(r,t.key),documentKey:t.key.path.toArray()})}vn(e,t,r,i){return fa(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.mn(r,t.key),t.key.path.toArray()])}wn(e,t,r){let i=fa(e),o=new $e(Ui);return i.J({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.mn(r,t)])},(s,a)=>{o=o.add(new Wo(r.indexId,t,a.arrayValue,a.directionalValue))}).next(()=>o)}Sn(e,t){let r=new $e(Ui),i=this.Vn(t,e);if(i==null)return r;let o=Ky(t);if(o!=null){let s=e.data.field(o.fieldPath);if(Ju(s))for(let a of s.arrayValue.values||[])r=r.add(new Wo(t.indexId,e.key,this.dn(a),i))}else r=r.add(new Wo(t.indexId,e.key,kf,i));return r}bn(e,t,r,i,o){j("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);let s=[];return function(c,l,h,f,m){let _=c.getIterator(),T=l.getIterator(),D=ha(_),A=ha(T);for(;D||A;){let U=!1,Y=!1;if(D&&A){let O=h(D,A);O<0?Y=!0:O>0&&(U=!0)}else D!=null?Y=!0:U=!0;U?(f(A),A=ha(T)):Y?(m(D),D=ha(_)):(D=ha(_),A=ha(T))}}(i,o,Ui,a=>{s.push(this.Dn(e,t,r,a))},a=>{s.push(this.vn(e,t,r,a))}),R.waitFor(s)}yn(e){let t=1;return pa(e).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,o)=>{o.done(),t=i.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((s,a)=>Ui(s,a)).filter((s,a,c)=>!a||Ui(s,c[a-1])!==0);let i=[];i.push(e);for(let s of r){let a=Ui(s,e),c=Ui(s,t);if(a===0)i[0]=e.Zt();else if(a>0&&c<0)i.push(s),i.push(s.Zt());else if(c>0)break}i.push(t);let o=[];for(let s=0;s<i.length;s+=2){if(this.Cn(i[s],i[s+1]))return[];let a=[i[s].indexId,this.uid,i[s].arrayValue,i[s].directionalValue,kf,[]],c=[i[s+1].indexId,this.uid,i[s+1].arrayValue,i[s+1].directionalValue,kf,[]];o.push(IDBKeyRange.bound(a,c))}return o}Cn(e,t){return Ui(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(IT)}getMinOffset(e,t){return R.mapArray(this.hn(t),r=>this.Pn(e,r).next(i=>i||J())).next(IT)}};function ET(n){return Tt(n,"collectionParents")}function fa(n){return Tt(n,"indexEntries")}function Vu(n){return Tt(n,"indexConfiguration")}function pa(n){return Tt(n,"indexState")}function IT(n){ee(n.length!==0);let e=n[0].indexState.offset,t=e.largestBatchId;for(let r=1;r<n.length;r++){let i=n[r].indexState.offset;Bx(i,e)<0&&(e=i),t<i.largestBatchId&&(t=i.largestBatchId)}return new Bn(e.readTime,e.documentKey,t)}var CT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Un=class n{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new n(e,n.DEFAULT_COLLECTION_PERCENTILE,n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};function WA(n,e,t){let r=n.store("mutations"),i=n.store("documentMutations"),o=[],s=IDBKeyRange.only(t.batchId),a=0,c=r.J({range:s},(h,f,m)=>(a++,m.delete()));o.push(c.next(()=>{ee(a===1)}));let l=[];for(let h of t.mutations){let f=eA(e,h.key.path,t.batchId);o.push(i.delete(f)),l.push(h.key)}return R.waitFor(o).next(()=>l)}function up(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw J();e=n.noDocument}return JSON.stringify(e).length}Un.DEFAULT_COLLECTION_PERCENTILE=10,Un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Un.DEFAULT=new Un(41943040,Un.DEFAULT_COLLECTION_PERCENTILE,Un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Un.DISABLED=new Un(-1,0,0);var lp=class n{constructor(e,t,r,i){this.userId=e,this.serializer=t,this.indexManager=r,this.referenceDelegate=i,this.Fn={}}static lt(e,t,r,i){ee(e.uid!=="");let o=e.isAuthenticated()?e.uid:"";return new n(o,t,r,i)}checkEmpty(e){let t=!0,r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Bi(e).J({index:"userMutationsIndex",range:r},(i,o,s)=>{t=!1,s.done()}).next(()=>t)}addMutationBatch(e,t,r,i){let o=xa(e),s=Bi(e);return s.add({}).next(a=>{ee(typeof a=="number");let c=new el(a,t,r,i),l=function(_,T,D){let A=D.baseMutations.map(Y=>ol(_.ct,Y)),U=D.mutations.map(Y=>ol(_.ct,Y));return{userId:T,batchId:D.batchId,localWriteTimeMs:D.localWriteTime.toMillis(),baseMutations:A,mutations:U}}(this.serializer,this.userId,c),h=[],f=new $e((m,_)=>he(m.canonicalString(),_.canonicalString()));for(let m of i){let _=eA(this.userId,m.key.path,a);f=f.add(m.key.path.popLast()),h.push(s.put(l)),h.push(o.put(_,Y5))}return f.forEach(m=>{h.push(this.indexManager.addToCollectionParentIndex(e,m))}),e.addOnCommittedListener(()=>{this.Fn[a]=c.keys()}),R.waitFor(h).next(()=>c)})}lookupMutationBatch(e,t){return Bi(e).get(t).next(r=>r?(ee(r.userId===this.userId),zo(this.serializer,r)):null)}Mn(e,t){return this.Fn[t]?R.resolve(this.Fn[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){let i=r.keys();return this.Fn[t]=i,i}return null})}getNextMutationBatchAfterBatchId(e,t){let r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return Bi(e).J({index:"userMutationsIndex",range:i},(s,a,c)=>{a.userId===this.userId&&(ee(a.batchId>=r),o=zo(this.serializer,a)),c.done()}).next(()=>o)}getHighestUnacknowledgedBatchId(e){let t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),r=-1;return Bi(e).J({index:"userMutationsIndex",range:t,reverse:!0},(i,o,s)=>{r=o.batchId,s.done()}).next(()=>r)}getAllMutationBatches(e){let t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Bi(e).U("userMutationsIndex",t).next(r=>r.map(i=>zo(this.serializer,i)))}getAllMutationBatchesAffectingDocumentKey(e,t){let r=Lf(this.userId,t.path),i=IDBKeyRange.lowerBound(r),o=[];return xa(e).J({range:i},(s,a,c)=>{let[l,h,f]=s,m=Ir(h);if(l===this.userId&&t.path.isEqual(m))return Bi(e).get(f).next(_=>{if(!_)throw J();ee(_.userId===this.userId),o.push(zo(this.serializer,_))});c.done()}).next(()=>o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new $e(he),i=[];return t.forEach(o=>{let s=Lf(this.userId,o.path),a=IDBKeyRange.lowerBound(s),c=xa(e).J({range:a},(l,h,f)=>{let[m,_,T]=l,D=Ir(_);m===this.userId&&o.path.isEqual(D)?r=r.add(T):f.done()});i.push(c)}),R.waitFor(i).next(()=>this.xn(e,r))}getAllMutationBatchesAffectingQuery(e,t){let r=t.path,i=r.length+1,o=Lf(this.userId,r),s=IDBKeyRange.lowerBound(o),a=new $e(he);return xa(e).J({range:s},(c,l,h)=>{let[f,m,_]=c,T=Ir(m);f===this.userId&&r.isPrefixOf(T)?T.length===i&&(a=a.add(_)):h.done()}).next(()=>this.xn(e,a))}xn(e,t){let r=[],i=[];return t.forEach(o=>{i.push(Bi(e).get(o).next(s=>{if(s===null)throw J();ee(s.userId===this.userId),r.push(zo(this.serializer,s))}))}),R.waitFor(i).next(()=>r)}removeMutationBatch(e,t){return WA(e._e,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.On(t.batchId)}),R.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}On(e){delete this.Fn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return R.resolve();let r=IDBKeyRange.lowerBound(function(s){return[s]}(this.userId)),i=[];return xa(e).J({range:r},(o,s,a)=>{if(o[0]===this.userId){let c=Ir(o[1]);i.push(c)}else a.done()}).next(()=>{ee(i.length===0)})})}containsKey(e,t){return KA(e,this.userId,t)}Nn(e){return QA(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}};function KA(n,e,t){let r=Lf(e,t.path),i=r[1],o=IDBKeyRange.lowerBound(r),s=!1;return xa(n).J({range:o,H:!0},(a,c,l)=>{let[h,f,m]=a;h===e&&f===i&&(s=!0),l.done()}).next(()=>s)}function Bi(n){return Tt(n,"mutations")}function xa(n){return Tt(n,"documentMutations")}function QA(n){return Tt(n,"mutationQueues")}var Pa=class n{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new n(0)}static kn(){return new n(-1)}};var Pv=class{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.qn(e).next(t=>{let r=new Pa(t.highestTargetId);return t.highestTargetId=r.next(),this.Qn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.qn(e).next(t=>ae.fromTimestamp(new Qe(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.qn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.qn(e).next(i=>(i.highestListenSequenceNumber=t,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),this.Qn(e,i)))}addTargetData(e,t){return this.Kn(e,t).next(()=>this.qn(e).next(r=>(r.targetCount+=1,this.$n(t,r),this.Qn(e,r))))}updateTargetData(e,t){return this.Kn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>ga(e).delete(t.targetId)).next(()=>this.qn(e)).next(r=>(ee(r.targetCount>0),r.targetCount-=1,this.Qn(e,r)))}removeTargets(e,t,r){let i=0,o=[];return ga(e).J((s,a)=>{let c=Bu(a);c.sequenceNumber<=t&&r.get(c.targetId)===null&&(i++,o.push(this.removeTargetData(e,c)))}).next(()=>R.waitFor(o)).next(()=>i)}forEachTarget(e,t){return ga(e).J((r,i)=>{let o=Bu(i);t(o)})}qn(e){return DT(e).get("targetGlobalKey").next(t=>(ee(t!==null),t))}Qn(e,t){return DT(e).put("targetGlobalKey",t)}Kn(e,t){return ga(e).put(qA(this.serializer,t))}$n(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.qn(e).next(t=>t.targetCount)}getTargetData(e,t){let r=Xo(t),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]),o=null;return ga(e).J({range:i,index:"queryTargetsIndex"},(s,a,c)=>{let l=Bu(a);gl(t,l.target)&&(o=l,c.done())}).next(()=>o)}addMatchingKeys(e,t,r){let i=[],o=$i(e);return t.forEach(s=>{let a=ln(s.path);i.push(o.put({targetId:r,path:a})),i.push(this.referenceDelegate.addReference(e,r,s))}),R.waitFor(i)}removeMatchingKeys(e,t,r){let i=$i(e);return R.forEach(t,o=>{let s=ln(o.path);return R.waitFor([i.delete([r,s]),this.referenceDelegate.removeReference(e,r,o)])})}removeMatchingKeysForTargetId(e,t){let r=$i(e),i=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,t){let r=IDBKeyRange.bound([t],[t+1],!1,!0),i=$i(e),o=fe();return i.J({range:r,H:!0},(s,a,c)=>{let l=Ir(s[1]),h=new z(l);o=o.add(h)}).next(()=>o)}containsKey(e,t){let r=ln(t.path),i=IDBKeyRange.bound([r],[KT(r)],!1,!0),o=0;return $i(e).J({index:"documentTargetsIndex",H:!0,range:i},([s,a],c,l)=>{s!==0&&(o++,l.done())}).next(()=>o>0)}ot(e,t){return ga(e).get(t).next(r=>r?Bu(r):null)}};function ga(n){return Tt(n,"targets")}function DT(n){return Tt(n,"targetGlobal")}function $i(n){return Tt(n,"targetDocuments")}function ST([n,e],[t,r]){let i=he(n,t);return i===0?he(e,r):i}var kv=class{constructor(e){this.Un=e,this.buffer=new $e(ST),this.Wn=0}Gn(){return++this.Wn}zn(e){let t=[e,this.Gn()];if(this.buffer.size<this.Un)this.buffer=this.buffer.add(t);else{let r=this.buffer.last();ST(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}},Fv=class{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Hn(6e4)}stop(){this.jn&&(this.jn.cancel(),this.jn=null)}get started(){return this.jn!==null}Hn(e){j("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,()=>k(this,null,function*(){this.jn=null;try{yield this.localStore.collectGarbage(this.garbageCollector)}catch(t){ro(t)?j("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",t):yield no(t)}yield this.Hn(3e5)}))}},Ov=class{constructor(e,t){this.Jn=e,this.params=t}calculateTargetCount(e,t){return this.Jn.Yn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return R.resolve(An.oe);let r=new kv(t);return this.Jn.forEachTarget(e,i=>r.zn(i.sequenceNumber)).next(()=>this.Jn.Zn(e,i=>r.zn(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Jn.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Jn.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(j("LruGarbageCollector","Garbage collection skipped; disabled"),R.resolve(CT)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(j("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),CT):this.Xn(e,t))}getCacheSize(e){return this.Jn.getCacheSize(e)}Xn(e,t){let r,i,o,s,a,c,l,h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(j("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),i=this.params.maximumSequenceNumbersToCollect):i=f,s=Date.now(),this.nthSequenceNumber(e,i))).next(f=>(r=f,a=Date.now(),this.removeTargets(e,r,t))).next(f=>(o=f,c=Date.now(),this.removeOrphanedDocuments(e,r))).next(f=>(l=Date.now(),ma()<=cr.DEBUG&&j("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-h}ms
	Determined least recently used ${i} in `+(a-s)+`ms
	Removed ${o} targets in `+(c-a)+`ms
	Removed ${f} documents in `+(l-c)+`ms
Total Duration: ${l-h}ms`),R.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:f})))}};function z6(n,e){return new Ov(n,e)}var Vv=class{constructor(e,t){this.db=e,this.garbageCollector=z6(this,t)}Yn(e){let t=this.er(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}er(e){let t=0;return this.Zn(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Zn(e,t){return this.tr(e,(r,i)=>t(i))}addReference(e,t,r){return Ff(e,r)}removeReference(e,t,r){return Ff(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return Ff(e,t)}nr(e,t){return function(i,o){let s=!1;return QA(i).Y(a=>KA(i,a,o).next(c=>(c&&(s=!0),R.resolve(!c)))).next(()=>s)}(e,t)}removeOrphanedDocuments(e,t){let r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],o=0;return this.tr(e,(s,a)=>{if(a<=t){let c=this.nr(e,s).next(l=>{if(!l)return o++,r.getEntry(e,s).next(()=>(r.removeEntry(s,ae.min()),$i(e).delete(function(f){return[0,ln(f.path)]}(s))))});i.push(c)}}).next(()=>R.waitFor(i)).next(()=>r.apply(e)).next(()=>o)}removeTarget(e,t){let r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return Ff(e,t)}tr(e,t){let r=$i(e),i,o=An.oe;return r.J({index:"documentTargetsIndex"},([s,a],{path:c,sequenceNumber:l})=>{s===0?(o!==An.oe&&t(new z(Ir(i)),o),o=l,i=c):o=An.oe}).next(()=>{o!==An.oe&&t(new z(Ir(i)),o)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}};function Ff(n,e){return $i(n).put(function(r,i){return{targetId:0,path:ln(r.path),sequenceNumber:i}}(e,n.currentSequenceNumber))}var dp=class{constructor(){this.changes=new Rr(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Et.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();let r=this.changes.get(t);return r!==void 0?R.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var Lv=class{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return $o(e).put(r)}removeEntry(e,t,r){return $o(e).delete(function(o,s){let a=o.path.toArray();return[a.slice(0,a.length-2),a[a.length-2],op(s),a[a.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.rr(e,r)))}getEntry(e,t){let r=Et.newInvalidDocument(t);return $o(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(Lu(t))},(i,o)=>{r=this.ir(t,o)}).next(()=>r)}sr(e,t){let r={size:0,document:Et.newInvalidDocument(t)};return $o(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(Lu(t))},(i,o)=>{r={document:this.ir(t,o),size:up(o)}}).next(()=>r)}getEntries(e,t){let r=vn();return this._r(e,t,(i,o)=>{let s=this.ir(i,o);r=r.insert(i,s)}).next(()=>r)}ar(e,t){let r=vn(),i=new Ye(z.comparator);return this._r(e,t,(o,s)=>{let a=this.ir(o,s);r=r.insert(o,a),i=i.insert(o,up(s))}).next(()=>({documents:r,ur:i}))}_r(e,t,r){if(t.isEmpty())return R.resolve();let i=new $e(MT);t.forEach(c=>i=i.add(c));let o=IDBKeyRange.bound(Lu(i.first()),Lu(i.last())),s=i.getIterator(),a=s.getNext();return $o(e).J({index:"documentKeyIndex",range:o},(c,l,h)=>{let f=z.fromSegments([...l.prefixPath,l.collectionGroup,l.documentId]);for(;a&&MT(a,f)<0;)r(a,null),a=s.getNext();a&&a.isEqual(f)&&(r(a,l),a=s.hasNext()?s.getNext():null),a?h.$(Lu(a)):h.done()}).next(()=>{for(;a;)r(a,null),a=s.hasNext()?s.getNext():null})}getDocumentsMatchingQuery(e,t,r,i,o){let s=t.path,a=[s.popLast().toArray(),s.lastSegment(),op(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],c=[s.popLast().toArray(),s.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return $o(e).U(IDBKeyRange.bound(a,c,!0)).next(l=>{o?.incrementDocumentReadCount(l.length);let h=vn();for(let f of l){let m=this.ir(z.fromSegments(f.prefixPath.concat(f.collectionGroup,f.documentId)),f);m.isFoundDocument()&&(_l(t,m)||i.has(m.key))&&(h=h.insert(m.key,m))}return h})}getAllFromCollectionGroup(e,t,r,i){let o=vn(),s=AT(t,r),a=AT(t,Bn.max());return $o(e).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(s,a,!0)},(c,l,h)=>{let f=this.ir(z.fromSegments(l.prefixPath.concat(l.collectionGroup,l.documentId)),l);o=o.insert(f.key,f),o.size===i&&h.done()}).next(()=>o)}newChangeBuffer(e){return new jv(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return TT(e).get("remoteDocumentGlobalKey").next(t=>(ee(!!t),t))}rr(e,t){return TT(e).put("remoteDocumentGlobalKey",t)}ir(e,t){if(t){let r=$6(this.serializer,t);if(!(r.isNoDocument()&&r.version.isEqual(ae.min())))return r}return Et.newInvalidDocument(e)}};function YA(n){return new Lv(n)}var jv=class extends dp{constructor(e,t){super(),this.cr=e,this.trackRemovals=t,this.lr=new Rr(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){let t=[],r=0,i=new $e((o,s)=>he(o.canonicalString(),s.canonicalString()));return this.changes.forEach((o,s)=>{let a=this.lr.get(o);if(t.push(this.cr.removeEntry(e,o,a.readTime)),s.isValidDocument()){let c=gT(this.cr.serializer,s);i=i.add(o.path.popLast());let l=up(c);r+=l-a.size,t.push(this.cr.addEntry(e,o,c))}else if(r-=a.size,this.trackRemovals){let c=gT(this.cr.serializer,s.convertToNoDocument(ae.min()));t.push(this.cr.addEntry(e,o,c))}}),i.forEach(o=>{t.push(this.cr.indexManager.addToCollectionParentIndex(e,o))}),t.push(this.cr.updateMetadata(e,r)),R.waitFor(t)}getFromCache(e,t){return this.cr.sr(e,t).next(r=>(this.lr.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.cr.ar(e,t).next(({documents:r,ur:i})=>(i.forEach((o,s)=>{this.lr.set(o,{size:s,readTime:r.get(o).readTime})}),r))}};function TT(n){return Tt(n,"remoteDocumentGlobal")}function $o(n){return Tt(n,"remoteDocumentsV14")}function Lu(n){let e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function AT(n,e){let t=e.documentKey.path.toArray();return[n,op(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function MT(n,e){let t=n.path.toArray(),r=e.path.toArray(),i=0;for(let o=0;o<t.length-2&&o<r.length-2;++o)if(i=he(t[o],r[o]),i)return i;return i=he(t.length,r.length),i||(i=he(t[t.length-2],r[r.length-2]),i||he(t[t.length-1],r[r.length-1]))}var Uv=class{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}};var hp=class{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&qu(r.mutation,i,Mn.empty(),Qe.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,fe()).next(()=>r))}getLocalViewOfDocuments(e,t,r=fe()){let i=Cr();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(o=>{let s=Uu();return o.forEach((a,c)=>{s=s.insert(a,c.overlayedDocument)}),s}))}getOverlayedDocuments(e,t){let r=Cr();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,fe()))}populateOverlays(e,t,r){let i=[];return r.forEach(o=>{t.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{t.set(s,a)})})}computeViews(e,t,r,i){let o=vn(),s=Hu(),a=function(){return Hu()}();return t.forEach((c,l)=>{let h=r.get(l.key);i.has(l.key)&&(h===void 0||h.mutation instanceof or)?o=o.insert(l.key,l):h!==void 0?(s.set(l.key,h.mutation.getFieldMask()),qu(h.mutation,l,h.mutation.getFieldMask(),Qe.now())):s.set(l.key,Mn.empty())}),this.recalculateAndSaveOverlays(e,o).next(c=>(c.forEach((l,h)=>s.set(l,h)),t.forEach((l,h)=>{var f;return a.set(l,new Uv(h,(f=s.get(l))!==null&&f!==void 0?f:null))}),a))}recalculateAndSaveOverlays(e,t){let r=Hu(),i=new Ye((s,a)=>s-a),o=fe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(s=>{for(let a of s)a.keys().forEach(c=>{let l=t.get(c);if(l===null)return;let h=r.get(c)||Mn.empty();h=a.applyToLocalView(l,h),r.set(c,h);let f=(i.get(a.batchId)||fe()).add(c);i=i.insert(a.batchId,f)})}).next(()=>{let s=[],a=i.getReverseIterator();for(;a.hasNext();){let c=a.getNext(),l=c.key,h=c.value,f=xA();h.forEach(m=>{if(!o.has(m)){let _=SA(t.get(m),r.get(m));_!==null&&f.set(m,_),o=o.add(m)}}),s.push(this.documentOverlayCache.saveOverlays(e,l,f))}return R.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return function(s){return z.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Gx(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(o=>{let s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-o.size):R.resolve(Cr()),a=-1,c=o;return s.next(l=>R.forEach(l,(h,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),o.get(h)?R.resolve():this.remoteDocumentCache.getEntry(e,h).next(m=>{c=c.insert(h,m)}))).next(()=>this.populateOverlays(e,l,o)).next(()=>this.computeViews(e,c,l,fe())).next(h=>({batchId:a,changes:vA(h)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new z(t)).next(r=>{let i=Uu();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){let o=t.collectionGroup,s=Uu();return this.indexManager.getCollectionParents(e,o).next(a=>R.forEach(a,c=>{let l=function(f,m){return new ir(m,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(t,c.child(o));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(h=>{h.forEach((f,m)=>{s=s.insert(f,m)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,i))).next(s=>{o.forEach((c,l)=>{let h=l.getKey();s.get(h)===null&&(s=s.insert(h,Et.newInvalidDocument(h)))});let a=Uu();return s.forEach((c,l)=>{let h=o.get(c);h!==void 0&&qu(h.mutation,l,Mn.empty(),Qe.now()),_l(t,l)&&(a=a.insert(c,l))}),a})}};var Bv=class{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,t){return R.resolve(this.hr.get(t))}saveBundleMetadata(e,t){return this.hr.set(t.id,function(i){return{id:i.id,version:i.version,createTime:pt(i.createTime)}}(t)),R.resolve()}getNamedQuery(e,t){return R.resolve(this.Pr.get(t))}saveNamedQuery(e,t){return this.Pr.set(t.name,function(i){return{name:i.name,query:Yx(i.bundledQuery),readTime:pt(i.readTime)}}(t)),R.resolve()}};var $v=class{constructor(){this.overlays=new Ye(z.comparator),this.Ir=new Map}getOverlay(e,t){return R.resolve(this.overlays.get(t))}getOverlays(e,t){let r=Cr();return R.forEach(t,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,o)=>{this.ht(e,t,o)}),R.resolve()}removeOverlaysForBatchId(e,t,r){let i=this.Ir.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Ir.delete(r)),R.resolve()}getOverlaysForCollection(e,t,r){let i=Cr(),o=t.length+1,s=new z(t.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){let c=a.getNext().value,l=c.getKey();if(!t.isPrefixOf(l.path))break;l.path.length===o&&c.largestBatchId>r&&i.set(c.getKey(),c)}return R.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let o=new Ye((l,h)=>l-h),s=this.overlays.getIterator();for(;s.hasNext();){let l=s.getNext().value;if(l.getKey().getCollectionGroup()===t&&l.largestBatchId>r){let h=o.get(l.largestBatchId);h===null&&(h=Cr(),o=o.insert(l.largestBatchId,h)),h.set(l.getKey(),l)}}let a=Cr(),c=o.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((l,h)=>a.set(l,h)),!(a.size()>=i)););return R.resolve(a)}ht(e,t,r){let i=this.overlays.get(r.key);if(i!==null){let s=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new tl(t,r));let o=this.Ir.get(t);o===void 0&&(o=fe(),this.Ir.set(t,o)),this.Ir.set(t,o.add(r.key))}};var Hv=class{constructor(){this.sessionToken=gt.EMPTY_BYTE_STRING}getSessionToken(e){return R.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,R.resolve()}};var al=class{constructor(){this.Tr=new $e(bt.Er),this.dr=new $e(bt.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,t){let r=new bt(e,t);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Vr(new bt(e,t))}mr(e,t){e.forEach(r=>this.removeReference(r,t))}gr(e){let t=new z(new Ae([])),r=new bt(t,e),i=new bt(t,e+1),o=[];return this.dr.forEachInRange([r,i],s=>{this.Vr(s),o.push(s.key)}),o}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){let t=new z(new Ae([])),r=new bt(t,e),i=new bt(t,e+1),o=fe();return this.dr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){let t=new bt(e,0),r=this.Tr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}},bt=class{constructor(e,t){this.key=e,this.wr=t}static Er(e,t){return z.comparator(e.key,t.key)||he(e.wr,t.wr)}static Ar(e,t){return he(e.wr,t.wr)||z.comparator(e.key,t.key)}};var qv=class{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Sr=1,this.br=new $e(bt.Er)}checkEmpty(e){return R.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){let o=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new el(o,t,r,i);this.mutationQueue.push(s);for(let a of i)this.br=this.br.add(new bt(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return R.resolve(s)}lookupMutationBatch(e,t){return R.resolve(this.Dr(t))}getNextMutationBatchAfterBatchId(e,t){let r=t+1,i=this.vr(r),o=i<0?0:i;return R.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return R.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return R.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){let r=new bt(t,0),i=new bt(t,Number.POSITIVE_INFINITY),o=[];return this.br.forEachInRange([r,i],s=>{let a=this.Dr(s.wr);o.push(a)}),R.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new $e(he);return t.forEach(i=>{let o=new bt(i,0),s=new bt(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([o,s],a=>{r=r.add(a.wr)})}),R.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,t){let r=t.path,i=r.length+1,o=r;z.isDocumentKey(o)||(o=o.child(""));let s=new bt(new z(o),0),a=new $e(he);return this.br.forEachWhile(c=>{let l=c.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(c.wr)),!0)},s),R.resolve(this.Cr(a))}Cr(e){let t=[];return e.forEach(r=>{let i=this.Dr(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){ee(this.Fr(t.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return R.forEach(t.mutations,i=>{let o=new bt(i.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,t){let r=new bt(t,0),i=this.br.firstAfterOrEqual(r);return R.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,R.resolve()}Fr(e,t){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){let t=this.vr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}};var zv=class{constructor(e){this.Mr=e,this.docs=function(){return new Ye(z.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){let r=t.key,i=this.docs.get(r),o=i?i.size:0,s=this.Mr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){let r=this.docs.get(t);return R.resolve(r?r.document.mutableCopy():Et.newInvalidDocument(t))}getEntries(e,t){let r=vn();return t.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Et.newInvalidDocument(i))}),R.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let o=vn(),s=t.path,a=new z(s.child("")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){let{key:l,value:{document:h}}=c.getNext();if(!s.isPrefixOf(l.path))break;l.path.length>s.length+1||Bx(YT(h),r)<=0||(i.has(h.key)||_l(t,h))&&(o=o.insert(h.key,h.mutableCopy()))}return R.resolve(o)}getAllFromCollectionGroup(e,t,r,i){J()}Or(e,t){return R.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new Gv(this)}getSize(e){return R.resolve(this.size)}},Gv=class extends dp{constructor(e){super(),this.cr=e}applyChanges(e){let t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),R.waitFor(t)}getFromCache(e,t){return this.cr.getEntry(e,t)}getAllFromCache(e,t){return this.cr.getEntries(e,t)}};var Wv=class{constructor(e){this.persistence=e,this.Nr=new Rr(t=>Xo(t),gl),this.lastRemoteSnapshotVersion=ae.min(),this.highestTargetId=0,this.Lr=0,this.Br=new al,this.targetCount=0,this.kr=Pa.Bn()}forEachTarget(e,t){return this.Nr.forEach((r,i)=>t(i)),R.resolve()}getLastRemoteSnapshotVersion(e){return R.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return R.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),R.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Lr&&(this.Lr=t),R.resolve()}Kn(e){this.Nr.set(e.target,e);let t=e.targetId;t>this.highestTargetId&&(this.kr=new Pa(t),this.highestTargetId=t),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,t){return this.Kn(t),this.targetCount+=1,R.resolve()}updateTargetData(e,t){return this.Kn(t),R.resolve()}removeTargetData(e,t){return this.Nr.delete(t.target),this.Br.gr(t.targetId),this.targetCount-=1,R.resolve()}removeTargets(e,t,r){let i=0,o=[];return this.Nr.forEach((s,a)=>{a.sequenceNumber<=t&&r.get(a.targetId)===null&&(this.Nr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),R.waitFor(o).next(()=>i)}getTargetCount(e){return R.resolve(this.targetCount)}getTargetData(e,t){let r=this.Nr.get(t)||null;return R.resolve(r)}addMatchingKeys(e,t,r){return this.Br.Rr(t,r),R.resolve()}removeMatchingKeys(e,t,r){this.Br.mr(t,r);let i=this.persistence.referenceDelegate,o=[];return i&&t.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),R.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.Br.gr(t),R.resolve()}getMatchingKeysForTargetId(e,t){let r=this.Br.yr(t);return R.resolve(r)}containsKey(e,t){return R.resolve(this.Br.containsKey(t))}};var fp=class{constructor(e,t){this.qr={},this.overlays={},this.Qr=new An(0),this.Kr=!1,this.Kr=!0,this.$r=new Hv,this.referenceDelegate=e(this),this.Ur=new Wv(this),this.indexManager=new Rv,this.remoteDocumentCache=function(i){return new zv(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new ip(t),this.Gr=new Bv(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new $v,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.qr[e.toKey()];return r||(r=new qv(t,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,t,r){j("MemoryPersistence","Starting transaction:",e);let i=new Kv(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(o=>this.referenceDelegate.jr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Hr(e,t){return R.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,t)))}},Kv=class extends Gf{constructor(e){super(),this.currentSequenceNumber=e}},pp=class n{constructor(e){this.persistence=e,this.Jr=new al,this.Yr=null}static Zr(e){return new n(e)}get Xr(){if(this.Yr)return this.Yr;throw J()}addReference(e,t,r){return this.Jr.addReference(r,t),this.Xr.delete(r.toString()),R.resolve()}removeReference(e,t,r){return this.Jr.removeReference(r,t),this.Xr.add(r.toString()),R.resolve()}markPotentiallyOrphaned(e,t){return this.Xr.add(t.toString()),R.resolve()}removeTarget(e,t){this.Jr.gr(t.targetId).forEach(i=>this.Xr.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(o=>this.Xr.add(o.toString()))}).next(()=>r.removeTargetData(e,t))}zr(){this.Yr=new Set}jr(e){let t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return R.forEach(this.Xr,r=>{let i=z.fromPath(r);return this.ei(e,i).next(o=>{o||t.removeEntry(i,ae.min())})}).next(()=>(this.Yr=null,t.apply(e)))}updateLimboDocument(e,t){return this.ei(e,t).next(r=>{r?this.Xr.delete(t.toString()):this.Xr.add(t.toString())})}Wr(e){return 0}ei(e,t){return R.or([()=>R.resolve(this.Jr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Hr(e,t)])}};var Qv=class{constructor(e){this.serializer=e}O(e,t,r,i){let o=new Wf("createOrUpgrade",t);r<1&&i>=1&&(function(c){c.createObjectStore("owner")}(e),function(c){c.createObjectStore("mutationQueues",{keyPath:"userId"}),c.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",GS,{unique:!0}),c.createObjectStore("documentMutations")}(e),RT(e),function(c){c.createObjectStore("remoteDocuments")}(e));let s=R.resolve();return r<3&&i>=3&&(r!==0&&(function(c){c.deleteObjectStore("targetDocuments"),c.deleteObjectStore("targets"),c.deleteObjectStore("targetGlobal")}(e),RT(e)),s=s.next(()=>function(c){let l=c.store("targetGlobal"),h={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:ae.min().toTimestamp(),targetCount:0};return l.put("targetGlobalKey",h)}(o))),r<4&&i>=4&&(r!==0&&(s=s.next(()=>function(c,l){return l.store("mutations").U().next(h=>{c.deleteObjectStore("mutations"),c.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",GS,{unique:!0});let f=l.store("mutations"),m=h.map(_=>f.put(_));return R.waitFor(m)})}(e,o))),s=s.next(()=>{(function(c){c.createObjectStore("clientMetadata",{keyPath:"clientId"})})(e)})),r<5&&i>=5&&(s=s.next(()=>this.ni(o))),r<6&&i>=6&&(s=s.next(()=>(function(c){c.createObjectStore("remoteDocumentGlobal")}(e),this.ri(o)))),r<7&&i>=7&&(s=s.next(()=>this.ii(o))),r<8&&i>=8&&(s=s.next(()=>this.si(e,o))),r<9&&i>=9&&(s=s.next(()=>{(function(c){c.objectStoreNames.contains("remoteDocumentChanges")&&c.deleteObjectStore("remoteDocumentChanges")})(e)})),r<10&&i>=10&&(s=s.next(()=>this.oi(o))),r<11&&i>=11&&(s=s.next(()=>{(function(c){c.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(c){c.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(s=s.next(()=>{(function(c){let l=c.createObjectStore("documentOverlays",{keyPath:c6});l.createIndex("collectionPathOverlayIndex",u6,{unique:!1}),l.createIndex("collectionGroupOverlayIndex",l6,{unique:!1})})(e)})),r<13&&i>=13&&(s=s.next(()=>function(c){let l=c.createObjectStore("remoteDocumentsV14",{keyPath:Z5});l.createIndex("documentKeyIndex",J5),l.createIndex("collectionGroupIndex",X5)}(e)).next(()=>this._i(e,o)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(s=s.next(()=>this.ai(e,o))),r<15&&i>=15&&(s=s.next(()=>function(c){c.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),c.createObjectStore("indexState",{keyPath:i6}).createIndex("sequenceNumberIndex",o6,{unique:!1}),c.createObjectStore("indexEntries",{keyPath:s6}).createIndex("documentKeyIndex",a6,{unique:!1})}(e))),r<16&&i>=16&&(s=s.next(()=>{t.objectStore("indexState").clear()}).next(()=>{t.objectStore("indexEntries").clear()})),r<17&&i>=17&&(s=s.next(()=>{(function(c){c.createObjectStore("globals",{keyPath:"name"})})(e)})),s}ri(e){let t=0;return e.store("remoteDocuments").J((r,i)=>{t+=up(i)}).next(()=>{let r={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}ni(e){let t=e.store("mutationQueues"),r=e.store("mutations");return t.U().next(i=>R.forEach(i,o=>{let s=IDBKeyRange.bound([o.userId,-1],[o.userId,o.lastAcknowledgedBatchId]);return r.U("userMutationsIndex",s).next(a=>R.forEach(a,c=>{ee(c.userId===o.userId);let l=zo(this.serializer,c);return WA(e,o.userId,l).next(()=>{})}))}))}ii(e){let t=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{let o=[];return r.J((s,a)=>{let c=new Ae(s),l=function(f){return[0,ln(f)]}(c);o.push(t.get(l).next(h=>h?R.resolve():(f=>t.put({targetId:0,path:ln(f),sequenceNumber:i.highestListenSequenceNumber}))(c)))}).next(()=>R.waitFor(o))})}si(e,t){e.createObjectStore("collectionParents",{keyPath:r6});let r=t.store("collectionParents"),i=new sl,o=s=>{if(i.add(s)){let a=s.lastSegment(),c=s.popLast();return r.put({collectionId:a,parent:ln(c)})}};return t.store("remoteDocuments").J({H:!0},(s,a)=>{let c=new Ae(s);return o(c.popLast())}).next(()=>t.store("documentMutations").J({H:!0},([s,a,c],l)=>{let h=Ir(a);return o(h.popLast())}))}oi(e){let t=e.store("targets");return t.J((r,i)=>{let o=Bu(i),s=qA(this.serializer,o);return t.put(s)})}_i(e,t){let r=t.store("remoteDocuments"),i=[];return r.J((o,s)=>{let a=t.store("remoteDocumentsV14"),c=function(f){return f.document?new z(Ae.fromString(f.document.name).popFirst(5)):f.noDocument?z.fromSegments(f.noDocument.path):f.unknownDocument?z.fromSegments(f.unknownDocument.path):J()}(s).path.toArray(),l={prefixPath:c.slice(0,c.length-2),collectionGroup:c[c.length-2],documentId:c[c.length-1],readTime:s.readTime||[0,0],unknownDocument:s.unknownDocument,noDocument:s.noDocument,document:s.document,hasCommittedMutations:!!s.hasCommittedMutations};i.push(a.put(l))}).next(()=>R.waitFor(i))}ai(e,t){let r=t.store("mutations"),i=YA(this.serializer),o=new fp(pp.Zr,this.serializer.ct);return r.U().next(s=>{let a=new Map;return s.forEach(c=>{var l;let h=(l=a.get(c.userId))!==null&&l!==void 0?l:fe();zo(this.serializer,c).keys().forEach(f=>h=h.add(f)),a.set(c.userId,h)}),R.forEach(a,(c,l)=>{let h=new wt(l),f=sp.lt(this.serializer,h),m=o.getIndexManager(h),_=lp.lt(h,this.serializer,m,o.referenceDelegate);return new hp(i,_,f,m).recalculateAndSaveOverlaysForDocumentKeys(new Qu(t,An.oe),c).next()})})}};function RT(n){n.createObjectStore("targetDocuments",{keyPath:t6}).createIndex("documentTargetsIndex",n6,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",e6,{unique:!0}),n.createObjectStore("targetGlobal")}var Vy="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Yv=class n{constructor(e,t,r,i,o,s,a,c,l,h,f=17){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.ui=o,this.window=s,this.document=a,this.ci=l,this.li=h,this.hi=f,this.Qr=null,this.Kr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Pi=null,this.inForeground=!1,this.Ii=null,this.Ti=null,this.Ei=Number.NEGATIVE_INFINITY,this.di=m=>Promise.resolve(),!n.D())throw new V(P.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Vv(this,i),this.Ai=t+"main",this.serializer=new ip(c),this.Ri=new Wi(this.Ai,this.hi,new Qv(this.serializer)),this.$r=new Iv,this.Ur=new Pv(this.referenceDelegate,this.serializer),this.remoteDocumentCache=YA(this.serializer),this.Gr=new Ev,this.window&&this.window.localStorage?this.Vi=this.window.localStorage:(this.Vi=null,h===!1&&ht("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new V(P.FAILED_PRECONDITION,Vy);return this.fi(),this.gi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Ur.getHighestSequenceNumber(e))}).then(e=>{this.Qr=new An(e,this.ci)}).then(()=>{this.Kr=!0}).catch(e=>(this.Ri&&this.Ri.close(),Promise.reject(e)))}yi(e){return this.di=t=>k(this,null,function*(){if(this.started)return e(t)}),e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ri.L(t=>k(this,null,function*(){t.newVersion===null&&(yield e())}))}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.ui.enqueueAndForget(()=>k(this,null,function*(){this.started&&(yield this.mi())})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Of(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.wi(e).next(t=>{t||(this.isPrimary=!1,this.ui.enqueueRetryable(()=>this.di(!1)))})}).next(()=>this.Si(e)).next(t=>this.isPrimary&&!t?this.bi(e).next(()=>!1):!!t&&this.Di(e).next(()=>!0))).catch(e=>{if(ro(e))return j("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return j("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.ui.enqueueRetryable(()=>this.di(e)),this.isPrimary=e})}wi(e){return ju(e).get("owner").next(t=>R.resolve(this.vi(t)))}Ci(e){return Of(e).delete(this.clientId)}Fi(){return k(this,null,function*(){if(this.isPrimary&&!this.Mi(this.Ei,18e5)){this.Ei=Date.now();let e=yield this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",t=>{let r=Tt(t,"clientMetadata");return r.U().next(i=>{let o=this.xi(i,18e5),s=i.filter(a=>o.indexOf(a)===-1);return R.forEach(s,a=>r.delete(a.clientId)).next(()=>s)})}).catch(()=>[]);if(this.Vi)for(let t of e)this.Vi.removeItem(this.Oi(t.clientId))}})}pi(){this.Ti=this.ui.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.Fi()).then(()=>this.pi()))}vi(e){return!!e&&e.ownerId===this.clientId}Si(e){return this.li?R.resolve(!0):ju(e).get("owner").next(t=>{if(t!==null&&this.Mi(t.leaseTimestampMs,5e3)&&!this.Ni(t.ownerId)){if(this.vi(t)&&this.networkEnabled)return!0;if(!this.vi(t)){if(!t.allowTabSynchronization)throw new V(P.FAILED_PRECONDITION,Vy);return!1}}return!(!this.networkEnabled||!this.inForeground)||Of(e).U().next(r=>this.xi(r,5e3).find(i=>{if(this.clientId!==i.clientId){let o=!this.networkEnabled&&i.networkEnabled,s=!this.inForeground&&i.inForeground,a=this.networkEnabled===i.networkEnabled;if(o||s&&a)return!0}return!1})===void 0)}).next(t=>(this.isPrimary!==t&&j("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){return k(this,null,function*(){this.Kr=!1,this.Li(),this.Ti&&(this.Ti.cancel(),this.Ti=null),this.Bi(),this.ki(),yield this.Ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{let t=new Qu(e,An.oe);return this.bi(t).next(()=>this.Ci(t))}),this.Ri.close(),this.qi()})}xi(e,t){return e.filter(r=>this.Mi(r.updateTimeMs,t)&&!this.Ni(r.clientId))}Qi(){return this.runTransaction("getActiveClients","readonly",e=>Of(e).U().next(t=>this.xi(t,18e5).map(r=>r.clientId)))}get started(){return this.Kr}getGlobalsCache(){return this.$r}getMutationQueue(e,t){return lp.lt(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new Nv(e,this.serializer.ct.databaseId)}getDocumentOverlayCache(e){return sp.lt(this.serializer,e)}getBundleCache(){return this.Gr}runTransaction(e,t,r){j("IndexedDbPersistence","Starting transaction:",e);let i=t==="readonly"?"readonly":"readwrite",o=function(c){return c===17?f6:c===16?h6:c===15?Hx:c===14?rA:c===13?nA:c===12?d6:c===11?tA:void J()}(this.hi),s;return this.Ri.runTransaction(e,i,o,a=>(s=new Qu(a,this.Qr?this.Qr.next():An.oe),t==="readwrite-primary"?this.wi(s).next(c=>!!c||this.Si(s)).next(c=>{if(!c)throw ht(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.ui.enqueueRetryable(()=>this.di(!1)),new V(P.FAILED_PRECONDITION,ZT);return r(s)}).next(c=>this.Di(s).next(()=>c)):this.Ki(s).next(()=>r(s)))).then(a=>(s.raiseOnCommittedEvent(),a))}Ki(e){return ju(e).get("owner").next(t=>{if(t!==null&&this.Mi(t.leaseTimestampMs,5e3)&&!this.Ni(t.ownerId)&&!this.vi(t)&&!(this.li||this.allowTabSynchronization&&t.allowTabSynchronization))throw new V(P.FAILED_PRECONDITION,Vy)})}Di(e){let t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return ju(e).put("owner",t)}static D(){return Wi.D()}bi(e){let t=ju(e);return t.get("owner").next(r=>this.vi(r)?(j("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):R.resolve())}Mi(e,t){let r=Date.now();return!(e<r-t)&&(!(e>r)||(ht(`Detected an update time that is in the future: ${e} > ${r}`),!1))}fi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Ii=()=>{this.ui.enqueueAndForget(()=>(this.inForeground=this.document.visibilityState==="visible",this.mi()))},this.document.addEventListener("visibilitychange",this.Ii),this.inForeground=this.document.visibilityState==="visible")}Bi(){this.Ii&&(this.document.removeEventListener("visibilitychange",this.Ii),this.Ii=null)}gi(){var e;typeof((e=this.window)===null||e===void 0?void 0:e.addEventListener)=="function"&&(this.Pi=()=>{this.Li();let t=/(?:Version|Mobile)\/1[456]/;Ng()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.ui.enterRestrictedMode(!0),this.ui.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Pi))}ki(){this.Pi&&(this.window.removeEventListener("pagehide",this.Pi),this.Pi=null)}Ni(e){var t;try{let r=((t=this.Vi)===null||t===void 0?void 0:t.getItem(this.Oi(e)))!==null;return j("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return ht("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}Li(){if(this.Vi)try{this.Vi.setItem(this.Oi(this.clientId),String(Date.now()))}catch(e){ht("Failed to set zombie client id.",e)}}qi(){if(this.Vi)try{this.Vi.removeItem(this.Oi(this.clientId))}catch{}}Oi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}};function ju(n){return Tt(n,"owner")}function Of(n){return Tt(n,"clientMetadata")}function Jx(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}var Zv=class n{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.$i=r,this.Ui=i}static Wi(e,t){let r=fe(),i=fe();for(let o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new n(e,t.fromCache,r,i)}};var Jv=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var gp=class{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return Ng()?8:JT(yc())>0?6:4}()}initialize(e,t){this.Ji=e,this.indexManager=t,this.Gi=!0}getDocumentsMatchingQuery(e,t,r,i){let o={result:null};return this.Yi(e,t).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Zi(e,t,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new Jv;return this.Xi(e,t,s).next(a=>{if(o.result=a,this.zi)return this.es(e,t,s,a.size)})}).next(()=>o.result)}es(e,t,r,i){return r.documentReadCount<this.ji?(ma()<=cr.DEBUG&&j("QueryEngine","SDK will not create cache indexes for query:",_a(t),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),R.resolve()):(ma()<=cr.DEBUG&&j("QueryEngine","Query:",_a(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(ma()<=cr.DEBUG&&j("QueryEngine","The SDK decides to create cache indexes for query:",_a(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,dn(t))):R.resolve())}Yi(e,t){if(iT(t))return R.resolve(null);let r=dn(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=ep(t,null,"F"),r=dn(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let s=fe(...o);return this.Ji.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(c=>{let l=this.ts(t,a);return this.ns(t,l,s,c.readTime)?this.Yi(e,ep(t,null,"F")):this.rs(e,l,t,c)}))})))}Zi(e,t,r,i){return iT(t)||i.isEqual(ae.min())?R.resolve(null):this.Ji.getDocuments(e,r).next(o=>{let s=this.ts(t,o);return this.ns(t,s,r,i)?R.resolve(null):(ma()<=cr.DEBUG&&j("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),_a(t)),this.rs(e,s,t,QT(i,-1)).next(a=>a))})}ts(e,t){let r=new $e(_A(e));return t.forEach((i,o)=>{_l(e,o)&&(r=r.add(o))}),r}ns(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;let o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Xi(e,t,r){return ma()<=cr.DEBUG&&j("QueryEngine","Using full collection scan to execute query:",_a(t)),this.Ji.getDocumentsMatchingQuery(e,t,Bn.min(),r)}rs(e,t,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(o=>(t.forEach(s=>{o=o.insert(s.key,s)}),o))}};var Xv=class{constructor(e,t,r,i){this.persistence=e,this.ss=t,this.serializer=i,this.os=new Ye(he),this._s=new Rr(o=>Xo(o),gl),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new hp(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.os))}};function ZA(n,e,t,r){return new Xv(n,e,t,r)}function JA(n,e){return k(this,null,function*(){let t=q(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,t.ls(e),t.mutationQueue.getAllMutationBatches(r))).next(o=>{let s=[],a=[],c=fe();for(let l of i){s.push(l.batchId);for(let h of l.mutations)c=c.add(h.key)}for(let l of o){a.push(l.batchId);for(let h of l.mutations)c=c.add(h.key)}return t.localDocuments.getDocuments(r,c).next(l=>({hs:l,removedBatchIds:s,addedBatchIds:a}))})})})}function G6(n,e){let t=q(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),o=t.cs.newChangeBuffer({trackRemovals:!0});return function(a,c,l,h){let f=l.batch,m=f.keys(),_=R.resolve();return m.forEach(T=>{_=_.next(()=>h.getEntry(c,T)).next(D=>{let A=l.docVersions.get(T);ee(A!==null),D.version.compareTo(A)<0&&(f.applyToRemoteDocument(D,l),D.isValidDocument()&&(D.setReadTime(l.commitVersion),h.addEntry(D)))})}),_.next(()=>a.mutationQueue.removeMutationBatch(c,f))}(t,r,e,o).next(()=>o.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let c=fe();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(c=c.add(a.batch.mutations[l].key));return c}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function XA(n){let e=q(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ur.getLastRemoteSnapshotVersion(t))}function W6(n,e){let t=q(n),r=e.snapshotVersion,i=t.os;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=t.cs.newChangeBuffer({trackRemovals:!0});i=t.os;let a=[];e.targetChanges.forEach((h,f)=>{let m=i.get(f);if(!m)return;a.push(t.Ur.removeMatchingKeys(o,h.removedDocuments,f).next(()=>t.Ur.addMatchingKeys(o,h.addedDocuments,f)));let _=m.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(f)!==null?_=_.withResumeToken(gt.EMPTY_BYTE_STRING,ae.min()).withLastLimboFreeSnapshotVersion(ae.min()):h.resumeToken.approximateByteSize()>0&&(_=_.withResumeToken(h.resumeToken,r)),i=i.insert(f,_),function(D,A,U){return D.resumeToken.approximateByteSize()===0||A.snapshotVersion.toMicroseconds()-D.snapshotVersion.toMicroseconds()>=3e8?!0:U.addedDocuments.size+U.modifiedDocuments.size+U.removedDocuments.size>0}(m,_,h)&&a.push(t.Ur.updateTargetData(o,_))});let c=vn(),l=fe();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(o,h))}),a.push(eM(o,s,e.documentUpdates).next(h=>{c=h.Ps,l=h.Is})),!r.isEqual(ae.min())){let h=t.Ur.getLastRemoteSnapshotVersion(o).next(f=>t.Ur.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(h)}return R.waitFor(a).next(()=>s.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,c,l)).next(()=>c)}).then(o=>(t.os=i,o))}function eM(n,e,t){let r=fe(),i=fe();return t.forEach(o=>r=r.add(o)),e.getEntries(n,r).next(o=>{let s=vn();return t.forEach((a,c)=>{let l=o.get(a);c.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),c.isNoDocument()&&c.version.isEqual(ae.min())?(e.removeEntry(a,c.readTime),s=s.insert(a,c)):!l.isValidDocument()||c.version.compareTo(l.version)>0||c.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(c),s=s.insert(a,c)):j("LocalStore","Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",c.version)}),{Ps:s,Is:i}})}function K6(n,e){let t=q(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function ka(n,e){let t=q(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Ur.getTargetData(r,e).next(o=>o?(i=o,R.resolve(i)):t.Ur.allocateTargetId(r).next(s=>(i=new Na(e,s,"TargetPurposeListen",r.currentSequenceNumber),t.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=t.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.os=t.os.insert(r.targetId,r),t._s.set(e,r.targetId)),r})}function Fa(n,e,t){return k(this,null,function*(){let r=q(n),i=r.os.get(e),o=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!ro(s))throw s;j("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.os=r.os.remove(e),r._s.delete(i.target)})}function mp(n,e,t){let r=q(n),i=ae.min(),o=fe();return r.persistence.runTransaction("Execute query","readwrite",s=>function(c,l,h){let f=q(c),m=f._s.get(h);return m!==void 0?R.resolve(f.os.get(m)):f.Ur.getTargetData(l,h)}(r,s,dn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(s,a.targetId).next(c=>{o=c})}).next(()=>r.ss.getDocumentsMatchingQuery(s,e,t?i:ae.min(),t?o:fe())).next(a=>(rM(r,mA(e),a),{documents:a,Ts:o})))}function tM(n,e){let t=q(n),r=q(t.Ur),i=t.os.get(e);return i?Promise.resolve(i.target):t.persistence.runTransaction("Get target data","readonly",o=>r.ot(o,e).next(s=>s?s.target:null))}function nM(n,e){let t=q(n),r=t.us.get(e)||ae.min();return t.persistence.runTransaction("Get new document changes","readonly",i=>t.cs.getAllFromCollectionGroup(i,e,QT(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(rM(t,e,i),i))}function rM(n,e,t){let r=n.us.get(e)||ae.min();t.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),n.us.set(e,r)}function Q6(n,e,t,r){return k(this,null,function*(){let i=q(n),o=fe(),s=vn();for(let l of t){let h=e.Es(l.metadata.name);l.document&&(o=o.add(h));let f=e.ds(l);f.setReadTime(e.As(l.metadata.readTime)),s=s.insert(h,f)}let a=i.cs.newChangeBuffer({trackRemovals:!0}),c=yield ka(i,function(h){return dn(Ha(Ae.fromString(`__bundle__/docs/${h}`)))}(r));return i.persistence.runTransaction("Apply bundle documents","readwrite",l=>eM(l,a,s).next(h=>(a.apply(l),h)).next(h=>i.Ur.removeMatchingKeysForTargetId(l,c.targetId).next(()=>i.Ur.addMatchingKeys(l,o,c.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(l,h.Ps,h.Is)).next(()=>h.Ps)))})}function Y6(r,i){return k(this,arguments,function*(n,e,t=fe()){let o=yield ka(n,dn(Yx(e.bundledQuery))),s=q(n);return s.persistence.runTransaction("Save named query","readwrite",a=>{let c=pt(e.readTime);if(o.snapshotVersion.compareTo(c)>=0)return s.Gr.saveNamedQuery(a,e);let l=o.withResumeToken(gt.EMPTY_BYTE_STRING,c);return s.os=s.os.insert(l.targetId,l),s.Ur.updateTargetData(a,l).next(()=>s.Ur.removeMatchingKeysForTargetId(a,o.targetId)).next(()=>s.Ur.addMatchingKeys(a,t,o.targetId)).next(()=>s.Gr.saveNamedQuery(a,e))})})}function NT(n,e){return`firestore_clients_${n}_${e}`}function PT(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function Ly(n,e){return`firestore_targets_${n}_${e}`}var _p=class n{constructor(e,t,r,i){this.user=e,this.batchId=t,this.state=r,this.error=i}static Rs(e,t,r){let i=JSON.parse(r),o,s=typeof i=="object"&&["pending","acknowledged","rejected"].indexOf(i.state)!==-1&&(i.error===void 0||typeof i.error=="object");return s&&i.error&&(s=typeof i.error.message=="string"&&typeof i.error.code=="string",s&&(o=new V(i.error.code,i.error.message))),s?new n(e,t,i.state,o):(ht("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}Vs(){let e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}},zu=class n{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static Rs(e,t){let r=JSON.parse(t),i,o=typeof r=="object"&&["not-current","current","rejected"].indexOf(r.state)!==-1&&(r.error===void 0||typeof r.error=="object");return o&&r.error&&(o=typeof r.error.message=="string"&&typeof r.error.code=="string",o&&(i=new V(r.error.code,r.error.message))),o?new n(e,r.state,i):(ht("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}Vs(){let e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}},yp=class n{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Rs(e,t){let r=JSON.parse(t),i=typeof r=="object"&&r.activeTargetIds instanceof Array,o=Wx();for(let s=0;i&&s<r.activeTargetIds.length;++s)i=XT(r.activeTargetIds[s]),o=o.add(r.activeTargetIds[s]);return i?new n(e,o):(ht("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}},ex=class n{constructor(e,t){this.clientId=e,this.onlineState=t}static Rs(e){let t=JSON.parse(e);return typeof t=="object"&&["Unknown","Online","Offline"].indexOf(t.onlineState)!==-1&&typeof t.clientId=="string"?new n(t.clientId,t.onlineState):(ht("SharedClientState",`Failed to parse online state: ${e}`),null)}},cl=class{constructor(){this.activeTargetIds=Wx()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}},Gu=class{constructor(e,t,r,i,o){this.window=e,this.ui=t,this.persistenceKey=r,this.ps=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ys=this.ws.bind(this),this.Ss=new Ye(he),this.started=!1,this.bs=[];let s=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=o,this.Ds=NT(this.persistenceKey,this.ps),this.vs=function(c){return`firestore_sequence_number_${c}`}(this.persistenceKey),this.Ss=this.Ss.insert(this.ps,new cl),this.Cs=new RegExp(`^firestore_clients_${s}_([^_]*)$`),this.Fs=new RegExp(`^firestore_mutations_${s}_(\\d+)(?:_(.*))?$`),this.Ms=new RegExp(`^firestore_targets_${s}_(\\d+)$`),this.xs=function(c){return`firestore_online_state_${c}`}(this.persistenceKey),this.Os=function(c){return`firestore_bundle_loaded_v2_${c}`}(this.persistenceKey),this.window.addEventListener("storage",this.ys)}static D(e){return!(!e||!e.localStorage)}start(){return k(this,null,function*(){let e=yield this.syncEngine.Qi();for(let r of e){if(r===this.ps)continue;let i=this.getItem(NT(this.persistenceKey,r));if(i){let o=yp.Rs(r,i);o&&(this.Ss=this.Ss.insert(o.clientId,o))}}this.Ns();let t=this.storage.getItem(this.xs);if(t){let r=this.Ls(t);r&&this.Bs(r)}for(let r of this.bs)this.ws(r);this.bs=[],this.window.addEventListener("pagehide",()=>this.shutdown()),this.started=!0})}writeSequenceNumber(e){this.setItem(this.vs,JSON.stringify(e))}getAllActiveQueryTargets(){return this.ks(this.Ss)}isActiveQueryTarget(e){let t=!1;return this.Ss.forEach((r,i)=>{i.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.qs(e,"pending")}updateMutationState(e,t,r){this.qs(e,t,r),this.Qs(e)}addLocalQueryTarget(e,t=!0){let r="not-current";if(this.isActiveQueryTarget(e)){let i=this.storage.getItem(Ly(this.persistenceKey,e));if(i){let o=zu.Rs(e,i);o&&(r=o.state)}}return t&&this.Ks.fs(e),this.Ns(),r}removeLocalQueryTarget(e){this.Ks.gs(e),this.Ns()}isLocalQueryTarget(e){return this.Ks.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Ly(this.persistenceKey,e))}updateQueryState(e,t,r){this.$s(e,t,r)}handleUserChange(e,t,r){t.forEach(i=>{this.Qs(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.Us(e)}notifyBundleLoaded(e){this.Ws(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ys),this.removeItem(this.Ds),this.started=!1)}getItem(e){let t=this.storage.getItem(e);return j("SharedClientState","READ",e,t),t}setItem(e,t){j("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){j("SharedClientState","REMOVE",e),this.storage.removeItem(e)}ws(e){let t=e;if(t.storageArea===this.storage){if(j("SharedClientState","EVENT",t.key,t.newValue),t.key===this.Ds)return void ht("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ui.enqueueRetryable(()=>k(this,null,function*(){if(this.started){if(t.key!==null){if(this.Cs.test(t.key)){if(t.newValue==null){let r=this.Gs(t.key);return this.zs(r,null)}{let r=this.js(t.key,t.newValue);if(r)return this.zs(r.clientId,r)}}else if(this.Fs.test(t.key)){if(t.newValue!==null){let r=this.Hs(t.key,t.newValue);if(r)return this.Js(r)}}else if(this.Ms.test(t.key)){if(t.newValue!==null){let r=this.Ys(t.key,t.newValue);if(r)return this.Zs(r)}}else if(t.key===this.xs){if(t.newValue!==null){let r=this.Ls(t.newValue);if(r)return this.Bs(r)}}else if(t.key===this.vs){let r=function(o){let s=An.oe;if(o!=null)try{let a=JSON.parse(o);ee(typeof a=="number"),s=a}catch(a){ht("SharedClientState","Failed to read sequence number from WebStorage",a)}return s}(t.newValue);r!==An.oe&&this.sequenceNumberHandler(r)}else if(t.key===this.Os){let r=this.Xs(t.newValue);yield Promise.all(r.map(i=>this.syncEngine.eo(i)))}}}else this.bs.push(t)}))}}get Ks(){return this.Ss.get(this.ps)}Ns(){this.setItem(this.Ds,this.Ks.Vs())}qs(e,t,r){let i=new _p(this.currentUser,e,t,r),o=PT(this.persistenceKey,this.currentUser,e);this.setItem(o,i.Vs())}Qs(e){let t=PT(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Us(e){let t={clientId:this.ps,onlineState:e};this.storage.setItem(this.xs,JSON.stringify(t))}$s(e,t,r){let i=Ly(this.persistenceKey,e),o=new zu(e,t,r);this.setItem(i,o.Vs())}Ws(e){let t=JSON.stringify(Array.from(e));this.setItem(this.Os,t)}Gs(e){let t=this.Cs.exec(e);return t?t[1]:null}js(e,t){let r=this.Gs(e);return yp.Rs(r,t)}Hs(e,t){let r=this.Fs.exec(e),i=Number(r[1]),o=r[2]!==void 0?r[2]:null;return _p.Rs(new wt(o),i,t)}Ys(e,t){let r=this.Ms.exec(e),i=Number(r[1]);return zu.Rs(i,t)}Ls(e){return ex.Rs(e)}Xs(e){return JSON.parse(e)}Js(e){return k(this,null,function*(){if(e.user.uid===this.currentUser.uid)return this.syncEngine.no(e.batchId,e.state,e.error);j("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})}Zs(e){return this.syncEngine.ro(e.targetId,e.state,e.error)}zs(e,t){let r=t?this.Ss.insert(e,t):this.Ss.remove(e),i=this.ks(this.Ss),o=this.ks(r),s=[],a=[];return o.forEach(c=>{i.has(c)||s.push(c)}),i.forEach(c=>{o.has(c)||a.push(c)}),this.syncEngine.io(s,a).then(()=>{this.Ss=r})}Bs(e){this.Ss.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}ks(e){let t=Wx();return e.forEach((r,i)=>{t=t.unionWith(i.activeTargetIds)}),t}},vp=class{constructor(){this.so=new cl,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,t,r){this.oo[e]=t}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new cl,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var tx=class{_o(e){}shutdown(){}};var xp=class{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){j("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.ho)e(0)}lo(){j("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var Vf=null;function jy(){return Vf===null?Vf=function(){return 268435456+Math.round(2147483648*Math.random())}():Vf++,"0x"+Vf.toString(16)}var Z6={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var nx=class{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}};var Zt="WebChannelConnection",rx=class extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;let r=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+t.host,this.vo=`projects/${i}/databases/${o}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get Fo(){return!1}Mo(t,r,i,o,s){let a=jy(),c=this.xo(t,r.toUriEncodedString());j("RestConnection",`Sending RPC '${t}' ${a}:`,c,i);let l={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(l,o,s),this.No(t,c,l,i).then(h=>(j("RestConnection",`Received RPC '${t}' ${a}: `,h),h),h=>{throw rr("RestConnection",`RPC '${t}' ${a} failed with error: `,h,"url: ",c,"request:",i),h})}Lo(t,r,i,o,s,a){return this.Mo(t,r,i,o,s)}Oo(t,r,i){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+$a}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,s)=>t[s]=o),i&&i.headers.forEach((o,s)=>t[s]=o)}xo(t,r){let i=Z6[t];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,t,r,i){let o=jy();return new Promise((s,a)=>{let c=new Ry;c.setWithCredentials(!0),c.listenOnce(Ny.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case Fu.NO_ERROR:let h=c.getResponseJson();j(Zt,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(h)),s(h);break;case Fu.TIMEOUT:j(Zt,`RPC '${e}' ${o} timed out`),a(new V(P.DEADLINE_EXCEEDED,"Request time out"));break;case Fu.HTTP_ERROR:let f=c.getStatus();if(j(Zt,`RPC '${e}' ${o} failed with status:`,f,"response text:",c.getResponseText()),f>0){let m=c.getResponseJson();Array.isArray(m)&&(m=m[0]);let _=m?.error;if(_&&_.status&&_.message){let T=function(A){let U=A.toLowerCase().replace(/_/g,"-");return Object.values(P).indexOf(U)>=0?U:P.UNKNOWN}(_.status);a(new V(T,_.message))}else a(new V(P.UNKNOWN,"Server responded with status "+c.getStatus()))}else a(new V(P.UNAVAILABLE,"Connection failed."));break;default:J()}}finally{j(Zt,`RPC '${e}' ${o} completed.`)}});let l=JSON.stringify(i);j(Zt,`RPC '${e}' ${o} sending request:`,i),c.send(t,"POST",l,r,15)})}Bo(e,t,r){let i=jy(),o=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=Fy(),a=ky(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(c.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Oo(c.initMessageHeaders,t,r),c.encodeInitMessageHeaders=!0;let h=o.join("");j(Zt,`Creating RPC '${e}' stream ${i}: ${h}`,c);let f=s.createWebChannel(h,c),m=!1,_=!1,T=new nx({Io:A=>{_?j(Zt,`Not sending because RPC '${e}' stream ${i} is closed:`,A):(m||(j(Zt,`Opening RPC '${e}' stream ${i} transport.`),f.open(),m=!0),j(Zt,`RPC '${e}' stream ${i} sending:`,A),f.send(A))},To:()=>f.close()}),D=(A,U,Y)=>{A.listen(U,O=>{try{Y(O)}catch(X){setTimeout(()=>{throw X},0)}})};return D(f,da.EventType.OPEN,()=>{_||(j(Zt,`RPC '${e}' stream ${i} transport opened.`),T.yo())}),D(f,da.EventType.CLOSE,()=>{_||(_=!0,j(Zt,`RPC '${e}' stream ${i} transport closed`),T.So())}),D(f,da.EventType.ERROR,A=>{_||(_=!0,rr(Zt,`RPC '${e}' stream ${i} transport errored:`,A),T.So(new V(P.UNAVAILABLE,"The operation could not be completed")))}),D(f,da.EventType.MESSAGE,A=>{var U;if(!_){let Y=A.data[0];ee(!!Y);let O=Y,X=O.error||((U=O[0])===null||U===void 0?void 0:U.error);if(X){j(Zt,`RPC '${e}' stream ${i} received error:`,X);let ce=X.status,ie=function(x){let I=xt[x];if(I!==void 0)return MA(I)}(ce),w=X.message;ie===void 0&&(ie=P.INTERNAL,w="Unknown error status: "+ce+" with message "+X.message),_=!0,T.So(new V(ie,w)),f.close()}else j(Zt,`RPC '${e}' stream ${i} received:`,Y),T.bo(Y)}}),D(a,Py.STAT_EVENT,A=>{A.stat===Pf.PROXY?j(Zt,`RPC '${e}' stream ${i} detected buffering proxy`):A.stat===Pf.NOPROXY&&j(Zt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{T.wo()},0),T}};function iM(){return typeof window<"u"?window:null}function $f(){return typeof document<"u"?document:null}function yl(n){return new yv(n,!0)}var ul=class{constructor(e,t,r=1e3,i=1.5,o=6e4){this.ui=e,this.timerId=t,this.ko=r,this.qo=i,this.Qo=o,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();let t=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,t-r);i>0&&j("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}};var bp=class{constructor(e,t,r,i,o,s,a,c){this.ui=e,this.Ho=r,this.Jo=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new ul(e,t)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}stop(){return k(this,null,function*(){this.n_()&&(yield this.close(0))})}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}__(){return k(this,null,function*(){if(this.r_())return this.close(0)})}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(e,t){return k(this,null,function*(){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():t&&t.code===P.RESOURCE_EXHAUSTED?(ht(t.toString()),ht("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):t&&t.code===P.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.mo(t)})}l_(){}auth(){this.state=1;let e=this.h_(this.Yo),t=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===t&&this.P_(r,i)},r=>{e(()=>{let i=new V(P.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,t){let r=this.h_(this.Yo);this.stream=this.T_(e,t),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(()=>k(this,null,function*(){this.state=0,this.start()}))}I_(e){return j("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return t=>{this.ui.enqueueAndForget(()=>this.Yo===e?t():(j("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},ix=class extends bp{constructor(e,t,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}T_(e,t){return this.connection.Bo("Listen",e,t)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();let t=F6(this.serializer,e),r=function(o){if(!("targetChange"in o))return ae.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?ae.min():s.readTime?pt(s.readTime):ae.min()}(e);return this.listener.d_(t,r)}A_(e){let t={};t.database=bv(this.serializer),t.addTarget=function(o,s){let a,c=s.target;if(a=Jf(c)?{documents:LA(o,c)}:{query:jA(o,c)._t},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=NA(o,s.resumeToken);let l=vv(o,s.expectedCount);l!==null&&(a.expectedCount=l)}else if(s.snapshotVersion.compareTo(ae.min())>0){a.readTime=Ra(o,s.snapshotVersion.toTimestamp());let l=vv(o,s.expectedCount);l!==null&&(a.expectedCount=l)}return a}(this.serializer,e);let r=V6(this.serializer,e);r&&(t.labels=r),this.a_(t)}R_(e){let t={};t.database=bv(this.serializer),t.removeTarget=e,this.a_(t)}},ox=class extends bp{constructor(e,t,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,t){return this.connection.Bo("Write",e,t)}E_(e){return ee(!!e.streamToken),this.lastStreamToken=e.streamToken,ee(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){ee(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();let t=O6(e.writeResults,e.commitTime),r=pt(e.commitTime);return this.listener.g_(r,t)}p_(){let e={};e.database=bv(this.serializer),this.a_(e)}m_(e){let t={streamToken:this.lastStreamToken,writes:e.map(r=>ol(this.serializer,r))};this.a_(t)}};var sx=class extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new V(P.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,t,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Mo(e,xv(t,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===P.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new V(P.UNKNOWN,o.toString())})}Lo(e,t,r,i,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Lo(e,xv(t,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===P.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new V(P.UNKNOWN,s.toString())})}terminate(){this.y_=!0,this.connection.terminate()}},ax=class{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){let t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(ht(t),this.D_=!1):j("OnlineStateTracker",t)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}};var cx=class{constructor(e,t,r,i,o){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=o,this.k_._o(s=>{r.enqueueAndForget(()=>k(this,null,function*(){io(this)&&(j("RemoteStore","Restarting streams for network reachability change."),yield function(c){return k(this,null,function*(){let l=q(c);l.L_.add(4),yield qa(l),l.q_.set("Unknown"),l.L_.delete(4),yield vl(l)})}(this))}))}),this.q_=new ax(r,i)}};function vl(n){return k(this,null,function*(){if(io(n))for(let e of n.B_)yield e(!0)})}function qa(n){return k(this,null,function*(){for(let e of n.B_)yield e(!1)})}function $p(n,e){let t=q(n);t.N_.has(e.targetId)||(t.N_.set(e.targetId,e),tb(t)?eb(t):Ga(t).r_()&&Xx(t,e))}function Oa(n,e){let t=q(n),r=Ga(t);t.N_.delete(e),r.r_()&&oM(t,e),t.N_.size===0&&(r.r_()?r.o_():io(t)&&t.q_.set("Unknown"))}function Xx(n,e){if(n.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ae.min())>0){let t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Ga(n).A_(e)}function oM(n,e){n.Q_.xe(e),Ga(n).R_(e)}function eb(n){n.Q_=new _v({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>n.N_.get(e)||null,tt:()=>n.datastore.serializer.databaseId}),Ga(n).start(),n.q_.v_()}function tb(n){return io(n)&&!Ga(n).n_()&&n.N_.size>0}function io(n){return q(n).L_.size===0}function sM(n){n.Q_=void 0}function J6(n){return k(this,null,function*(){n.q_.set("Online")})}function X6(n){return k(this,null,function*(){n.N_.forEach((e,t)=>{Xx(n,e)})})}function e9(n,e){return k(this,null,function*(){sM(n),tb(n)?(n.q_.M_(e),eb(n)):n.q_.set("Unknown")})}function t9(n,e,t){return k(this,null,function*(){if(n.q_.set("Online"),e instanceof np&&e.state===2&&e.cause)try{yield function(i,o){return k(this,null,function*(){let s=o.cause;for(let a of o.targetIds)i.N_.has(a)&&(yield i.remoteSyncer.rejectListen(a,s),i.N_.delete(a),i.Q_.removeTarget(a))})}(n,e)}catch(r){j("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield wp(n,r)}else if(e instanceof Ia?n.Q_.Ke(e):e instanceof tp?n.Q_.He(e):n.Q_.We(e),!t.isEqual(ae.min()))try{let r=yield XA(n.localStore);t.compareTo(r)>=0&&(yield function(o,s){let a=o.Q_.rt(s);return a.targetChanges.forEach((c,l)=>{if(c.resumeToken.approximateByteSize()>0){let h=o.N_.get(l);h&&o.N_.set(l,h.withResumeToken(c.resumeToken,s))}}),a.targetMismatches.forEach((c,l)=>{let h=o.N_.get(c);if(!h)return;o.N_.set(c,h.withResumeToken(gt.EMPTY_BYTE_STRING,h.snapshotVersion)),oM(o,c);let f=new Na(h.target,c,l,h.sequenceNumber);Xx(o,f)}),o.remoteSyncer.applyRemoteEvent(a)}(n,t))}catch(r){j("RemoteStore","Failed to raise snapshot:",r),yield wp(n,r)}})}function wp(n,e,t){return k(this,null,function*(){if(!ro(e))throw e;n.L_.add(1),yield qa(n),n.q_.set("Offline"),t||(t=()=>XA(n.localStore)),n.asyncQueue.enqueueRetryable(()=>k(this,null,function*(){j("RemoteStore","Retrying IndexedDB access"),yield t(),n.L_.delete(1),yield vl(n)}))})}function aM(n,e){return e().catch(t=>wp(n,t,e))}function za(n){return k(this,null,function*(){let e=q(n),t=to(e),r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;n9(e);)try{let i=yield K6(e.localStore,r);if(i===null){e.O_.length===0&&t.o_();break}r=i.batchId,r9(e,i)}catch(i){yield wp(e,i)}cM(e)&&uM(e)})}function n9(n){return io(n)&&n.O_.length<10}function r9(n,e){n.O_.push(e);let t=to(n);t.r_()&&t.V_&&t.m_(e.mutations)}function cM(n){return io(n)&&!to(n).n_()&&n.O_.length>0}function uM(n){to(n).start()}function i9(n){return k(this,null,function*(){to(n).p_()})}function o9(n){return k(this,null,function*(){let e=to(n);for(let t of n.O_)e.m_(t.mutations)})}function s9(n,e,t){return k(this,null,function*(){let r=n.O_.shift(),i=pv.from(r,e,t);yield aM(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield za(n)})}function a9(n,e){return k(this,null,function*(){e&&to(n).V_&&(yield function(r,i){return k(this,null,function*(){if(function(s){return AA(s)&&s!==P.ABORTED}(i.code)){let o=r.O_.shift();to(r).s_(),yield aM(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield za(r)}})}(n,e)),cM(n)&&uM(n)})}function kT(n,e){return k(this,null,function*(){let t=q(n);t.asyncQueue.verifyOperationInProgress(),j("RemoteStore","RemoteStore received new credentials");let r=io(t);t.L_.add(3),yield qa(t),r&&t.q_.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.L_.delete(3),yield vl(t)})}function ux(n,e){return k(this,null,function*(){let t=q(n);e?(t.L_.delete(2),yield vl(t)):e||(t.L_.add(2),yield qa(t),t.q_.set("Unknown"))})}function Ga(n){return n.K_||(n.K_=function(t,r,i){let o=q(t);return o.w_(),new ix(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{Eo:J6.bind(null,n),Ro:X6.bind(null,n),mo:e9.bind(null,n),d_:t9.bind(null,n)}),n.B_.push(e=>k(this,null,function*(){e?(n.K_.s_(),tb(n)?eb(n):n.q_.set("Unknown")):(yield n.K_.stop(),sM(n))}))),n.K_}function to(n){return n.U_||(n.U_=function(t,r,i){let o=q(t);return o.w_(),new ox(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{Eo:()=>Promise.resolve(),Ro:i9.bind(null,n),mo:a9.bind(null,n),f_:o9.bind(null,n),g_:s9.bind(null,n)}),n.B_.push(e=>k(this,null,function*(){e?(n.U_.s_(),yield za(n)):(yield n.U_.stop(),n.O_.length>0&&(j("RemoteStore",`Stopping write stream with ${n.O_.length} pending writes`),n.O_=[]))}))),n.U_}var lx=class n{constructor(e,t,r,i,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new St,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,o){let s=Date.now()+r,a=new n(e,t,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new V(P.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function Wa(n,e){if(ht("AsyncQueue",`${e}: ${n}`),ro(n))return new V(P.UNAVAILABLE,`${e}: ${n}`);throw n}var Ep=class n{constructor(e){this.comparator=e?(t,r)=>e(t,r)||z.comparator(t.key,r.key):(t,r)=>z.comparator(t.key,r.key),this.keyedMap=Uu(),this.sortedSet=new Ye(this.comparator)}static emptySet(e){return new n(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){let t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){let t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){let r=new n;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}};var Ip=class{constructor(){this.W_=new Ye(z.comparator)}track(e){let t=e.doc.key,r=this.W_.get(t);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(t,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(t):e.type===1&&r.type===2?this.W_=this.W_.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):J():this.W_=this.W_.insert(t,e)}G_(){let e=[];return this.W_.inorderTraversal((t,r)=>{e.push(r)}),e}},Va=class n{constructor(e,t,r,i,o,s,a,c,l){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=l}static fromInitialDocuments(e,t,r,i,o){let s=[];return t.forEach(a=>{s.push({type:0,doc:a})}),new n(e,t,Ep.emptySet(t),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ml(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}};var dx=class{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}},hx=class{constructor(){this.queries=FT(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(t,r){let i=q(t),o=i.queries;i.queries=FT(),o.forEach((s,a)=>{for(let c of a.j_)c.onError(r)})})(this,new V(P.ABORTED,"Firestore shutting down"))}};function FT(){return new Rr(n=>gA(n),ml)}function nb(n,e){return k(this,null,function*(){let t=q(n),r=3,i=e.query,o=t.queries.get(i);o?!o.H_()&&e.J_()&&(r=2):(o=new dx,r=e.J_()?0:1);try{switch(r){case 0:o.z_=yield t.onListen(i,!0);break;case 1:o.z_=yield t.onListen(i,!1);break;case 2:yield t.onFirstRemoteStoreListen(i)}}catch(s){let a=Wa(s,`Initialization of query '${_a(e.query)}' failed`);return void e.onError(a)}t.queries.set(i,o),o.j_.push(e),e.Z_(t.onlineState),o.z_&&e.X_(o.z_)&&ib(t)})}function rb(n,e){return k(this,null,function*(){let t=q(n),r=e.query,i=3,o=t.queries.get(r);if(o){let s=o.j_.indexOf(e);s>=0&&(o.j_.splice(s,1),o.j_.length===0?i=e.J_()?0:1:!o.H_()&&e.J_()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}})}function c9(n,e){let t=q(n),r=!1;for(let i of e){let o=i.query,s=t.queries.get(o);if(s){for(let a of s.j_)a.X_(i)&&(r=!0);s.z_=i}}r&&ib(t)}function u9(n,e,t){let r=q(n),i=r.queries.get(e);if(i)for(let o of i.j_)o.onError(t);r.queries.delete(e)}function ib(n){n.Y_.forEach(e=>{e.next()})}var fx,OT;(OT=fx||(fx={})).ea="default",OT.Cache="cache";var ll=class{constructor(e,t,r){this.query=e,this.ta=t,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new Va(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.na?this.ia(e)&&(this.ta.next(e),t=!0):this.sa(e,this.onlineState)&&(this.oa(e),t=!0),this.ra=e,t}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let t=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),t=!0),t}sa(e,t){if(!e.fromCache||!this.J_())return!0;let r=t!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}ia(e){if(e.docChanges.length>0)return!0;let t=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}oa(e){e=Va.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==fx.Cache}};var px=class{constructor(e,t){this.aa=e,this.byteLength=t}ua(){return"metadata"in this.aa}};var Cp=class{constructor(e){this.serializer=e}Es(e){return Sr(this.serializer,e)}ds(e){return e.metadata.exists?VA(this.serializer,e.document,!1):Et.newNoDocument(this.Es(e.metadata.name),this.As(e.metadata.readTime))}As(e){return pt(e)}},gx=class{constructor(e,t,r){this.ca=e,this.localStore=t,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=lM(e)}la(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.aa.namedQuery)this.queries.push(e.aa.namedQuery);else if(e.aa.documentMetadata){this.documents.push({metadata:e.aa.documentMetadata}),e.aa.documentMetadata.exists||++t;let r=Ae.fromString(e.aa.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.aa.document&&(this.documents[this.documents.length-1].document=e.aa.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}ha(e){let t=new Map,r=new Cp(this.serializer);for(let i of e)if(i.metadata.queries){let o=r.Es(i.metadata.name);for(let s of i.metadata.queries){let a=(t.get(s)||fe()).add(o);t.set(s,a)}}return t}complete(){return k(this,null,function*(){let e=yield Q6(this.localStore,new Cp(this.serializer),this.documents,this.ca.id),t=this.ha(this.documents);for(let r of this.queries)yield Y6(this.localStore,r,t.get(r.name));return this.progress.taskState="Success",{progress:this.progress,Pa:this.collectionGroups,Ia:e}})}};function lM(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}var Dp=class{constructor(e){this.key=e}},Sp=class{constructor(e){this.key=e}},Tp=class{constructor(e,t){this.query=e,this.Ta=t,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=fe(),this.mutatedKeys=fe(),this.Aa=_A(e),this.Ra=new Ep(this.Aa)}get Va(){return this.Ta}ma(e,t){let r=t?t.fa:new Ip,i=t?t.Ra:this.Ra,o=t?t.mutatedKeys:this.mutatedKeys,s=i,a=!1,c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,f)=>{let m=i.get(h),_=_l(this.query,f)?f:null,T=!!m&&this.mutatedKeys.has(m.key),D=!!_&&(_.hasLocalMutations||this.mutatedKeys.has(_.key)&&_.hasCommittedMutations),A=!1;m&&_?m.data.isEqual(_.data)?T!==D&&(r.track({type:3,doc:_}),A=!0):this.ga(m,_)||(r.track({type:2,doc:_}),A=!0,(c&&this.Aa(_,c)>0||l&&this.Aa(_,l)<0)&&(a=!0)):!m&&_?(r.track({type:0,doc:_}),A=!0):m&&!_&&(r.track({type:1,doc:m}),A=!0,(c||l)&&(a=!0)),A&&(_?(s=s.add(_),o=D?o.add(h):o.delete(h)):(s=s.delete(h),o=o.delete(h)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let h=this.query.limitType==="F"?s.last():s.first();s=s.delete(h.key),o=o.delete(h.key),r.track({type:1,doc:h})}return{Ra:s,fa:r,ns:a,mutatedKeys:o}}ga(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){let o=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;let s=e.fa.G_();s.sort((h,f)=>function(_,T){let D=A=>{switch(A){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return J()}};return D(_)-D(T)}(h.type,f.type)||this.Aa(h.doc,f.doc)),this.pa(r),i=i!=null&&i;let a=t&&!i?this.ya():[],c=this.da.size===0&&this.current&&!i?1:0,l=c!==this.Ea;return this.Ea=c,s.length!==0||l?{snapshot:new Va(this.query,e.Ra,o,s,e.mutatedKeys,c===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new Ip,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(t=>this.Ta=this.Ta.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ta=this.Ta.delete(t)),this.current=e.current)}ya(){if(!this.current)return[];let e=this.da;this.da=fe(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});let t=[];return e.forEach(r=>{this.da.has(r)||t.push(new Sp(r))}),this.da.forEach(r=>{e.has(r)||t.push(new Dp(r))}),t}ba(e){this.Ta=e.Ts,this.da=fe();let t=this.ma(e.documents);return this.applyChanges(t,!0)}Da(){return Va.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}},mx=class{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}},_x=class{constructor(e){this.key=e,this.va=!1}},yx=class{constructor(e,t,r,i,o,s){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Ca={},this.Fa=new Rr(a=>gA(a),ml),this.Ma=new Map,this.xa=new Set,this.Oa=new Ye(z.comparator),this.Na=new Map,this.La=new al,this.Ba={},this.ka=new Map,this.qa=Pa.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}};function l9(n,e,t=!0){return k(this,null,function*(){let r=Hp(n),i,o=r.Fa.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Da()):i=yield dM(r,e,t,!0),i})}function d9(n,e){return k(this,null,function*(){let t=Hp(n);yield dM(t,e,!0,!1)})}function dM(n,e,t,r){return k(this,null,function*(){let i=yield ka(n.localStore,dn(e)),o=i.targetId,s=n.sharedClientState.addLocalQueryTarget(o,t),a;return r&&(a=yield ob(n,e,o,s==="current",i.resumeToken)),n.isPrimaryClient&&t&&$p(n.remoteStore,i),a})}function ob(n,e,t,r,i){return k(this,null,function*(){n.Ka=(f,m,_)=>function(D,A,U,Y){return k(this,null,function*(){let O=A.view.ma(U);O.ns&&(O=yield mp(D.localStore,A.query,!1).then(({documents:w})=>A.view.ma(w,O)));let X=Y&&Y.targetChanges.get(A.targetId),ce=Y&&Y.targetMismatches.get(A.targetId)!=null,ie=A.view.applyChanges(O,D.isPrimaryClient,X,ce);return vx(D,A.targetId,ie.wa),ie.snapshot})}(n,f,m,_);let o=yield mp(n.localStore,e,!0),s=new Tp(e,o.Ts),a=s.ma(o.documents),c=rl.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),l=s.applyChanges(a,n.isPrimaryClient,c);vx(n,t,l.wa);let h=new mx(e,t,s);return n.Fa.set(e,h),n.Ma.has(t)?n.Ma.get(t).push(e):n.Ma.set(t,[e]),l.snapshot})}function h9(n,e,t){return k(this,null,function*(){let r=q(n),i=r.Fa.get(e),o=r.Ma.get(i.targetId);if(o.length>1)return r.Ma.set(i.targetId,o.filter(s=>!ml(s,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield Fa(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&Oa(r.remoteStore,i.targetId),La(r,i.targetId)}).catch(no))):(La(r,i.targetId),yield Fa(r.localStore,i.targetId,!0))})}function f9(n,e){return k(this,null,function*(){let t=q(n),r=t.Fa.get(e),i=t.Ma.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),Oa(t.remoteStore,r.targetId))})}function p9(n,e,t){return k(this,null,function*(){let r=ub(n);try{let i=yield function(s,a){let c=q(s),l=Qe.now(),h=a.reduce((_,T)=>_.add(T.key),fe()),f,m;return c.persistence.runTransaction("Locally write mutations","readwrite",_=>{let T=vn(),D=fe();return c.cs.getEntries(_,h).next(A=>{T=A,T.forEach((U,Y)=>{Y.isValidDocument()||(D=D.add(U))})}).next(()=>c.localDocuments.getOverlayedDocuments(_,T)).next(A=>{f=A;let U=[];for(let Y of a){let O=T6(Y,f.get(Y.key).overlayedDocument);O!=null&&U.push(new or(Y.key,O,cA(O.value.mapValue),at.exists(!0)))}return c.mutationQueue.addMutationBatch(_,l,U,a)}).next(A=>{m=A;let U=A.applyToLocalDocumentSet(f,D);return c.documentOverlayCache.saveOverlays(_,A.batchId,U)})}).then(()=>({batchId:m.batchId,changes:vA(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,c){let l=s.Ba[s.currentUser.toKey()];l||(l=new Ye(he)),l=l.insert(a,c),s.Ba[s.currentUser.toKey()]=l}(r,i.batchId,t),yield ai(r,i.changes),yield za(r.remoteStore)}catch(i){let o=Wa(i,"Failed to persist write");t.reject(o)}})}function hM(n,e){return k(this,null,function*(){let t=q(n);try{let r=yield W6(t.localStore,e);e.targetChanges.forEach((i,o)=>{let s=t.Na.get(o);s&&(ee(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.va=!0:i.modifiedDocuments.size>0?ee(s.va):i.removedDocuments.size>0&&(ee(s.va),s.va=!1))}),yield ai(t,r,e)}catch(r){yield no(r)}})}function VT(n,e,t){let r=q(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){let i=[];r.Fa.forEach((o,s)=>{let a=s.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){let c=q(s);c.onlineState=a;let l=!1;c.queries.forEach((h,f)=>{for(let m of f.j_)m.Z_(a)&&(l=!0)}),l&&ib(c)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function g9(n,e,t){return k(this,null,function*(){let r=q(n);r.sharedClientState.updateQueryState(e,"rejected",t);let i=r.Na.get(e),o=i&&i.key;if(o){let s=new Ye(z.comparator);s=s.insert(o,Et.newNoDocument(o,ae.min()));let a=fe().add(o),c=new nl(ae.min(),new Map,new Ye(he),s,a);yield hM(r,c),r.Oa=r.Oa.remove(o),r.Na.delete(e),cb(r)}else yield Fa(r.localStore,e,!1).then(()=>La(r,e,t)).catch(no)})}function m9(n,e){return k(this,null,function*(){let t=q(n),r=e.batch.batchId;try{let i=yield G6(t.localStore,e);ab(t,r,null),sb(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield ai(t,i)}catch(i){yield no(i)}})}function _9(n,e,t){return k(this,null,function*(){let r=q(n);try{let i=yield function(s,a){let c=q(s);return c.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let h;return c.mutationQueue.lookupMutationBatch(l,a).next(f=>(ee(f!==null),h=f.keys(),c.mutationQueue.removeMutationBatch(l,f))).next(()=>c.mutationQueue.performConsistencyCheck(l)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(l,h,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,h)).next(()=>c.localDocuments.getDocuments(l,h))})}(r.localStore,e);ab(r,e,t),sb(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield ai(r,i)}catch(i){yield no(i)}})}function y9(n,e){return k(this,null,function*(){let t=q(n);io(t.remoteStore)||j("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{let r=yield function(s){let a=q(s);return a.persistence.runTransaction("Get highest unacknowledged batch id","readonly",c=>a.mutationQueue.getHighestUnacknowledgedBatchId(c))}(t.localStore);if(r===-1)return void e.resolve();let i=t.ka.get(r)||[];i.push(e),t.ka.set(r,i)}catch(r){let i=Wa(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}})}function sb(n,e){(n.ka.get(e)||[]).forEach(t=>{t.resolve()}),n.ka.delete(e)}function ab(n,e,t){let r=q(n),i=r.Ba[r.currentUser.toKey()];if(i){let o=i.get(e);o&&(t?o.reject(t):o.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function La(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(let r of n.Ma.get(e))n.Fa.delete(r),t&&n.Ca.$a(r,t);n.Ma.delete(e),n.isPrimaryClient&&n.La.gr(e).forEach(r=>{n.La.containsKey(r)||fM(n,r)})}function fM(n,e){n.xa.delete(e.path.canonicalString());let t=n.Oa.get(e);t!==null&&(Oa(n.remoteStore,t),n.Oa=n.Oa.remove(e),n.Na.delete(t),cb(n))}function vx(n,e,t){for(let r of t)r instanceof Dp?(n.La.addReference(r.key,e),v9(n,r)):r instanceof Sp?(j("SyncEngine","Document no longer in limbo: "+r.key),n.La.removeReference(r.key,e),n.La.containsKey(r.key)||fM(n,r.key)):J()}function v9(n,e){let t=e.key,r=t.path.canonicalString();n.Oa.get(t)||n.xa.has(r)||(j("SyncEngine","New document in limbo: "+t),n.xa.add(r),cb(n))}function cb(n){for(;n.xa.size>0&&n.Oa.size<n.maxConcurrentLimboResolutions;){let e=n.xa.values().next().value;n.xa.delete(e);let t=new z(Ae.fromString(e)),r=n.qa.next();n.Na.set(r,new _x(t)),n.Oa=n.Oa.insert(t,r),$p(n.remoteStore,new Na(dn(Ha(t.path)),r,"TargetPurposeLimboResolution",An.oe))}}function ai(n,e,t){return k(this,null,function*(){let r=q(n),i=[],o=[],s=[];r.Fa.isEmpty()||(r.Fa.forEach((a,c)=>{s.push(r.Ka(c,e,t).then(l=>{var h;if((l||t)&&r.isPrimaryClient){let f=l?!l.fromCache:(h=t?.targetChanges.get(c.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(c.targetId,f?"current":"not-current")}if(l){i.push(l);let f=Zv.Wi(c.targetId,l);o.push(f)}}))}),yield Promise.all(s),r.Ca.d_(i),yield function(c,l){return k(this,null,function*(){let h=q(c);try{yield h.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>R.forEach(l,m=>R.forEach(m.$i,_=>h.persistence.referenceDelegate.addReference(f,m.targetId,_)).next(()=>R.forEach(m.Ui,_=>h.persistence.referenceDelegate.removeReference(f,m.targetId,_)))))}catch(f){if(!ro(f))throw f;j("LocalStore","Failed to update sequence numbers: "+f)}for(let f of l){let m=f.targetId;if(!f.fromCache){let _=h.os.get(m),T=_.snapshotVersion,D=_.withLastLimboFreeSnapshotVersion(T);h.os=h.os.insert(m,D)}}})}(r.localStore,o))})}function x9(n,e){return k(this,null,function*(){let t=q(n);if(!t.currentUser.isEqual(e)){j("SyncEngine","User change. New user:",e.toKey());let r=yield JA(t.localStore,e);t.currentUser=e,function(o,s){o.ka.forEach(a=>{a.forEach(c=>{c.reject(new V(P.CANCELLED,s))})}),o.ka.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield ai(t,r.hs)}})}function b9(n,e){let t=q(n),r=t.Na.get(e);if(r&&r.va)return fe().add(r.key);{let i=fe(),o=t.Ma.get(e);if(!o)return i;for(let s of o){let a=t.Fa.get(s);i=i.unionWith(a.view.Va)}return i}}function w9(n,e){return k(this,null,function*(){let t=q(n),r=yield mp(t.localStore,e.query,!0),i=e.view.ba(r);return t.isPrimaryClient&&vx(t,e.targetId,i.wa),i})}function E9(n,e){return k(this,null,function*(){let t=q(n);return nM(t.localStore,e).then(r=>ai(t,r))})}function I9(n,e,t,r){return k(this,null,function*(){let i=q(n),o=yield function(a,c){let l=q(a),h=q(l.mutationQueue);return l.persistence.runTransaction("Lookup mutation documents","readonly",f=>h.Mn(f,c).next(m=>m?l.localDocuments.getDocuments(f,m):R.resolve(null)))}(i.localStore,e);o!==null?(t==="pending"?yield za(i.remoteStore):t==="acknowledged"||t==="rejected"?(ab(i,e,r||null),sb(i,e),function(a,c){q(q(a).mutationQueue).On(c)}(i.localStore,e)):J(),yield ai(i,o)):j("SyncEngine","Cannot apply mutation batch with id: "+e)})}function C9(n,e){return k(this,null,function*(){let t=q(n);if(Hp(t),ub(t),e===!0&&t.Qa!==!0){let r=t.sharedClientState.getAllActiveQueryTargets(),i=yield LT(t,r.toArray());t.Qa=!0,yield ux(t.remoteStore,!0);for(let o of i)$p(t.remoteStore,o)}else if(e===!1&&t.Qa!==!1){let r=[],i=Promise.resolve();t.Ma.forEach((o,s)=>{t.sharedClientState.isLocalQueryTarget(s)?r.push(s):i=i.then(()=>(La(t,s),Fa(t.localStore,s,!0))),Oa(t.remoteStore,s)}),yield i,yield LT(t,r),function(s){let a=q(s);a.Na.forEach((c,l)=>{Oa(a.remoteStore,l)}),a.La.pr(),a.Na=new Map,a.Oa=new Ye(z.comparator)}(t),t.Qa=!1,yield ux(t.remoteStore,!1)}})}function LT(n,e,t){return k(this,null,function*(){let r=q(n),i=[],o=[];for(let s of e){let a,c=r.Ma.get(s);if(c&&c.length!==0){a=yield ka(r.localStore,dn(c[0]));for(let l of c){let h=r.Fa.get(l),f=yield w9(r,h);f.snapshot&&o.push(f.snapshot)}}else{let l=yield tM(r.localStore,s);a=yield ka(r.localStore,l),yield ob(r,pM(l),s,!1,a.resumeToken)}i.push(a)}return r.Ca.d_(o),i})}function pM(n){return pA(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function D9(n){return function(t){return q(q(t).persistence).Qi()}(q(n).localStore)}function S9(n,e,t,r){return k(this,null,function*(){let i=q(n);if(i.Qa)return void j("SyncEngine","Ignoring unexpected query state notification.");let o=i.Ma.get(e);if(o&&o.length>0)switch(t){case"current":case"not-current":{let s=yield nM(i.localStore,mA(o[0])),a=nl.createSynthesizedRemoteEventForCurrentChange(e,t==="current",gt.EMPTY_BYTE_STRING);yield ai(i,s,a);break}case"rejected":yield Fa(i.localStore,e,!0),La(i,e,r);break;default:J()}})}function T9(n,e,t){return k(this,null,function*(){let r=Hp(n);if(r.Qa){for(let i of e){if(r.Ma.has(i)&&r.sharedClientState.isActiveQueryTarget(i)){j("SyncEngine","Adding an already active target "+i);continue}let o=yield tM(r.localStore,i),s=yield ka(r.localStore,o);yield ob(r,pM(o),s.targetId,!1,s.resumeToken),$p(r.remoteStore,s)}for(let i of t)r.Ma.has(i)&&(yield Fa(r.localStore,i,!1).then(()=>{Oa(r.remoteStore,i),La(r,i)}).catch(no))}})}function Hp(n){let e=q(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=hM.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=b9.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=g9.bind(null,e),e.Ca.d_=c9.bind(null,e.eventManager),e.Ca.$a=u9.bind(null,e.eventManager),e}function ub(n){let e=q(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=m9.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=_9.bind(null,e),e}function A9(n,e,t){let r=q(n);(function(o,s,a){return k(this,null,function*(){try{let c=yield s.getMetadata();if(yield function(_,T){let D=q(_),A=pt(T.createTime);return D.persistence.runTransaction("hasNewerBundle","readonly",U=>D.Gr.getBundleMetadata(U,T.id)).then(U=>!!U&&U.createTime.compareTo(A)>=0)}(o.localStore,c))return yield s.close(),a._completeWith(function(_){return{taskState:"Success",documentsLoaded:_.totalDocuments,bytesLoaded:_.totalBytes,totalDocuments:_.totalDocuments,totalBytes:_.totalBytes}}(c)),Promise.resolve(new Set);a._updateProgress(lM(c));let l=new gx(c,o.localStore,s.serializer),h=yield s.Ua();for(;h;){let m=yield l.la(h);m&&a._updateProgress(m),h=yield s.Ua()}let f=yield l.complete();return yield ai(o,f.Ia,void 0),yield function(_,T){let D=q(_);return D.persistence.runTransaction("Save bundle","readwrite",A=>D.Gr.saveBundleMetadata(A,T))}(o.localStore,c),a._completeWith(f.progress),Promise.resolve(f.Pa)}catch(c){return rr("SyncEngine",`Loading bundle failed with ${c}`),a._failWith(c),Promise.resolve(new Set)}})})(r,e,t).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}var xx=(()=>{class n{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(t){return k(this,null,function*(){this.serializer=yl(t.databaseInfo.databaseId),this.sharedClientState=this.Wa(t),this.persistence=this.Ga(t),yield this.persistence.start(),this.localStore=this.za(t),this.gcScheduler=this.ja(t,this.localStore),this.indexBackfillerScheduler=this.Ha(t,this.localStore)})}ja(t,r){return null}Ha(t,r){return null}za(t){return ZA(this.persistence,new gp,t.initialUser,this.serializer)}Ga(t){return new fp(pp.Zr,this.serializer)}Wa(t){return new vp}terminate(){return k(this,null,function*(){var t,r;(t=this.gcScheduler)===null||t===void 0||t.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return n.provider={build:()=>new n},n})();var Ap=class n extends xx{constructor(e,t,r){super(),this.Ja=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.kind="persistent",this.synchronizeTabs=!1}initialize(e){return k(this,null,function*(){yield Mg(n.prototype,this,"initialize").call(this,e),yield this.Ja.initialize(this,e),yield ub(this.Ja.syncEngine),yield za(this.Ja.remoteStore),yield this.persistence.yi(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))})}za(e){return ZA(this.persistence,new gp,e.initialUser,this.serializer)}ja(e,t){let r=this.persistence.referenceDelegate.garbageCollector;return new Fv(r,e.asyncQueue,t)}Ha(e,t){let r=new Jy(t,this.persistence);return new Zy(e.asyncQueue,r)}Ga(e){let t=Jx(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?Un.withCacheSize(this.cacheSizeBytes):Un.DEFAULT;return new Yv(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,iM(),$f(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Wa(e){return new vp}},bx=class n extends Ap{constructor(e,t){super(e,t,!1),this.Ja=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){return k(this,null,function*(){yield Mg(n.prototype,this,"initialize").call(this,e);let t=this.Ja.syncEngine;this.sharedClientState instanceof Gu&&(this.sharedClientState.syncEngine={no:I9.bind(null,t),ro:S9.bind(null,t),io:T9.bind(null,t),Qi:D9.bind(null,t),eo:E9.bind(null,t)},yield this.sharedClientState.start()),yield this.persistence.yi(r=>k(this,null,function*(){yield C9(this.Ja.syncEngine,r),this.gcScheduler&&(r&&!this.gcScheduler.started?this.gcScheduler.start():r||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(r&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():r||this.indexBackfillerScheduler.stop())}))})}Wa(e){let t=iM();if(!Gu.D(t))throw new V(P.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");let r=Jx(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Gu(t,e.asyncQueue,r,e.clientId,e.initialUser)}},lb=(()=>{class n{initialize(t,r){return k(this,null,function*(){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>VT(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=x9.bind(null,this.syncEngine),yield ux(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(t){return function(){return new hx}()}createDatastore(t){let r=yl(t.databaseInfo.databaseId),i=function(s){return new rx(s)}(t.databaseInfo);return function(s,a,c,l){return new sx(s,a,c,l)}(t.authCredentials,t.appCheckCredentials,i,r)}createRemoteStore(t){return function(i,o,s,a,c){return new cx(i,o,s,a,c)}(this.localStore,this.datastore,t.asyncQueue,r=>VT(this.syncEngine,r,0),function(){return xp.D()?new xp:new tx}())}createSyncEngine(t,r){return function(o,s,a,c,l,h,f){let m=new yx(o,s,a,c,l,h);return f&&(m.Qa=!0),m}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,r)}terminate(){return k(this,null,function*(){var t,r;yield function(o){return k(this,null,function*(){let s=q(o);j("RemoteStore","RemoteStore shutting down."),s.L_.add(5),yield qa(s),s.k_.shutdown(),s.q_.set("Unknown")})}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()})}}return n.provider={build:()=>new n},n})();function jT(n,e=10240){let t=0;return{read(){return k(this,null,function*(){if(t<n.byteLength){let i={value:n.slice(t,t+e),done:!1};return t+=e,i}return{done:!0}})},cancel(){return k(this,null,function*(){})},releaseLock(){},closed:Promise.resolve()}}var ja=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):ht("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,t){setTimeout(()=>{this.muted||e(t)},0)}};var wx=class{constructor(e,t){this.Xa=e,this.serializer=t,this.metadata=new St,this.buffer=new Uint8Array,this.eu=function(){return new TextDecoder("utf-8")}(),this.tu().then(r=>{r&&r.ua()?this.metadata.resolve(r.aa.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is
             ${JSON.stringify(r?.aa)}`))},r=>this.metadata.reject(r))}close(){return this.Xa.cancel()}getMetadata(){return k(this,null,function*(){return this.metadata.promise})}Ua(){return k(this,null,function*(){return yield this.getMetadata(),this.tu()})}tu(){return k(this,null,function*(){let e=yield this.nu();if(e===null)return null;let t=this.eu.decode(e),r=Number(t);isNaN(r)&&this.ru(`length string (${t}) is not valid number`);let i=yield this.iu(r);return new px(JSON.parse(i),e.length+r)})}su(){return this.buffer.findIndex(e=>e===123)}nu(){return k(this,null,function*(){for(;this.su()<0&&!(yield this.ou()););if(this.buffer.length===0)return null;let e=this.su();e<0&&this.ru("Reached the end of bundle when a length string is expected.");let t=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),t})}iu(e){return k(this,null,function*(){for(;this.buffer.length<e;)(yield this.ou())&&this.ru("Reached the end of bundle when more is expected.");let t=this.eu.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),t})}ru(e){throw this.Xa.cancel(),new Error(`Invalid bundle format: ${e}`)}ou(){return k(this,null,function*(){let e=yield this.Xa.read();if(!e.done){let t=new Uint8Array(this.buffer.length+e.value.length);t.set(this.buffer),t.set(e.value,this.buffer.length),this.buffer=t}return e.done})}};var Ex=class{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}lookup(e){return k(this,null,function*(){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new V(P.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;let t=yield function(i,o){return k(this,null,function*(){let s=q(i),a={documents:o.map(f=>il(s.serializer,f))},c=yield s.Lo("BatchGetDocuments",s.serializer.databaseId,Ae.emptyPath(),a,o.length),l=new Map;c.forEach(f=>{let m=k6(s.serializer,f);l.set(m.key.toString(),m)});let h=[];return o.forEach(f=>{let m=l.get(f.toString());ee(!!m),h.push(m)}),h})}(this.datastore,e);return t.forEach(r=>this.recordVersion(r)),t})}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastTransactionError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new eo(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){return k(this,null,function*(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;let e=this.readVersions;this.mutations.forEach(t=>{e.delete(t.key.toString())}),e.forEach((t,r)=>{let i=z.fromPath(r);this.mutations.push(new Xu(i,this.precondition(i)))}),yield function(r,i){return k(this,null,function*(){let o=q(r),s={writes:i.map(a=>ol(o.serializer,a))};yield o.Mo("Commit",o.serializer.databaseId,Ae.emptyPath(),s)})}(this.datastore,this.mutations),this.committed=!0})}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw J();t=ae.min()}let r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new V(P.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){let t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(ae.min())?at.exists(!1):at.updateTime(t):at.none()}preconditionForUpdate(e){let t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(ae.min()))throw new V(P.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return at.updateTime(t)}return at.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}};var Ix=class{constructor(e,t,r,i,o){this.asyncQueue=e,this.datastore=t,this.options=r,this.updateFunction=i,this.deferred=o,this._u=r.maxAttempts,this.t_=new ul(this.asyncQueue,"transaction_retry")}au(){this._u-=1,this.uu()}uu(){this.t_.Go(()=>k(this,null,function*(){let e=new Ex(this.datastore),t=this.cu(e);t&&t.then(r=>{this.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{this.deferred.resolve(r)}).catch(i=>{this.lu(i)}))}).catch(r=>{this.lu(r)})}))}cu(e){try{let t=this.updateFunction(e);return!pl(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}lu(e){this._u>0&&this.hu(e)?(this._u-=1,this.asyncQueue.enqueueAndForget(()=>(this.uu(),Promise.resolve()))):this.deferred.reject(e)}hu(e){if(e.name==="FirebaseError"){let t=e.code;return t==="aborted"||t==="failed-precondition"||t==="already-exists"||!AA(t)}return!1}};var Cx=class{constructor(e,t,r,i,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=wt.UNAUTHENTICATED,this.clientId=qf.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,s=>k(this,null,function*(){j("FirestoreClient","Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(j("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new St;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>k(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){let r=Wa(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function Uy(n,e){return k(this,null,function*(){n.asyncQueue.verifyOperationInProgress(),j("FirestoreClient","Initializing OfflineComponentProvider");let t=n.configuration;yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(i=>k(this,null,function*(){r.isEqual(i)||(yield JA(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e})}function UT(n,e){return k(this,null,function*(){n.asyncQueue.verifyOperationInProgress();let t=yield db(n);j("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>kT(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>kT(e.remoteStore,i)),n._onlineComponents=e})}function db(n){return k(this,null,function*(){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){j("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Uy(n,n._uninitializedComponentsProvider._offline)}catch(e){let t=e;if(!function(i){return i.name==="FirebaseError"?i.code===P.FAILED_PRECONDITION||i.code===P.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(t))throw t;rr("Error using user provided cache. Falling back to memory cache: "+t),yield Uy(n,new xx)}}else j("FirestoreClient","Using default OfflineComponentProvider"),yield Uy(n,new xx);return n._offlineComponents})}function qp(n){return k(this,null,function*(){return n._onlineComponents||(n._uninitializedComponentsProvider?(j("FirestoreClient","Using user provided OnlineComponentProvider"),yield UT(n,n._uninitializedComponentsProvider._online)):(j("FirestoreClient","Using default OnlineComponentProvider"),yield UT(n,new lb))),n._onlineComponents})}function gM(n){return db(n).then(e=>e.persistence)}function hb(n){return db(n).then(e=>e.localStore)}function mM(n){return qp(n).then(e=>e.remoteStore)}function fb(n){return qp(n).then(e=>e.syncEngine)}function M9(n){return qp(n).then(e=>e.datastore)}function Ua(n){return k(this,null,function*(){let e=yield qp(n),t=e.eventManager;return t.onListen=l9.bind(null,e.syncEngine),t.onUnlisten=h9.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=d9.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=f9.bind(null,e.syncEngine),t})}function R9(n){return n.asyncQueue.enqueue(()=>k(this,null,function*(){let e=yield gM(n),t=yield mM(n);return e.setNetworkEnabled(!0),function(i){let o=q(i);return o.L_.delete(0),vl(o)}(t)}))}function N9(n){return n.asyncQueue.enqueue(()=>k(this,null,function*(){let e=yield gM(n),t=yield mM(n);return e.setNetworkEnabled(!1),function(i){return k(this,null,function*(){let o=q(i);o.L_.add(0),yield qa(o),o.q_.set("Offline")})}(t)}))}function P9(n,e){let t=new St;return n.asyncQueue.enqueueAndForget(()=>k(this,null,function*(){return function(i,o,s){return k(this,null,function*(){try{let a=yield function(l,h){let f=q(l);return f.persistence.runTransaction("read document","readonly",m=>f.localDocuments.getDocument(m,h))}(i,o);a.isFoundDocument()?s.resolve(a):a.isNoDocument()?s.resolve(null):s.reject(new V(P.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(a){let c=Wa(a,`Failed to get document '${o} from cache`);s.reject(c)}})}(yield hb(n),e,t)})),t.promise}function _M(n,e,t={}){let r=new St;return n.asyncQueue.enqueueAndForget(()=>k(this,null,function*(){return function(o,s,a,c,l){let h=new ja({next:m=>{h.Za(),s.enqueueAndForget(()=>rb(o,f));let _=m.docs.has(a);!_&&m.fromCache?l.reject(new V(P.UNAVAILABLE,"Failed to get document because the client is offline.")):_&&m.fromCache&&c&&c.source==="server"?l.reject(new V(P.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(m)},error:m=>l.reject(m)}),f=new ll(Ha(a.path),h,{includeMetadataChanges:!0,_a:!0});return nb(o,f)}(yield Ua(n),n.asyncQueue,e,t,r)})),r.promise}function k9(n,e){let t=new St;return n.asyncQueue.enqueueAndForget(()=>k(this,null,function*(){return function(i,o,s){return k(this,null,function*(){try{let a=yield mp(i,o,!0),c=new Tp(o,a.Ts),l=c.ma(a.documents),h=c.applyChanges(l,!1);s.resolve(h.snapshot)}catch(a){let c=Wa(a,`Failed to execute query '${o} against cache`);s.reject(c)}})}(yield hb(n),e,t)})),t.promise}function yM(n,e,t={}){let r=new St;return n.asyncQueue.enqueueAndForget(()=>k(this,null,function*(){return function(o,s,a,c,l){let h=new ja({next:m=>{h.Za(),s.enqueueAndForget(()=>rb(o,f)),m.fromCache&&c.source==="server"?l.reject(new V(P.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(m)},error:m=>l.reject(m)}),f=new ll(a,h,{includeMetadataChanges:!0,_a:!0});return nb(o,f)}(yield Ua(n),n.asyncQueue,e,t,r)})),r.promise}function F9(n,e){let t=new ja(e);return n.asyncQueue.enqueueAndForget(()=>k(this,null,function*(){return function(i,o){q(i).Y_.add(o),o.next()}(yield Ua(n),t)})),()=>{t.Za(),n.asyncQueue.enqueueAndForget(()=>k(this,null,function*(){return function(i,o){q(i).Y_.delete(o)}(yield Ua(n),t)}))}}function O9(n,e,t,r){let i=function(s,a){let c;return c=typeof s=="string"?RA().encode(s):s,function(h,f){return new wx(h,f)}(function(h,f){if(h instanceof Uint8Array)return jT(h,f);if(h instanceof ArrayBuffer)return jT(new Uint8Array(h),f);if(h instanceof ReadableStream)return h.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(c),a)}(t,yl(e));n.asyncQueue.enqueueAndForget(()=>k(this,null,function*(){A9(yield fb(n),i,r)}))}function V9(n,e){return n.asyncQueue.enqueue(()=>k(this,null,function*(){return function(r,i){let o=q(r);return o.persistence.runTransaction("Get named query","readonly",s=>o.Gr.getNamedQuery(s,i))}(yield hb(n),e)}))}function vM(n){let e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}var BT=new Map;function pb(n,e,t){if(!t)throw new V(P.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function gb(n,e,t,r){if(e===!0&&r===!0)throw new V(P.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function $T(n){if(!z.isDocumentKey(n))throw new V(P.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function HT(n){if(z.isDocumentKey(n))throw new V(P.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function zp(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":J()}function Me(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new V(P.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let t=zp(n);throw new V(P.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function xM(n,e){if(e<=0)throw new V(P.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}var Mp=class{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new V(P.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new V(P.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}gb("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=vM((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new V(P.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new V(P.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new V(P.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},rs=class{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Mp({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new V(P.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new V(P.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Mp(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new By;switch(r.type){case"firstParty":return new zy(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new V(P.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return k(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){let r=BT.get(t);r&&(j("ComponentProvider","Removing Datastore"),BT.delete(t),r.terminate())}(this),Promise.resolve()}};function bM(n,e,t,r={}){var i;let o=(n=Me(n,rs))._getSettings(),s=`${e}:${t}`;if(o.host!=="firestore.googleapis.com"&&o.host!==s&&rr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let a,c;if(typeof r.mockUserToken=="string")a=r.mockUserToken,c=wt.MOCK_USER;else{a=Hw(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);let l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new V(P.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new wt(l)}n._authCredentials=new $y(new Hf(a,c))}}var Lt=class n{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new n(this.firestore,e,this._query)}},Ge=class n{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Tr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new n(this.firestore,e,this._key)}},Tr=class n extends Lt{constructor(e,t,r){super(e,t,Ha(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new Ge(this.firestore,null,new z(e))}withConverter(e){return new n(this.firestore,e,this._path)}};function mb(n,e,...t){if(n=tt(n),pb("collection","path",e),n instanceof rs){let r=Ae.fromString(e,...t);return HT(r),new Tr(n,null,r)}{if(!(n instanceof Ge||n instanceof Tr))throw new V(P.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(Ae.fromString(e,...t));return HT(r),new Tr(n.firestore,null,r)}}function wM(n,e){if(n=Me(n,rs),pb("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new V(P.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Lt(n,null,function(r){return new ir(Ae.emptyPath(),r)}(e))}function xl(n,e,...t){if(n=tt(n),arguments.length===1&&(e=qf.newId()),pb("doc","path",e),n instanceof rs){let r=Ae.fromString(e,...t);return $T(r),new Ge(n,null,new z(r))}{if(!(n instanceof Ge||n instanceof Tr))throw new V(P.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(Ae.fromString(e,...t));return $T(r),new Ge(n.firestore,n instanceof Tr?n.converter:null,new z(r))}}function _b(n,e){return n=tt(n),e=tt(e),(n instanceof Ge||n instanceof Tr)&&(e instanceof Ge||e instanceof Tr)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function yb(n,e){return n=tt(n),e=tt(e),n instanceof Lt&&e instanceof Lt&&n.firestore===e.firestore&&ml(n._query,e._query)&&n.converter===e.converter}var Rp=class{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new ul(this,"async_queue_retry"),this.Vu=()=>{let r=$f();r&&j("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;let t=$f();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;let t=$f();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});let t=new St;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}pu(){return k(this,null,function*(){if(this.Pu.length!==0){try{yield this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!ro(e))throw e;j("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}})}gu(e){let t=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;let i=function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(r);throw ht("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=t,t}enqueueAfterDelay(e,t,r){this.fu(),this.Ru.indexOf(e)>-1&&(t=0);let i=lx.createAndSchedule(this,e,t,r,o=>this.yu(o));return this.Tu.push(i),i}fu(){this.Eu&&J()}verifyOperationInProgress(){}wu(){return k(this,null,function*(){let e;do e=this.mu,yield e;while(e!==this.mu)})}Su(e){for(let t of this.Tu)if(t.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(let t of this.Tu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){let t=this.Tu.indexOf(e);this.Tu.splice(t,1)}};function Dx(n){return function(t,r){if(typeof t!="object"||t===null)return!1;let i=t;for(let o of r)if(o in i&&typeof i[o]=="function")return!0;return!1}(n,["next","error","complete"])}var Sx=class{constructor(){this._progressObserver={},this._taskCompletionResolver=new St,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}};var EM=-1,ot=class extends rs{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new Rp,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return k(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new Rp(e),this._firestoreClient=void 0,yield e}})}};function jt(n){if(n._terminated)throw new V(P.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||IM(n),n._firestoreClient}function IM(n){var e,t,r;let i=n._freezeSettings(),o=function(a,c,l,h){return new Xy(a,c,l,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,vM(h.experimentalLongPollingOptions),h.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new Cx(n._authCredentials,n._appCheckCredentials,n._queue,o,n._componentsProvider&&function(a){let c=a?._online.build();return{_offline:a?._offline.build(c),_online:c}}(n._componentsProvider))}function CM(n,e){rr("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");let t=n._freezeSettings();return SM(n,lb.provider,{build:r=>new Ap(r,t.cacheSizeBytes,e?.forceOwnership)}),Promise.resolve()}function DM(n){return k(this,null,function*(){rr("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");let e=n._freezeSettings();SM(n,lb.provider,{build:t=>new bx(t,e.cacheSizeBytes)})})}function SM(n,e,t){if((n=Me(n,ot))._firestoreClient||n._terminated)throw new V(P.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(n._componentsProvider||n._getSettings().localCache)throw new V(P.FAILED_PRECONDITION,"SDK cache is already specified.");n._componentsProvider={_online:e,_offline:t},IM(n)}function TM(n){if(n._initialized&&!n._terminated)throw new V(P.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");let e=new St;return n._queue.enqueueAndForgetEvenWhileRestricted(()=>k(this,null,function*(){try{yield function(r){return k(this,null,function*(){if(!Wi.D())return Promise.resolve();let i=r+"main";yield Wi.delete(i)})}(Jx(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}})),e.promise}function AM(n){return function(t){let r=new St;return t.asyncQueue.enqueueAndForget(()=>k(this,null,function*(){return y9(yield fb(t),r)})),r.promise}(jt(n=Me(n,ot)))}function MM(n){return R9(jt(n=Me(n,ot)))}function RM(n){return N9(jt(n=Me(n,ot)))}function NM(n,e){let t=jt(n=Me(n,ot)),r=new Sx;return O9(t,n._databaseId,e,r),r}function PM(n,e){return V9(jt(n=Me(n,ot)),e).then(t=>t?new Lt(n,null,t.query):null)}var Nr=class n{constructor(e){this._byteString=e}static fromBase64String(e){try{return new n(gt.fromBase64String(e))}catch(t){throw new V(P.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new n(gt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var sr=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new V(P.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ft(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var oi=class{constructor(e){this._methodName=e}};var is=class{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new V(P.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new V(P.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return he(this._lat,e._lat)||he(this._long,e._long)}};var dl=class{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}};var L9=/^__.*__$/,Tx=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new or(e,this.data,this.fieldMask,t,this.fieldTransforms):new Xi(e,this.data,t,this.fieldTransforms)}},Np=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new or(e,this.data,this.fieldMask,t,this.fieldTransforms)}};function kM(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw J()}}var Pp=class n{constructor(e,t,r,i,o,s){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.vu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new n(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return kp(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(kM(this.Cu)&&L9.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}},Ax=class{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||yl(e)}Qu(e,t,r,i=!1){return new Pp({Cu:e,methodName:t,qu:r,path:ft.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function cs(n){let e=n._freezeSettings(),t=yl(n._databaseId);return new Ax(n._databaseId,!!e.ignoreUndefinedProperties,t)}function Gp(n,e,t,r,i,o={}){let s=n.Qu(o.merge||o.mergeFields?2:0,e,t,i);bb("Data must be an object, but it was:",s,r);let a=VM(r,s),c,l;if(o.merge)c=new Mn(s.fieldMask),l=s.fieldTransforms;else if(o.mergeFields){let h=[];for(let f of o.mergeFields){let m=kx(e,f,t);if(!s.contains(m))throw new V(P.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);jM(h,m)||h.push(m)}c=new Mn(h),l=s.fieldTransforms.filter(f=>c.covers(f.field))}else c=null,l=s.fieldTransforms;return new Tx(new Jt(a),c,l)}var hl=class n extends oi{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof n}};function FM(n,e,t){return new Pp({Cu:3,qu:e.settings.qu,methodName:n._methodName,xu:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}var Mx=class n extends oi{_toFieldTransform(e){return new es(e.path,new Zi)}isEqual(e){return e instanceof n}},Rx=class n extends oi{constructor(e,t){super(e),this.Ku=t}_toFieldTransform(e){let t=FM(this,e,!0),r=this.Ku.map(o=>us(o,t)),i=new ri(r);return new es(e.path,i)}isEqual(e){return e instanceof n&&Pg(this.Ku,e.Ku)}},Nx=class n extends oi{constructor(e,t){super(e),this.Ku=t}_toFieldTransform(e){let t=FM(this,e,!0),r=this.Ku.map(o=>us(o,t)),i=new ii(r);return new es(e.path,i)}isEqual(e){return e instanceof n&&Pg(this.Ku,e.Ku)}},Px=class n extends oi{constructor(e,t){super(e),this.$u=t}_toFieldTransform(e){let t=new Ji(e.serializer,wA(e.serializer,this.$u));return new es(e.path,t)}isEqual(e){return e instanceof n&&this.$u===e.$u}};function vb(n,e,t,r){let i=n.Qu(1,e,t);bb("Data must be an object, but it was:",i,r);let o=[],s=Jt.empty();as(r,(c,l)=>{let h=wb(e,c,t);l=tt(l);let f=i.Nu(h);if(l instanceof hl)o.push(h);else{let m=us(l,f);m!=null&&(o.push(h),s.set(h,m))}});let a=new Mn(o);return new Np(s,a,i.fieldTransforms)}function xb(n,e,t,r,i,o){let s=n.Qu(1,e,t),a=[kx(e,r,t)],c=[i];if(o.length%2!=0)throw new V(P.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let m=0;m<o.length;m+=2)a.push(kx(e,o[m])),c.push(o[m+1]);let l=[],h=Jt.empty();for(let m=a.length-1;m>=0;--m)if(!jM(l,a[m])){let _=a[m],T=c[m];T=tt(T);let D=s.Nu(_);if(T instanceof hl)l.push(_);else{let A=us(T,D);A!=null&&(l.push(_),h.set(_,A))}}let f=new Mn(l);return new Np(h,f,s.fieldTransforms)}function OM(n,e,t,r=!1){return us(t,n.Qu(r?4:3,e))}function us(n,e){if(LM(n=tt(n)))return bb("Unsupported field value:",e,n),VM(n,e);if(n instanceof oi)return function(r,i){if(!kM(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);let o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){let o=[],s=0;for(let a of r){let c=us(a,i.Lu(s));c==null&&(c={nullValue:"NULL_VALUE"}),o.push(c),s++}return{arrayValue:{values:o}}}(n,e)}return function(r,i){if((r=tt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return wA(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let o=Qe.fromDate(r);return{timestampValue:Ra(i.serializer,o)}}if(r instanceof Qe){let o=new Qe(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Ra(i.serializer,o)}}if(r instanceof is)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Nr)return{bytesValue:NA(i.serializer,r._byteString)};if(r instanceof Ge){let o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Bu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Qx(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof dl)return function(s,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:s.toArray().map(c=>{if(typeof c!="number")throw a.Bu("VectorValues must only contain numeric values.");return Kx(a.serializer,c)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${zp(r)}`)}(n,e)}function VM(n,e){let t={};return iA(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):as(n,(r,i)=>{let o=us(i,e.Mu(r));o!=null&&(t[r]=o)}),{mapValue:{fields:t}}}function LM(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Qe||n instanceof is||n instanceof Nr||n instanceof Ge||n instanceof oi||n instanceof dl)}function bb(n,e,t){if(!LM(t)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(t)){let r=zp(t);throw r==="an object"?e.Bu(n+" a custom object"):e.Bu(n+" "+r)}}function kx(n,e,t){if((e=tt(e))instanceof sr)return e._internalPath;if(typeof e=="string")return wb(n,e);throw kp("Field path arguments must be of type string or ",n,!1,void 0,t)}var j9=new RegExp("[~\\*/\\[\\]]");function wb(n,e,t){if(e.search(j9)>=0)throw kp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new sr(...e.split("."))._internalPath}catch{throw kp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function kp(n,e,t,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(o||s)&&(c+=" (found",o&&(c+=` in field ${r}`),s&&(c+=` in document ${i}`),c+=")"),new V(P.INVALID_ARGUMENT,a+n+c)}function jM(n,e){return n.some(t=>t.isEqual(e))}var os=class{constructor(e,t,r,i,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Ge(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new Fx(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let t=this._document.data.field(Wp("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}},Fx=class extends os{data(){return super.data()}};function Wp(n,e){return typeof e=="string"?wb(n,e):e instanceof sr?e._internalPath:e._delegate._internalPath}function UM(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new V(P.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var fl=class{},ss=class extends fl{};function ci(n,e,...t){let r=[];e instanceof fl&&r.push(e),r=r.concat(t),function(o){let s=o.filter(c=>c instanceof Ox).length,a=o.filter(c=>c instanceof Fp).length;if(s>1||s>0&&a>0)throw new V(P.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(let i of r)n=i._apply(n);return n}var Fp=class n extends ss{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new n(e,t,r)}_apply(e){let t=this._parse(e);return YM(e._query,t),new Lt(e.firestore,e.converter,hv(e._query,t))}_parse(e){let t=cs(e.firestore);return function(o,s,a,c,l,h,f){let m;if(l.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new V(P.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){zT(f,h);let _=[];for(let T of f)_.push(qT(c,o,T));m={arrayValue:{values:_}}}else m=qT(c,o,f)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||zT(f,h),m=OM(a,s,f,h==="in"||h==="not-in");return be.create(l,h,m)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}};function BM(n,e,t){let r=e,i=Wp("where",n);return Fp._create(i,r,t)}var Ox=class n extends fl{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new n(e,t)}_parse(e){let t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:Oe.create(t,this._getOperator())}_apply(e){let t=this._parse(e);return t.getFilters().length===0?e:(function(i,o){let s=i,a=o.getFlattenedFilters();for(let c of a)YM(s,c),s=hv(s,c)}(e._query,t),new Lt(e.firestore,e.converter,hv(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};var Vx=class n extends ss{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new n(e,t)}_apply(e){let t=function(i,o,s){if(i.startAt!==null)throw new V(P.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new V(P.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Jo(o,s)}(e._query,this._field,this._direction);return new Lt(e.firestore,e.converter,function(i,o){let s=i.explicitOrderBy.concat([o]);return new ir(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,t))}};function $M(n,e="asc"){let t=e,r=Wp("orderBy",n);return Vx._create(r,t)}var Op=class n extends ss{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new n(e,t,r)}_apply(e){return new Lt(e.firestore,e.converter,ep(e._query,this._limit,this._limitType))}};function HM(n){return xM("limit",n),Op._create("limit",n,"F")}function qM(n){return xM("limitToLast",n),Op._create("limitToLast",n,"L")}var Vp=class n extends ss{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new n(e,t,r)}_apply(e){let t=QM(e,this.type,this._docOrFields,this._inclusive);return new Lt(e.firestore,e.converter,function(i,o){return new ir(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,o,i.endAt)}(e._query,t))}};function zM(...n){return Vp._create("startAt",n,!0)}function GM(...n){return Vp._create("startAfter",n,!1)}var Lp=class n extends ss{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new n(e,t,r)}_apply(e){let t=QM(e,this.type,this._docOrFields,this._inclusive);return new Lt(e.firestore,e.converter,function(i,o){return new ir(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,o)}(e._query,t))}};function WM(...n){return Lp._create("endBefore",n,!1)}function KM(...n){return Lp._create("endAt",n,!0)}function QM(n,e,t,r){if(t[0]=tt(t[0]),t[0]instanceof os)return function(o,s,a,c,l){if(!c)throw new V(P.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${a}().`);let h=[];for(let f of Ea(o))if(f.field.isKeyField())h.push(Zo(s,c.key));else{let m=c.data.field(f.field);if(Up(m))throw new V(P.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+f.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(m===null){let _=f.field.canonicalString();throw new V(P.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${_}' (used as the orderBy) does not exist.`)}h.push(m)}return new Mr(h,l)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{let i=cs(n.firestore);return function(s,a,c,l,h,f){let m=s.explicitOrderBy;if(h.length>m.length)throw new V(P.INVALID_ARGUMENT,`Too many arguments provided to ${l}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);let _=[];for(let T=0;T<h.length;T++){let D=h[T];if(m[T].field.isKeyField()){if(typeof D!="string")throw new V(P.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${l}(), but got a ${typeof D}`);if(!Gx(s)&&D.indexOf("/")!==-1)throw new V(P.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${l}() must be a plain document ID, but '${D}' contains a slash.`);let A=s.path.child(Ae.fromString(D));if(!z.isDocumentKey(A))throw new V(P.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${l}() must result in a valid document path, but '${A}' is not because it contains an odd number of segments.`);let U=new z(A);_.push(Zo(a,U))}else{let A=OM(c,l,D);_.push(A)}}return new Mr(_,f)}(n._query,n.firestore._databaseId,i,e,t,r)}}function qT(n,e,t){if(typeof(t=tt(t))=="string"){if(t==="")throw new V(P.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Gx(e)&&t.indexOf("/")!==-1)throw new V(P.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);let r=e.path.child(Ae.fromString(t));if(!z.isDocumentKey(r))throw new V(P.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Zo(n,new z(r))}if(t instanceof Ge)return Zo(n,t._key);throw new V(P.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${zp(t)}.`)}function zT(n,e){if(!Array.isArray(n)||n.length===0)throw new V(P.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function YM(n,e){let t=function(i,o){for(let s of i)for(let a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new V(P.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new V(P.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}var Ba=class{convertValue(e,t="none"){switch(Yo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return et(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ki(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw J()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){let r={};return as(e,(i,o)=>{r[i]=this.convertValue(o,t)}),r}convertVectorValue(e){var t,r,i;let o=(i=(r=(t=e.fields)===null||t===void 0?void 0:t.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>et(s.doubleValue));return new dl(o)}convertGeoPoint(e){return new is(et(e.latitude),et(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":let r=qx(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Yu(e));default:return null}}convertTimestamp(e){let t=ni(e);return new Qe(t.seconds,t.nanos)}convertDocumentKey(e,t){let r=Ae.fromString(e);ee(HA(r));let i=new Qi(r.get(1),r.get(3)),o=new z(r.popFirst(5));return i.isEqual(t)||ht(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}};function Kp(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}var Lx=class extends Ba{constructor(e){super(),this.firestore=e}convertBytes(e){return new Nr(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new Ge(this.firestore,null,t)}};var ti=class{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},$n=class extends os{constructor(e,t,r,i,o,s){super(e,t,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let t=new zi(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){let r=this._document.data.field(Wp("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}},zi=class extends $n{data(e={}){return super.data(e)}},ar=class{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new ti(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new zi(this._firestore,this._userDataWriter,r.key,r,new ti(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new V(P.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{let c=new zi(i._firestore,i._userDataWriter,a.doc.key,a.doc,new ti(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:c,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{let c=new zi(i._firestore,i._userDataWriter,a.doc.key,a.doc,new ti(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),l=-1,h=-1;return a.type!==0&&(l=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),h=s.indexOf(a.doc.key)),{type:U9(a.type),doc:c,oldIndex:l,newIndex:h}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}};function U9(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return J()}}function Eb(n,e){return n instanceof $n&&e instanceof $n?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(n._document===null?e._document===null:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof ar&&e instanceof ar&&n._firestore===e._firestore&&yb(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}function ZM(n){n=Me(n,Ge);let e=Me(n.firestore,ot);return _M(jt(e),n._key).then(t=>Sb(e,n,t))}var si=class extends Ba{constructor(e){super(),this.firestore=e}convertBytes(e){return new Nr(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new Ge(this.firestore,null,t)}};function JM(n){n=Me(n,Ge);let e=Me(n.firestore,ot),t=jt(e),r=new si(e);return P9(t,n._key).then(i=>new $n(e,r,n._key,i,new ti(i!==null&&i.hasLocalMutations,!0),n.converter))}function XM(n){n=Me(n,Ge);let e=Me(n.firestore,ot);return _M(jt(e),n._key,{source:"server"}).then(t=>Sb(e,n,t))}function eR(n){n=Me(n,Lt);let e=Me(n.firestore,ot),t=jt(e),r=new si(e);return UM(n._query),yM(t,n._query).then(i=>new ar(e,r,n,i))}function tR(n){n=Me(n,Lt);let e=Me(n.firestore,ot),t=jt(e),r=new si(e);return k9(t,n._query).then(i=>new ar(e,r,n,i))}function nR(n){n=Me(n,Lt);let e=Me(n.firestore,ot),t=jt(e),r=new si(e);return yM(t,n._query,{source:"server"}).then(i=>new ar(e,r,n,i))}function Ib(n,e,t){n=Me(n,Ge);let r=Me(n.firestore,ot),i=Kp(n.converter,e,t);return Ka(r,[Gp(cs(r),"setDoc",n._key,i,n.converter!==null,t).toMutation(n._key,at.none())])}function Cb(n,e,t,...r){n=Me(n,Ge);let i=Me(n.firestore,ot),o=cs(i),s;return s=typeof(e=tt(e))=="string"||e instanceof sr?xb(o,"updateDoc",n._key,e,t,r):vb(o,"updateDoc",n._key,e),Ka(i,[s.toMutation(n._key,at.exists(!0))])}function rR(n){return Ka(Me(n.firestore,ot),[new eo(n._key,at.none())])}function iR(n,e){let t=Me(n.firestore,ot),r=xl(n),i=Kp(n.converter,e);return Ka(t,[Gp(cs(n.firestore),"addDoc",r._key,i,n.converter!==null,{}).toMutation(r._key,at.exists(!1))]).then(()=>r)}function Db(n,...e){var t,r,i;n=tt(n);let o={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||Dx(e[s])||(o=e[s],s++);let a={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(Dx(e[s])){let f=e[s];e[s]=(t=f.next)===null||t===void 0?void 0:t.bind(f),e[s+1]=(r=f.error)===null||r===void 0?void 0:r.bind(f),e[s+2]=(i=f.complete)===null||i===void 0?void 0:i.bind(f)}let c,l,h;if(n instanceof Ge)l=Me(n.firestore,ot),h=Ha(n._key.path),c={next:f=>{e[s]&&e[s](Sb(l,n,f))},error:e[s+1],complete:e[s+2]};else{let f=Me(n,Lt);l=Me(f.firestore,ot),h=f._query;let m=new si(l);c={next:_=>{e[s]&&e[s](new ar(l,m,f,_))},error:e[s+1],complete:e[s+2]},UM(n._query)}return function(m,_,T,D){let A=new ja(D),U=new ll(_,A,T);return m.asyncQueue.enqueueAndForget(()=>k(this,null,function*(){return nb(yield Ua(m),U)})),()=>{A.Za(),m.asyncQueue.enqueueAndForget(()=>k(this,null,function*(){return rb(yield Ua(m),U)}))}}(jt(l),h,a,c)}function oR(n,e){return F9(jt(n=Me(n,ot)),Dx(e)?e:{next:e})}function Ka(n,e){return function(r,i){let o=new St;return r.asyncQueue.enqueueAndForget(()=>k(this,null,function*(){return p9(yield fb(r),i,o)})),o.promise}(jt(n),e)}function Sb(n,e,t){let r=t.docs.get(e._key),i=new si(n);return new $n(n,i,e._key,r,new ti(t.hasPendingWrites,t.fromCache),e.converter)}var B9={maxAttempts:5};var jp=class{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=cs(e)}set(e,t,r){this._verifyNotCommitted();let i=Hi(e,this._firestore),o=Kp(i.converter,t,r),s=Gp(this._dataReader,"WriteBatch.set",i._key,o,i.converter!==null,r);return this._mutations.push(s.toMutation(i._key,at.none())),this}update(e,t,r,...i){this._verifyNotCommitted();let o=Hi(e,this._firestore),s;return s=typeof(t=tt(t))=="string"||t instanceof sr?xb(this._dataReader,"WriteBatch.update",o._key,t,r,i):vb(this._dataReader,"WriteBatch.update",o._key,t),this._mutations.push(s.toMutation(o._key,at.exists(!0))),this}delete(e){this._verifyNotCommitted();let t=Hi(e,this._firestore);return this._mutations=this._mutations.concat(new eo(t._key,at.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new V(P.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}};function Hi(n,e){if((n=tt(n)).firestore!==e)throw new V(P.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}var jx=class extends class{constructor(t,r){this._firestore=t,this._transaction=r,this._dataReader=cs(t)}get(t){let r=Hi(t,this._firestore),i=new Lx(this._firestore);return this._transaction.lookup([r._key]).then(o=>{if(!o||o.length!==1)return J();let s=o[0];if(s.isFoundDocument())return new os(this._firestore,i,s.key,s,r.converter);if(s.isNoDocument())return new os(this._firestore,i,r._key,null,r.converter);throw J()})}set(t,r,i){let o=Hi(t,this._firestore),s=Kp(o.converter,r,i),a=Gp(this._dataReader,"Transaction.set",o._key,s,o.converter!==null,i);return this._transaction.set(o._key,a),this}update(t,r,i,...o){let s=Hi(t,this._firestore),a;return a=typeof(r=tt(r))=="string"||r instanceof sr?xb(this._dataReader,"Transaction.update",s._key,r,i,o):vb(this._dataReader,"Transaction.update",s._key,r),this._transaction.update(s._key,a),this}delete(t){let r=Hi(t,this._firestore);return this._transaction.delete(r._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){let t=Hi(e,this._firestore),r=new si(this._firestore);return super.get(e).then(i=>new $n(this._firestore,r,t._key,i._document,new ti(!1,!1),t.converter))}};function sR(n,e,t){n=Me(n,ot);let r=Object.assign(Object.assign({},B9),t);return function(o){if(o.maxAttempts<1)throw new V(P.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(o,s,a){let c=new St;return o.asyncQueue.enqueueAndForget(()=>k(this,null,function*(){let l=yield M9(o);new Ix(o.asyncQueue,l,a,s,c).au()})),c.promise}(jt(n),i=>e(new jx(n,i)),r)}function aR(){return new hl("deleteField")}function cR(){return new Mx("serverTimestamp")}function uR(...n){return new Rx("arrayUnion",n)}function lR(...n){return new Nx("arrayRemove",n)}function dR(n){return new Px("increment",n)}(function(e,t=!0){(function(i){$a=i})(Gw),vc(new ho("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),a=new ot(new Hy(r.getProvider("auth-internal")),new Wy(r.getProvider("app-check-internal")),function(l,h){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new V(P.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Qi(l.options.projectId,h)}(s,i),s);return o=Object.assign({useFetchStreams:t},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),fi(HS,"4.7.3",e),fi(HS,"4.7.3","esm2017")})();var $9="@firebase/firestore-compat",H9="0.3.38";function Pb(n,e){if(e===void 0)return{merge:!1};if(e.mergeFields!==void 0&&e.merge!==void 0)throw new V("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function hR(){if(typeof Uint8Array>"u")throw new V("unimplemented","Uint8Arrays are not available in this environment.")}function fR(){if(!oA())throw new V("unimplemented","Blobs are unavailable in Firestore in this environment.")}var Qp=class n{constructor(e){this._delegate=e}static fromBase64String(e){return fR(),new n(Nr.fromBase64String(e))}static fromUint8Array(e){return hR(),new n(Nr.fromUint8Array(e))}toBase64(){return fR(),this._delegate.toBase64()}toUint8Array(){return hR(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}};function Tb(n){return q9(n,["next","error","complete"])}function q9(n,e){if(typeof n!="object"||n===null)return!1;let t=n;for(let r of e)if(r in t&&typeof t[r]=="function")return!0;return!1}var Ab=class{enableIndexedDbPersistence(e,t){return CM(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return DM(e._delegate)}clearIndexedDbPersistence(e){return TM(e._delegate)}},Yp=class{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof Qi||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){let t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&rr("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&(e=Object.assign(Object.assign({},t),e),delete e.merge),this._delegate._setSettings(e)}useEmulator(e,t,r={}){bM(this._delegate,e,t,r)}enableNetwork(){return MM(this._delegate)}disableNetwork(){return RM(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,gb("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return AM(this._delegate)}onSnapshotsInSync(e){return oR(this._delegate,e)}get app(){if(!this._appCompat)throw new V("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Za(this,mb(this._delegate,e))}catch(t){throw hn(t,"collection()","Firestore.collection()")}}doc(e){try{return new Pr(this,xl(this._delegate,e))}catch(t){throw hn(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new fs(this,wM(this._delegate,e))}catch(t){throw hn(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return sR(this._delegate,t=>e(new Zp(this,t)))}batch(){return jt(this._delegate),new Jp(new jp(this._delegate,e=>Ka(this._delegate,e)))}loadBundle(e){return NM(this._delegate,e)}namedQuery(e){return PM(this._delegate,e).then(t=>t?new fs(this,t):null)}},Qa=class extends Ba{constructor(e){super(),this.firestore=e}convertBytes(e){return new Qp(new Nr(e))}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return Pr.forKey(t,this.firestore,null)}};function z9(n){GT(n)}var Zp=class{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new Qa(e)}get(e){let t=ls(e);return this._delegate.get(t).then(r=>new ds(this._firestore,new $n(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){let i=ls(e);return r?(Pb("Transaction.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){let o=ls(e);return arguments.length===2?this._delegate.update(o,t):this._delegate.update(o,t,r,...i),this}delete(e){let t=ls(e);return this._delegate.delete(t),this}},Jp=class{constructor(e){this._delegate=e}set(e,t,r){let i=ls(e);return r?(Pb("WriteBatch.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){let o=ls(e);return arguments.length===2?this._delegate.update(o,t):this._delegate.update(o,t,r,...i),this}delete(e){let t=ls(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}},Ya=class n{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){let r=new zi(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new hs(this._firestore,r),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){let r=n.INSTANCES,i=r.get(e);i||(i=new WeakMap,r.set(e,i));let o=i.get(t);return o||(o=new n(e,new Qa(e),t),i.set(t,o)),o}};Ya.INSTANCES=new WeakMap;var Pr=class n{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Qa(e)}static forPath(e,t,r){if(e.length%2!==0)throw new V("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new n(t,new Ge(t._delegate,r,new z(e)))}static forKey(e,t,r){return new n(t,new Ge(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new Za(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Za(this.firestore,mb(this._delegate,e))}catch(t){throw hn(t,"collection()","DocumentReference.collection()")}}isEqual(e){return e=tt(e),e instanceof Ge?_b(this._delegate,e):!1}set(e,t){t=Pb("DocumentReference.set",t);try{return t?Ib(this._delegate,e,t):Ib(this._delegate,e)}catch(r){throw hn(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return arguments.length===1?Cb(this._delegate,e):Cb(this._delegate,e,t,...r)}catch(i){throw hn(i,"updateDoc()","DocumentReference.update()")}}delete(){return rR(this._delegate)}onSnapshot(...e){let t=pR(e),r=gR(e,i=>new ds(this.firestore,new $n(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return Db(this._delegate,t,r)}get(e){let t;return e?.source==="cache"?t=JM(this._delegate):e?.source==="server"?t=XM(this._delegate):t=ZM(this._delegate),t.then(r=>new ds(this.firestore,new $n(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new n(this.firestore,e?this._delegate.withConverter(Ya.getInstance(this.firestore,e)):this._delegate.withConverter(null))}};function hn(n,e,t){return n.message=n.message.replace(e,t),n}function pR(n){for(let e of n)if(typeof e=="object"&&!Tb(e))return e;return{}}function gR(n,e){var t,r;let i;return Tb(n[0])?i=n[0]:Tb(n[1])?i=n[1]:typeof n[0]=="function"?i={next:n[0],error:n[1],complete:n[2]}:i={next:n[1],error:n[2],complete:n[3]},{next:o=>{i.next&&i.next(e(o))},error:(t=i.error)===null||t===void 0?void 0:t.bind(i),complete:(r=i.complete)===null||r===void 0?void 0:r.bind(i)}}var ds=class{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Pr(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return Eb(this._delegate,e._delegate)}},hs=class extends ds{data(e){let t=this._delegate.data(e);return this._delegate._converter||WT(t!==void 0,"Document in a QueryDocumentSnapshot should exist"),t}},fs=class n{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Qa(e)}where(e,t,r){try{return new n(this.firestore,ci(this._delegate,BM(e,t,r)))}catch(i){throw hn(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new n(this.firestore,ci(this._delegate,$M(e,t)))}catch(r){throw hn(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new n(this.firestore,ci(this._delegate,HM(e)))}catch(t){throw hn(t,"limit()","Query.limit()")}}limitToLast(e){try{return new n(this.firestore,ci(this._delegate,qM(e)))}catch(t){throw hn(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new n(this.firestore,ci(this._delegate,zM(...e)))}catch(t){throw hn(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new n(this.firestore,ci(this._delegate,GM(...e)))}catch(t){throw hn(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new n(this.firestore,ci(this._delegate,WM(...e)))}catch(t){throw hn(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new n(this.firestore,ci(this._delegate,KM(...e)))}catch(t){throw hn(t,"endAt()","Query.endAt()")}}isEqual(e){return yb(this._delegate,e._delegate)}get(e){let t;return e?.source==="cache"?t=tR(this._delegate):e?.source==="server"?t=nR(this._delegate):t=eR(this._delegate),t.then(r=>new bl(this.firestore,new ar(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){let t=pR(e),r=gR(e,i=>new bl(this.firestore,new ar(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return Db(this._delegate,t,r)}withConverter(e){return new n(this.firestore,e?this._delegate.withConverter(Ya.getInstance(this.firestore,e)):this._delegate.withConverter(null))}},Mb=class{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new hs(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}},bl=class{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new fs(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new hs(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new Mb(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new hs(this._firestore,r))})}isEqual(e){return Eb(this._delegate,e._delegate)}},Za=class n extends fs{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){let e=this._delegate.parent;return e?new Pr(this.firestore,e):null}doc(e){try{return e===void 0?new Pr(this.firestore,xl(this._delegate)):new Pr(this.firestore,xl(this._delegate,e))}catch(t){throw hn(t,"doc()","CollectionReference.doc()")}}add(e){return iR(this._delegate,e).then(t=>new Pr(this.firestore,t))}isEqual(e){return _b(this._delegate,e._delegate)}withConverter(e){return new n(this.firestore,e?this._delegate.withConverter(Ya.getInstance(this.firestore,e)):this._delegate.withConverter(null))}};function ls(n){return Me(n,Ge)}var Rb=class n{constructor(...e){this._delegate=new sr(...e)}static documentId(){return new n(ft.keyField().canonicalString())}isEqual(e){return e=tt(e),e instanceof sr?this._delegate._internalPath.isEqual(e._internalPath):!1}};var Nb=class n{constructor(e){this._delegate=e}static serverTimestamp(){let e=cR();return e._methodName="FieldValue.serverTimestamp",new n(e)}static delete(){let e=aR();return e._methodName="FieldValue.delete",new n(e)}static arrayUnion(...e){let t=uR(...e);return t._methodName="FieldValue.arrayUnion",new n(t)}static arrayRemove(...e){let t=lR(...e);return t._methodName="FieldValue.arrayRemove",new n(t)}static increment(e){let t=dR(e);return t._methodName="FieldValue.increment",new n(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}};var G9={Firestore:Yp,GeoPoint:is,Timestamp:Qe,Blob:Qp,Transaction:Zp,WriteBatch:Jp,DocumentReference:Pr,DocumentSnapshot:ds,Query:fs,QueryDocumentSnapshot:hs,QuerySnapshot:bl,CollectionReference:Za,FieldPath:Rb,FieldValue:Nb,setLogLevel:z9,CACHE_SIZE_UNLIMITED:EM};function W9(n,e){n.INTERNAL.registerComponent(new ho("firestore-compat",t=>{let r=t.getProvider("app-compat").getImmediate(),i=t.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},G9)))}function K9(n){W9(n,(e,t)=>new Yp(e,t,new Ab)),n.registerVersion($9,H9)}K9(At);function Q9(n,e=Ec){return new ve(t=>{let r;return e!=null?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{r?.()}})}function mR(n,e){return Q9(n,e)}function Y9(n,e){return mR(n,e).pipe(_o(void 0),Cc(),te(t=>{let[r,i]=t;return i.exists?r?.exists?{payload:i,type:"modified"}:{payload:i,type:"added"}:{payload:i,type:"removed"}}))}function Ob(n,e){return mR(n,e).pipe(te(t=>({payload:t,type:"query"})))}var Xp=class{ref;afs;constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){let r=this.ref.collection(e),{ref:i,query:o}=bR(r,t);return new tg(i,o,this.afs)}snapshotChanges(){return Y9(this.ref,this.afs.schedulers.outsideAngular).pipe(yn)}valueChanges(e={}){return this.snapshotChanges().pipe(te(({payload:t})=>e.idField?ke(W({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return Ee(this.ref.get(e)).pipe(yn)}};function eg(n,e){return Ob(n,e).pipe(_o(void 0),Cc(),te(t=>{let[r,i]=t,o=i.payload.docChanges(),s=o.map(a=>({type:a.type,payload:a}));return r&&JSON.stringify(r.payload.metadata)!==JSON.stringify(i.payload.metadata)&&i.payload.docs.forEach((a,c)=>{let l=o.find(f=>f.doc.ref.isEqual(a.ref)),h=r?.payload.docs.find(f=>f.ref.isEqual(a.ref));l&&JSON.stringify(l.doc.metadata)===JSON.stringify(a.metadata)||!l&&h&&JSON.stringify(h.metadata)===JSON.stringify(a.metadata)||s.push({type:"modified",payload:{oldIndex:c,newIndex:c,type:"modified",doc:a}})}),s}))}function _R(n,e,t){return eg(n,t).pipe(mo((r,i)=>Z9(r,i.map(o=>o.payload),e),[]),em(),te(r=>r.map(i=>({type:i.type,payload:i}))))}function Z9(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=J9(n,r))}),n}function kb(n,e,t,...r){let i=n.slice();return i.splice(e,t,...r),i}function J9(n,e){switch(e.type){case"added":if(!(n[e.newIndex]&&n[e.newIndex].doc.ref.isEqual(e.doc.ref)))return kb(n,e.newIndex,0,e);break;case"modified":if(n[e.oldIndex]==null||n[e.oldIndex].doc.ref.isEqual(e.doc.ref))if(e.oldIndex!==e.newIndex){let t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}else return kb(n,e.newIndex,1,e);break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return kb(n,e.oldIndex,1);break}return n}function yR(n){return(!n||n.length===0)&&(n=["added","removed","modified"]),n}var tg=class{ref;query;afs;constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=eg(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe(te(r=>r.filter(i=>e.indexOf(i.type)>-1)))),t.pipe(_o(void 0),Cc(),It(([r,i])=>i.length>0||!r),te(([,r])=>r),yn)}auditTrail(e){return this.stateChanges(e).pipe(mo((t,r)=>[...t,...r],[]))}snapshotChanges(e){let t=yR(e);return _R(this.query,t,this.afs.schedulers.outsideAngular).pipe(yn)}valueChanges(e={}){return Ob(this.query,this.afs.schedulers.outsideAngular).pipe(te(t=>t.payload.docs.map(r=>e.idField?ke(W({},r.data()),{[e.idField]:r.id}):r.data())),yn)}get(e){return Ee(this.query.get(e)).pipe(yn)}add(e){return this.ref.add(e)}doc(e){return new Xp(this.ref.doc(e),this.afs)}},Fb=class{query;afs;constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return!e||e.length===0?eg(this.query,this.afs.schedulers.outsideAngular).pipe(yn):eg(this.query,this.afs.schedulers.outsideAngular).pipe(te(t=>t.filter(r=>e.indexOf(r.type)>-1)),It(t=>t.length>0),yn)}auditTrail(e){return this.stateChanges(e).pipe(mo((t,r)=>[...t,...r],[]))}snapshotChanges(e){let t=yR(e);return _R(this.query,t,this.afs.schedulers.outsideAngular).pipe(yn)}valueChanges(e={}){return Ob(this.query,this.afs.schedulers.outsideAngular).pipe(te(r=>r.payload.docs.map(i=>e.idField?W({[e.idField]:i.id},i.data()):i.data())),yn)}get(e){return Ee(this.query.get(e)).pipe(yn)}},vR=new G("angularfire2.enableFirestorePersistence"),xR=new G("angularfire2.firestore.persistenceSettings"),X9=new G("angularfire2.firestore.settings"),ej=new G("angularfire2.firestore.use-emulator");function bR(n,e=t=>t){return{query:e(n),ref:n}}var wl=(()=>{class n{schedulers;firestore;persistenceEnabled$;constructor(t,r,i,o,s,a,c,l,h,f,m,_,T,D,A,U,Y){this.schedulers=c;let O=Pu(t,a,r),X=h;f&&Ay(O,a,m,T,D,A,_,U),[this.firestore,this.persistenceEnabled$]=Rf(`${O.name}.firestore`,"AngularFirestore",O.name,()=>{let ce=a.runOutsideAngular(()=>O.firestore());if(o&&ce.settings(o),X&&ce.useEmulator(...X),i&&!Mi(s)){let ie=()=>{try{return Ee(ce.enablePersistence(l||void 0).then(()=>!0,()=>!1))}catch(w){return typeof console<"u"&&console.warn(w),oe(!1)}};return[ce,a.runOutsideAngular(ie)]}else return[ce,oe(!1)]},[o,X,i])}collection(t,r){let i;typeof t=="string"?i=this.firestore.collection(t):i=t;let{ref:o,query:s}=bR(i,r),a=this.schedulers.ngZone.run(()=>o);return new tg(a,s,this)}collectionGroup(t,r){let i=r||(s=>s),o=this.firestore.collectionGroup(t);return new Fb(i(o),this)}doc(t){let r;typeof t=="string"?r=this.firestore.doc(t):r=t;let i=this.schedulers.ngZone.run(()=>r);return new Xp(i,this)}createId(){return this.firestore.collection("_").doc().id}static \u0275fac=function(r){return new(r||n)(B(ua),B(la,8),B(vR,8),B(X9,8),B(Wt),B(Ie),B(Tf),B(xR,8),B(ej,8),B(nr,8),B(Ey,8),B(Iy,8),B(Cy,8),B(Dy,8),B(Sy,8),B(Ty,8),B(Uo,8))};static \u0275prov=Q({token:n,factory:n.\u0275fac,providedIn:"any"})}return n})(),wR=(()=>{class n{constructor(){At.registerVersion("angularfire",Bo.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:vR,useValue:!0},{provide:xR,useValue:t}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=rt({type:n});static \u0275inj=nt({providers:[wl]})}return n})();var Xt=(()=>{class n{constructor(t,r,i){this.store=t,this.FireAuth=r,this.injector=i,this.Users="Users",this.User_Data=[],this.LoginState=!1,this.Is_Admin=!1}Add_New_Users(t){this.store.collection(this.Users).add(t)}Update_Users(t){this.store.collection(this.Users).doc(t.id).update(t)}Remove_Users(t){this.store.collection(this.Users).doc(t.id).delete()}Sign_In(t){this.Users_collection=this.store.collection(this.Users,r=>r.where("User_Code","==",t.loginCode).where("User_Password","==",t.password)).valueChanges({idField:"id"}),this.Users_collection.subscribe(r=>{r.length>0?(this.User_Data=r[0],this.Calender_Serv||(this.Calender_Serv=this.injector.get(en)),this.Calender_Serv.Calender_Creation.Append_Event_Data_For_Day(this.User_Data),this.If_Is_Admin(r[0].User_Code),this.LoginState=!0):alert("No User For This , Please Try Again Or SingUp")})}If_Is_Admin(t){t=="953540"?this.Is_Admin=!0:this.Is_Admin=!1}No_User_Duplicate(t){return this.Users_collection=this.store.collection(this.Users,r=>r.where("User_Code","==",t.SignupCode)).valueChanges({idField:"id"}),this.Users_collection.pipe(te(r=>r.length===0))}Sign_Up(t){this.No_User_Duplicate(t).subscribe(r=>{if(r){let i={User_FullName:t.SignupName,User_Code:t.SignupCode,User_Password:t.password,Hour_Salary:[],Month_Data:[]};this.Add_New_Users(i)}})}static{this.\u0275fac=function(r){return new(r||n)(B(wl),B(nr),B(In))}}static{this.\u0275prov=Q({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var en=(()=>{class n{constructor(t){this.Fire_Users=t,this.Calender_Creation=new Df(this.Fire_Users),this.Selected_Date=null,this.popup_event=!1}Open_popup_event(){this.popup_event=!0}Close_popup_event(){this.popup_event=!1}static{this.\u0275fac=function(r){return new(r||n)(B(Xt))}}static{this.\u0275prov=Q({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var so=(()=>{class n{constructor(t,r){this.store=t,this.FireAuth=r,this.Salary_Functionalty_Control="Salary-Functionalty-Control",this.Array_Salary_Functionalty_Control=[],this.Salary_Functionalty_Control_collection=this.store.collection(this.Salary_Functionalty_Control,i=>i.orderBy("Order_Field","asc")).valueChanges({idField:"id"})}Add_New_Salary_Functionalty_Control(t){this.store.collection(this.Salary_Functionalty_Control).add(t)}Update_Salary_Functionalty_Control(t){this.store.collection(this.Salary_Functionalty_Control).doc(t.id).update(t)}Remove_Salary_Functionalty_Control(t){this.store.collection(this.Salary_Functionalty_Control).doc(t.id).delete()}Get_Salary_Functionalty_Control(){this.Salary_Functionalty_Control_collection.subscribe(t=>{this.Array_Salary_Functionalty_Control=t})}static{this.\u0275fac=function(r){return new(r||n)(B(wl),B(nr))}}static{this.\u0275prov=Q({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var Ja=(()=>{class n{constructor(){this.SignIn=!0,this.SignUp=!1}Toggel_Sign(){this.SignIn=!this.SignIn,this.SignUp=!this.SignUp}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Q({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var IR=(()=>{class n{transform(t){return["January","February","March","April","May","June","July","August","September","October","November","December"][t]}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275pipe=Zd({name:"monthName",type:n,pure:!0})}}return n})();var nj=n=>({hidden:n}),CR=(()=>{class n{constructor(t){this.Calender_Serv=t,this.Show_Month_View=!1}OnClick_Month_View(){this.Show_Month_View=!this.Show_Month_View}ngOnInit(){}static{this.\u0275fac=function(r){return new(r||n)(K(en))}}static{this.\u0275cmp=qe({type:n,selectors:[["calender-header"]],decls:62,vars:7,consts:[[1,"flex","items-center","justify-between","border-b","border-gray-200","px-6","py-4","lg:flex-none"],[1,"text-base","font-semibold","leading-6","text-gray-900"],["datetime","2022-01"],[1,"flex","items-center"],[1,"relative","flex","items-center","rounded-md","bg-white","shadow-sm","md:items-stretch"],["type","button",1,"flex","h-9","w-12","items-center","justify-center","rounded-l-md","border-y","border-l","border-gray-300","pr-1","text-gray-400","hover:text-gray-500","focus:relative","md:w-9","md:pr-0","md:hover:bg-gray-50",3,"click"],[1,"sr-only"],["viewBox","0 0 20 20","fill","currentColor","aria-hidden","true",1,"h-5","w-5"],["fill-rule","evenodd","d","M12.79 5.23a.75.75 0 01-.02 1.06L8.832 10l3.938 3.71a.75.75 0 11-1.04 1.08l-4.5-4.25a.75.75 0 010-1.08l4.5-4.25a.75.75 0 011.06.02z","clip-rule","evenodd"],["type","button",1,"hidden","border-y","border-gray-300","px-3.5","text-sm","font-semibold","text-gray-900","hover:bg-gray-50","focus:relative","md:block",3,"click"],[1,"relative","-mx-px","h-5","w-px","bg-gray-300","md:hidden"],["type","button",1,"flex","h-9","w-12","items-center","justify-center","rounded-r-md","border-y","border-r","border-gray-300","pl-1","text-gray-400","hover:text-gray-500","focus:relative","md:w-9","md:pl-0","md:hover:bg-gray-50",3,"click"],["fill-rule","evenodd","d","M7.21 14.77a.75.75 0 01.02-1.06L11.168 10 7.23 6.29a.75.75 0 111.04-1.08l4.5 4.25a.75.75 0 010 1.08l-4.5 4.25a.75.75 0 01-1.06-.02z","clip-rule","evenodd"],[1,"hidden","md:ml-4","md:flex","md:items-center"],[1,"relative"],["type","button","id","menu-button","aria-expanded","false","aria-haspopup","true",1,"flex","items-center","gap-x-1.5","rounded-md","bg-white","px-3","py-2","text-sm","font-semibold","text-gray-900","shadow-sm","ring-1","ring-inset","ring-gray-300","hover:bg-gray-50",3,"click"],["viewBox","0 0 20 20","fill","currentColor","aria-hidden","true",1,"-mr-1","h-5","w-5","text-gray-400"],["fill-rule","evenodd","d","M5.23 7.21a.75.75 0 011.06.02L10 11.168l3.71-3.938a.75.75 0 111.08 1.04l-4.25 4.5a.75.75 0 01-1.08 0l-4.25-4.5a.75.75 0 01.02-1.06z","clip-rule","evenodd"],["role","menu","aria-orientation","vertical","aria-labelledby","menu-button","tabindex","-1",1,"absolute","right-0","z-10","mt-3","w-36","origin-top-right","overflow-hidden","rounded-md","bg-white","shadow-lg","ring-1","ring-black","ring-opacity-5","focus:outline-none",3,"ngClass"],["role","none",1,"py-1"],["href","#","role","menuitem","tabindex","-1","id","menu-item-0",1,"text-gray-700","block","px-4","py-2","text-sm"],["href","#","role","menuitem","tabindex","-1","id","menu-item-1",1,"text-gray-700","block","px-4","py-2","text-sm"],["href","#","role","menuitem","tabindex","-1","id","menu-item-2",1,"text-gray-700","block","px-4","py-2","text-sm"],["href","#","role","menuitem","tabindex","-1","id","menu-item-3",1,"text-gray-700","block","px-4","py-2","text-sm"],[1,"ml-6","h-6","w-px","bg-gray-300"],["type","button",1,"ml-6","rounded-md","bg-indigo-600","px-3","py-2","text-sm","font-semibold","text-white","shadow-sm","hover:bg-indigo-500","focus-visible:outline","focus-visible:outline-2","focus-visible:outline-offset-2","focus-visible:outline-indigo-500"],[1,"relative","ml-6","md:hidden"],["type","button","id","menu-0-button","aria-expanded","false","aria-haspopup","true",1,"-mx-2","flex","items-center","rounded-full","border","border-transparent","p-2","text-gray-400","hover:text-gray-500"],["d","M3 10a1.5 1.5 0 113 0 1.5 1.5 0 01-3 0zM8.5 10a1.5 1.5 0 113 0 1.5 1.5 0 01-3 0zM15.5 8.5a1.5 1.5 0 100 3 1.5 1.5 0 000-3z"],[2,"display","none"],["role","menu","aria-orientation","vertical","aria-labelledby","menu-0-button","tabindex","-1",1,"absolute","right-0","z-10","mt-3","w-36","origin-top-right","divide-y","divide-gray-100","overflow-hidden","rounded-md","bg-white","shadow-lg","ring-1","ring-black","ring-opacity-5","focus:outline-none"],["href","#","role","menuitem","tabindex","-1","id","menu-0-item-0",1,"text-gray-700","block","px-4","py-2","text-sm"],["href","#","role","menuitem","tabindex","-1","id","menu-0-item-1",1,"text-gray-700","block","px-4","py-2","text-sm"],["href","#","role","menuitem","tabindex","-1","id","menu-0-item-2",1,"text-gray-700","block","px-4","py-2","text-sm"],["href","#","role","menuitem","tabindex","-1","id","menu-0-item-3",1,"text-gray-700","block","px-4","py-2","text-sm"],["href","#","role","menuitem","tabindex","-1","id","menu-0-item-4",1,"text-gray-700","block","px-4","py-2","text-sm"],["href","#","role","menuitem","tabindex","-1","id","menu-0-item-5",1,"text-gray-700","block","px-4","py-2","text-sm"]],template:function(r,i){r&1&&(b(0,"header",0)(1,"h1",1)(2,"time",2),F(3),_h(4,"monthName"),E()(),b(5,"div",3)(6,"div",4)(7,"button",5),se("click",function(){return i.Calender_Serv.Calender_Creation.Previous_Month()}),b(8,"span",6),F(9,"Previous month"),E(),wn(),b(10,"svg",7),de(11,"path",8),E()(),En(),b(12,"button",9),se("click",function(){return i.Calender_Serv.Calender_Creation.getDaysInCurrentMonth()}),F(13,"Today"),E(),de(14,"span",10),b(15,"button",11),se("click",function(){return i.Calender_Serv.Calender_Creation.Next_Month()}),b(16,"span",6),F(17,"Next month"),E(),wn(),b(18,"svg",7),de(19,"path",12),E()()(),En(),b(20,"div",13)(21,"div",14)(22,"button",15),se("click",function(){return i.OnClick_Month_View()}),F(23," Month view "),wn(),b(24,"svg",16),de(25,"path",17),E()(),En(),b(26,"div",18)(27,"div",19)(28,"a",20),F(29,"Day view"),E(),b(30,"a",21),F(31,"Week view"),E(),b(32,"a",22),F(33,"Month view"),E(),b(34,"a",23),F(35,"Year view"),E()()()(),de(36,"div",24),b(37,"button",25),F(38,"Add event"),E()(),b(39,"div",26)(40,"button",27)(41,"span",6),F(42,"Open menu"),E(),wn(),b(43,"svg",7),de(44,"path",28),E()(),En(),b(45,"span",29)(46,"div",30)(47,"div",19)(48,"a",31),F(49,"Create event"),E()(),b(50,"div",19)(51,"a",32),F(52,"Go to today"),E()(),b(53,"div",19)(54,"a",33),F(55,"Day view"),E(),b(56,"a",34),F(57,"Week view"),E(),b(58,"a",35),F(59,"Month view"),E(),b(60,"a",36),F(61,"Year view"),E()()()()()()()),r&2&&(L(3),z0("",iD(4,3,i.Calender_Serv.Calender_Creation.month)," ",i.Calender_Serv.Calender_Creation.year,""),L(23),re("ngClass",Qc(5,nj,!i.Show_Month_View)))},dependencies:[Ai,IR]})}}return n})();var ij=(n,e)=>({"bg-white ":n,"bg-gray-50 text-gray-500 ":e}),oj=n=>({"flex h-6 w-6 items-center justify-center rounded-full bg-indigo-600 font-semibold text-white":n}),sj=(n,e,t)=>({" bg-gray-100 text-gray-400  ":n," bg-white text-gray-500  ":e," text-white font-semibold":t}),aj=n=>({"ml-auto flex h-6 w-6 items-center justify-center rounded-full bg-indigo-600":n}),cj=(n,e)=>({"outline outline-offset-0 outline-green-500 bg-gray-100":n,"bg-green-500":e}),uj=(n,e)=>({"outline outline-offset-0 outline-amber-500 bg-gray-100":n,"bg-amber-500":e}),lj=(n,e)=>({"outline outline-offset-0 outline-indigo-500 bg-gray-100":n,"bg-indigo-500":e}),dj=(n,e)=>({"outline outline-offset-0 outline-red-500 bg-gray-100":n,"bg-red-500":e});function hj(n,e){if(n&1&&(b(0,"div",2)(1,"span"),F(2),E(),b(3,"span",8),F(4),E()()),n&2){let t=e.$implicit;L(2),yt(t.Week_Name_1Char),L(2),yt(t.Week_Name_2Char)}}function fj(n,e){if(n&1&&(b(0,"li")(1,"p",12),F(2),E()()),n&2){let t=Z().$implicit;L(2),Kt("Hour : ",t.Event.Attendance,"")}}function pj(n,e){n&1&&(b(0,"li")(1,"p",13),F(2,"Late"),E()())}function gj(n,e){n&1&&(b(0,"li")(1,"p",14),F(2,"Holiday"),E()())}function mj(n,e){n&1&&(b(0,"li")(1,"p",15),F(2,"Absence"),E()())}function _j(n,e){if(n&1){let t=Ue();b(0,"div",9),se("click",function(){let i=De(t).$implicit,o=Z();return Se(o.Open_popup_event(i))}),b(1,"time",10),F(2),E(),b(3,"ol",11),He(4,fj,3,1,"li")(5,pj,3,0,"li")(6,gj,3,0,"li")(7,mj,3,0,"li"),E()()}if(n&2){let t=e.$implicit;re("ngClass",_r(7,ij,t.Current_Month,!t.Current_Month)),L(),re("ngClass",Qc(10,oj,t.Current_Day)),L(),yt(t.Day_Number),L(2),On(4,!(!(t==null||t.Event==null)&&t.Event.Absence)&&(t.Event==null?null:t.Event.Attendance.length)>0&&!t.Hide_Element_Attendance?4:-1),L(),On(5,!(t==null||t.Event==null)&&t.Event.Late&&!t.Hide_Element_Late?5:-1),L(),On(6,!(t==null||t.Event==null)&&t.Event.Holiday&&!t.Hide_Element_Holiday?6:-1),L(),On(7,!(t==null||t.Event==null)&&t.Event.Absence&&!t.Hide_Element_Absence?7:-1)}}function yj(n,e){if(n&1&&(b(0,"span",18)(1,"div"),F(2),E()()),n&2){let t=Z().$implicit;re("ngClass",_r(2,cj,!t.Current_Month,t.Current_Month)),L(2),Kt(" ",t.Event.Attendance," ")}}function vj(n,e){if(n&1&&de(0,"span",19),n&2){let t=Z().$implicit;re("ngClass",_r(1,uj,!t.Current_Month,t.Current_Month))}}function xj(n,e){if(n&1&&de(0,"span",20),n&2){let t=Z().$implicit;re("ngClass",_r(1,lj,!t.Current_Month,t.Current_Month))}}function bj(n,e){if(n&1&&de(0,"span",21),n&2){let t=Z().$implicit;re("ngClass",_r(1,dj,!t.Current_Month,t.Current_Month))}}function wj(n,e){if(n&1){let t=Ue();b(0,"button",16),se("click",function(){let i=De(t).$implicit,o=Z();return Se(o.Open_popup_event(i))}),b(1,"time",10),F(2),E(),b(3,"span",17),He(4,yj,3,5,"span",18)(5,vj,1,4,"span",19)(6,xj,1,4,"span",20)(7,bj,1,4,"span",21),E()()}if(n&2){let t=e.$implicit;re("ngClass",tD(7,sj,!t.Current_Month,t.Current_Month,t.Current_Day)),L(),re("ngClass",Qc(11,aj,t.Current_Day)),L(),yt(t.Day_Number),L(2),On(4,!(!(t==null||t.Event==null)&&t.Event.Absence)&&(t==null||t.Event==null||t.Event.Attendance==null?null:t.Event.Attendance.length)>0&&!t.Hide_Element_Attendance?4:-1),L(),On(5,!(t==null||t.Event==null)&&t.Event.Late&&!t.Hide_Element_Late?5:-1),L(),On(6,!(t==null||t.Event==null)&&t.Event.Holiday&&!t.Hide_Element_Holiday?6:-1),L(),On(7,!(t==null||t.Event==null)&&t.Event.Absence&&!t.Hide_Element_Absence?7:-1)}}var DR=(()=>{class n{constructor(t,r){this.Calender_Serv=t,this.Fire_Users=r,this.Arr_Week=[{Week_Name_1Char:"S",Week_Name_2Char:"at"},{Week_Name_1Char:"S",Week_Name_2Char:"un"},{Week_Name_1Char:"M",Week_Name_2Char:"on"},{Week_Name_1Char:"T",Week_Name_2Char:"ue"},{Week_Name_1Char:"W",Week_Name_2Char:"ed"},{Week_Name_1Char:"T",Week_Name_2Char:"hu"},{Week_Name_1Char:"F",Week_Name_2Char:"ri"}]}get User_Data(){return this.Fire_Users.User_Data}Open_popup_event(t){this.Calender_Serv.Selected_Date=t,this.Calender_Serv.Open_popup_event()}ngOnInit(){}static{this.\u0275fac=function(r){return new(r||n)(K(en),K(Xt))}}static{this.\u0275cmp=qe({type:n,selectors:[["calender-body"]],decls:11,vars:0,consts:[[1,"shadow","ring-1","ring-black","ring-opacity-5","lg:flex","lg:flex-auto","lg:flex-col"],[1,"grid","grid-cols-7","gap-px","border-b","border-gray-300","bg-gray-200","text-center","text-xs","font-semibold","leading-6","text-gray-700","lg:flex-none"],[1,"flex","justify-center","bg-white","py-2"],[1,"flex","bg-gray-200","text-xs","leading-6","text-gray-700","lg:flex-auto"],[1,"hidden","w-full","lg:grid","lg:grid-cols-7","lg:grid-rows-6","lg:gap-px"],[1,"relative","min-h-32","px-3","py-2",3,"ngClass"],[1,"isolate","grid","w-full","grid-cols-7","grid-rows-6","gap-px","lg:hidden"],["type","button",1,"flex","h-14","flex-col","py-2","px-3","hover:bg-gray-100","focus:z-10",3,"ngClass"],[1,"sr-only","sm:not-sr-only"],[1,"relative","min-h-32","px-3","py-2",3,"click","ngClass"],["datetime","2021-12-27",3,"ngClass"],[1,"mt-2"],[1,"flex-auto","truncate","font-medium","cursor-pointer","text-green-600","hover:text-green-700"],[1,"flex-auto","truncate","font-medium","cursor-pointer","text-amber-500","hover:text-amber-400"],[1,"flex-auto","truncate","font-medium","cursor-pointer","text-indigo-500","hover:text-indigo-600"],[1,"flex-auto","truncate","font-medium","cursor-pointer","text-red-500","hover:text-red-600"],["type","button",1,"flex","h-14","flex-col","py-2","px-3","hover:bg-gray-100","focus:z-10",3,"click","ngClass"],[1,"-mx-0.5","mt-auto","flex","flex-wrap-reverse"],[1,"mx-1","mb-1","h-2","w-2","rounded-full","Custom-Attendance",3,"ngClass"],[1,"outline","outline-offset-0","outline-amber-500","mx-1","mb-1","h-2","w-2","rounded-full","bg-amber-500",3,"ngClass"],[1,"outline","outline-offset-0","outline-indigo-500","mx-1","mb-1","h-2","w-2","rounded-full","bg-indigo-500",3,"ngClass"],[1,"outline","outline-offset-0","outline-red-500","mx-1","mb-1","h-2","w-2","rounded-full","bg-red-500",3,"ngClass"]],template:function(r,i){r&1&&(b(0,"div",0)(1,"div",1),Rt(2,hj,5,2,"div",2,Mt),E(),b(4,"div",3)(5,"div",4),Rt(6,_j,8,12,"div",5,Mt),E(),b(8,"div",6),Rt(9,wj,8,13,"button",7,Mt),E()()()),r&2&&(L(2),Nt(i.Arr_Week),L(4),Nt(i.Calender_Serv.Calender_Creation.final_42_days),L(3),Nt(i.Calender_Serv.Calender_Creation.final_42_days))},dependencies:[Ai],styles:[".Custom-Attendance[_ngcontent-%COMP%]{position:relative}.Custom-Attendance[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{position:absolute;opacity:.7;min-width:1rem;left:25px;top:-35px;z-index:1;background:#a7f5c4;padding:0;margin:0;font-size:smaller;border-radius:5px;color:#000;box-shadow:0 2px 4px #00000026}"]})}}return n})();var SR=(()=>{class n{constructor(t){this.Fire_Salary_Calc=t,this.Calculate_Salary=new Er}get Array_Salary_Functionalty_Control(){return this.Fire_Salary_Calc.Array_Salary_Functionalty_Control}static{this.\u0275fac=function(r){return new(r||n)(K(so))}}static{this.\u0275cmp=qe({type:n,selectors:[["calender"]],decls:10,vars:2,consts:[[1,"select-none","w-full","lg:w-2/3","m-1","bg-white","shadow-lg","text-lg","rounded-md","border","border-gray-200"],[1,"flex","whitespace-nowrap","justify-center","items-center"],["htmlFor","category_name",1,"block","tracking-wide","text-gray-700","text-sm","font-bold","mb-2"],["placeholder","\u0627\u0644\u0645\u0628\u0644\u063A","type","number",1,"m-4","text-xs","appearance-none","block","w-20","bg-white","text-gray-900","border","border-gray-400","rounded-lg","py-2","px-3","leading-tight","focus:outline-none",3,"ngModelChange","ngModel"],[1,"lg:flex","lg:h-full","lg:flex-col"]],template:function(r,i){r&1&&(b(0,"div",0)(1,"section",1)(2,"label",2),F(3),E(),b(4,"input",3),Xe("ngModelChange",function(s){return it(i.Salary_Value,s)||(i.Salary_Value=s),s}),E(),b(5,"label",2),F(6," \u0627\u062D\u0633\u0628 \u0627\u0644\u0645\u0628\u0644\u063A "),E()()(),b(7,"div",4),de(8,"calender-header")(9,"calender-body"),E()),r&2&&(L(3),Kt(" \u0628\u0639\u062F \u0627\u0644\u062E\u0635\u0645 : ",i.Calculate_Salary.Calc_After(i.Salary_Value,i.Array_Salary_Functionalty_Control)," "),L(),Je("ngModel",i.Salary_Value))},dependencies:[_n,Zr,Yt,Dn,CR,DR]})}}return n})();var rg={production:!1,firebaseConfig:{apiKey:"AIzaSyC2SJzpTQRlEv19pztPNISvZYiInmX75JY",authDomain:"emp-attendance-1d923.firebaseapp.com",projectId:"emp-attendance-1d923",storageBucket:"emp-attendance-1d923.appspot.com",messagingSenderId:"71798254609",appId:"1:71798254609:web:9d67347cf4c388157fd5b0",measurementId:"G-D3K2T6R6FL"}};var Cj=(n,e)=>({"bg-white hover:bg-slate-50 text-slate-700":n,"bg-green-600 hover:bg-green-500 text-white":e});function Dj(n,e){if(n&1){let t=Ue();b(0,"div",31),se("click",function(){let i=De(t).$implicit,o=Z();return Se(o.OnClick_Select_Attendance(i))}),F(1),E()}if(n&2){let t=e.$implicit,r=Z();re("ngClass",_r(2,Cj,r.Set_Select_Hour()!=t.Hour,r.Set_Select_Hour()==t.Hour)),L(),yt(t.Hour)}}var TR=(()=>{class n{constructor(t,r){this.Calender_Serv=t,this.Fire_Users=r,this.Event_Data={Attendance:"",Late:!1,Holiday:!1,Absence:!1}}get User_Data(){return this.Fire_Users.User_Data}get Selected_Date(){return this.Calender_Serv.Selected_Date}Close_popup_event(){this.Calender_Serv.Close_popup_event()}OnClick_Select_Attendance(t){this.Selected_Date.Event=this.Event_Data;let r=this.User_Data.Month_Data;At.initializeApp(rg.firebaseConfig);function i(s,a){return s?s.findIndex(c=>{let l=c.Date instanceof At.firestore.Timestamp?c.Date.toDate():c.Date;return String(l)===String(a.Date)}):[]}let o=i(r,this.Selected_Date);o>-1&&r?this.User_Data.Month_Data[o]=this.Selected_Date:r?this.User_Data.Month_Data.push(W({},this.Selected_Date)):this.User_Data.Month_Data=this.Selected_Date,this.Event_Data={Attendance:t.Hour,Late:this.Event_Data.Late,Holiday:this.Event_Data.Holiday,Absence:!1},this.Get_Event_From_FireBase().Event=this.Event_Data}On_Change_Late(t){let r=t.target.checked;this.Event_Data={Attendance:this.Event_Data.Attendance,Late:r,Holiday:this.Event_Data.Holiday,Absence:!1},this.Get_Event_From_FireBase().Event=this.Event_Data}On_Change_Holiday(t){let r=t.target.checked;this.Event_Data={Attendance:this.Event_Data.Attendance,Late:this.Event_Data.Late,Holiday:r,Absence:!1},this.Get_Event_From_FireBase().Event=this.Event_Data}On_Change_Absence(t){let r=t.target.checked;this.Event_Data={Attendance:"",Late:!1,Holiday:!1,Absence:r},this.Get_Event_From_FireBase().Event=this.Event_Data}Save(){this.Fire_Users.Update_Users(this.User_Data),this.Close_popup_event()}Reset_Event_Data(){this.Event_Data={Attendance:"",Late:!1,Holiday:!1,Absence:!1},this.Get_Event_From_FireBase().Event=this.Event_Data}OnDestroy(){this.Calender_Serv.Selected_Date=null}Get_Event_From_FireBase(){let t=this.User_Data.Month_Data.find(r=>{let i=r.Date instanceof Qe?r.Date.toDate():r.Date;return String(i)===String(this.Calender_Serv.Selected_Date.Date)});if(t===void 0)this.Selected_Date.Event={Absence:!1,Attendance:"",Holiday:!1,Late:!1},this.User_Data.Month_Data.push(this.Selected_Date);else return t}Set_Select_Hour(){return this.Get_Event_From_FireBase()==null?!1:this.Get_Event_From_FireBase().Event.Attendance}ngOnInit(){if(this.Calender_Serv.Selected_Date.Event){let t=this.Calender_Serv.Selected_Date.Event,r=this.User_Data.Hour_Salary;this.Event_Data=t,r.map(i=>{t.Attendance==i.Hour&&(i.Selected=!0)})}}static{this.\u0275fac=function(r){return new(r||n)(K(en),K(Xt))}}static{this.\u0275cmp=qe({type:n,selectors:[["calender-popup-event"]],decls:49,vars:7,consts:[["x-show.transition.opacity","openEventModal",1,"fixed","z-40","top-0","right-0","left-0","bottom-0","h-full","w-full",2,"background-color","rgba(0, 0, 0, 0.8)"],[1,"p-4","max-w-xl","mx-auto","relative","absolute","left-0","right-0","overflow-hidden","mt-24"],[1,"shadow","absolute","right-0","top-0","w-10","h-10","rounded-full","bg-white","text-gray-500","hover:text-gray-800","inline-flex","items-center","justify-center","cursor-pointer",3,"click"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 24 24",1,"fill-current","w-6","h-6"],["d","M16.192 6.344L11.949 10.586 7.707 6.344 6.293 7.758 10.535 12 6.293 16.242 7.707 17.656 11.949 13.414 16.192 17.656 17.606 16.242 13.364 12 17.606 7.758z"],[1,"shadow","w-full","rounded-lg","bg-white","overflow-hidden","block","p-8"],[1,"font-bold","text-2xl","mb-2","text-gray-800"],[1,"border-b","pb-2","mb-6"],[1,"mb-4"],[1,"text-gray-800","block","mb-1","font-bold","text-sm","tracking-wide"],[1,"flex"],[1,"m-1","px-3","py-2","cursor-pointer","relaive","rounded-md","text-[0.8125rem]","font-medium","shadow-sm","ring-1","ring-slate-700/10",3,"ngClass"],[1,"flex","gap-2"],[1,"ring-amber-500","shadow-sm","ring-1","ring-slate-700/10","w-fit","rounded-md","inline-flex","items-center"],["for","checkbox-4","data-ripple-dark","true",1,"relative","flex","cursor-pointer","items-center","rounded-full","p-3"],["type","checkbox","id","checkbox-4",1,"ring-1","ring-amber-500","before:content['']","peer","relative","h-5","w-5","cursor-pointer","appearance-none","rounded-md","border","border-blue-gray-200","transition-all","before:absolute","before:top-2/4","before:left-2/4","before:block","before:h-12","before:w-12","before:-translate-y-2/4","before:-translate-x-2/4","before:rounded-full","before:bg-blue-gray-500","before:opacity-0","before:transition-opacity","checked:border-amber-500","checked:bg-amber-500","checked:before:bg-amber-500","hover:before:opacity-10",3,"change","ngModelChange","ngModel"],[1,"pointer-events-none","absolute","top-2/4","left-2/4","-translate-y-2/4","-translate-x-2/4","text-white","opacity-0","transition-opacity","peer-checked:opacity-100"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 20 20","fill","currentColor","stroke","currentColor","stroke-width","1",1,"h-3.5","w-3.5"],["fill-rule","evenodd","d","M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z","clip-rule","evenodd"],[1,"text-amber-500","block","select-none","font-bold","text-sm","tracking-wide","me-3"],[1,"ring-indigo-500","shadow-sm","ring-1","ring-slate-700/10","w-fit","rounded-md","inline-flex","items-center"],["for","checkbox-6","data-ripple-dark","true",1,"relative","flex","cursor-pointer","items-center","rounded-full","p-3"],["type","checkbox","id","checkbox-6",1,"ring-1","ring-indigo-500","before:content['']","peer","relative","h-5","w-5","cursor-pointer","appearance-none","rounded-md","border","border-blue-gray-200","transition-all","before:absolute","before:top-2/4","before:left-2/4","before:block","before:h-12","before:w-12","before:-translate-y-2/4","before:-translate-x-2/4","before:rounded-full","before:bg-blue-gray-500","before:opacity-0","before:transition-opacity","checked:border-indigo-500","checked:bg-indigo-500","checked:before:bg-indigo-500","hover:before:opacity-10",3,"change","ngModelChange","ngModel"],[1,"text-indigo-500","block","select-none","font-bold","text-sm","tracking-wide","me-3"],[1,"ring-red-500","shadow-sm","ring-1","ring-slate-700/10","w-fit","rounded-md","inline-flex","items-center"],["for","checkbox-2","data-ripple-dark","true",1,"relative","flex","cursor-pointer","items-center","rounded-full","p-3"],["type","checkbox","id","checkbox-2",1,"ring-1","ring-red-500","before:content['']","peer","relative","h-5","w-5","cursor-pointer","appearance-none","rounded-md","border","border-blue-gray-200","transition-all","before:absolute","before:top-2/4","before:left-2/4","before:block","before:h-12","before:w-12","before:-translate-y-2/4","before:-translate-x-2/4","before:rounded-full","before:bg-blue-gray-500","before:opacity-0","before:transition-opacity","checked:border-red-500","checked:bg-red-500","checked:before:bg-red-500","hover:before:opacity-10",3,"change","ngModelChange","ngModel"],[1,"text-red-500","block","select-none","font-bold","text-sm","tracking-wide","me-3"],[1,"mt-8","text-right"],["type","button",1,"bg-white","text-gray-700","hover:bg-gray-100","focus-visible:outline-gray-500","ring-1","ring-slate-700/10","ml-3","rounded-md","px-3","py-2","text-sm","font-semibold","shadow-sm","focus-visible:outline","focus-visible:outline-2","focus-visible:outline-offset-2",3,"click"],["type","button",1,"bg-indigo-600","text-white","hover:bg-indigo-500","focus-visible:outline-indigo-500","ml-3","rounded-md","px-3","py-2","text-sm","font-semibold","shadow-sm","focus-visible:outline","focus-visible:outline-2","focus-visible:outline-offset-2",3,"click"],[1,"m-1","px-3","py-2","cursor-pointer","relaive","rounded-md","text-[0.8125rem]","font-medium","shadow-sm","ring-1","ring-slate-700/10",3,"click","ngClass"]],template:function(r,i){r&1&&(b(0,"div",0)(1,"div",1)(2,"div",2),se("click",function(){return i.Close_popup_event()}),wn(),b(3,"svg",3),de(4,"path",4),E()(),En(),b(5,"div",5)(6,"h2",6),F(7,"Day Details"),E(),b(8,"h4",7),F(9),_h(10,"date"),E(),b(11,"div",8)(12,"label",9),F(13,"Attendance"),E(),b(14,"div",10),Rt(15,Dj,2,5,"div",11,Mt),E()(),b(17,"div",12)(18,"div",13)(19,"label",14)(20,"input",15),se("change",function(s){return i.On_Change_Late(s)}),Xe("ngModelChange",function(s){return it(i.Event_Data.Late,s)||(i.Event_Data.Late=s),s}),E(),b(21,"div",16),wn(),b(22,"svg",17),de(23,"path",18),E()()(),En(),b(24,"label",19),F(25,"Late"),E()(),b(26,"div",20)(27,"label",21)(28,"input",22),se("change",function(s){return i.On_Change_Holiday(s)}),Xe("ngModelChange",function(s){return it(i.Event_Data.Holiday,s)||(i.Event_Data.Holiday=s),s}),E(),b(29,"div",16),wn(),b(30,"svg",17),de(31,"path",18),E()()(),En(),b(32,"label",23),F(33,"Holiday"),E()(),b(34,"div",24)(35,"label",25)(36,"input",26),se("change",function(s){return i.On_Change_Absence(s)}),Xe("ngModelChange",function(s){return it(i.Event_Data.Absence,s)||(i.Event_Data.Absence=s),s}),E(),b(37,"div",16),wn(),b(38,"svg",17),de(39,"path",18),E()()(),En(),b(40,"label",27),F(41,"Absence"),E()()(),b(42,"div",28)(43,"button",29),se("click",function(){return i.Close_popup_event()}),F(44," Cancel "),E(),b(45,"button",29),se("click",function(){return i.Reset_Event_Data()}),F(46," Reset "),E(),b(47,"button",30),se("click",function(){return i.Save()}),F(48," Save "),E()()()()()),r&2&&(L(9),yt(oD(10,4,i.Selected_Date==null?null:i.Selected_Date.Date,"dd MMMM yyyy")),L(6),Nt(i.User_Data.Hour_Salary),L(5),Je("ngModel",i.Event_Data.Late),L(8),Je("ngModel",i.Event_Data.Holiday),L(8),Je("ngModel",i.Event_Data.Absence))},dependencies:[Ai,cu,Yt,Dn,RD]})}}return n})();var Tj=(n,e)=>({"bg-white hover:bg-slate-50 text-slate-700":n,"bg-green-600 hover:bg-green-500 text-white":e}),ig=(()=>{class n{On_Select(t){this.item_Sub_Layer.Object_Choose_Calc_Until.map(r=>{r.Selected=!1}),this.item_Sub_Layer.Calc_Until=t.Name,t.Selected=!0}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275cmp=qe({type:n,selectors:[["sub-layer-row"]],inputs:{item_Calc_Until:"item_Calc_Until",item_Sub_Layer:"item_Sub_Layer"},decls:2,vars:5,consts:[[1,"m-1","px-3","py-2","cursor-pointer","relaive","rounded-md","text-[0.8125rem]","font-medium","shadow-sm","ring-1","ring-slate-700/10",3,"click","ngClass"]],template:function(r,i){r&1&&(b(0,"div",0),se("click",function(){return 0})("click",function(){return i.On_Select(i.item_Calc_Until)}),F(1),E()),r&2&&(re("ngClass",_r(2,Tj,!i.item_Calc_Until.Selected,i.item_Calc_Until.Selected)),L(),Kt(`
`,i.item_Calc_Until.Name,`
`))},dependencies:[Ai]})}}return n})();function Aj(n,e){if(n&1&&de(0,"sub-layer-row",9),n&2){let t=e.$implicit,r=Z().$implicit;re("item_Calc_Until",t)("item_Sub_Layer",r)}}function Mj(n,e){if(n&1){let t=Ue();b(0,"tr",4)(1,"td",5)(2,"div")(3,"input",6),Xe("ngModelChange",function(i){let o=De(t).$implicit;return it(o.Val,i)||(o.Val=i),Se(i)}),E()()(),b(4,"td",7)(5,"span",8),Rt(6,Aj,1,2,"sub-layer-row",9,Mt),E()(),b(8,"td",5)(9,"span",10),se("click",function(){let i=De(t).$index,o=Z();return Se(o.Remove_Sub_Layer(i))}),F(10,"Remove"),E()()()}if(n&2){let t=e.$implicit;L(3),Je("ngModel",t.Val),L(3),Nt(t.Object_Choose_Calc_Until)}}var MR=(()=>{class n{Remove_Sub_Layer(t){this.Sub_Layer.splice(t,1)}ngOnInit(){}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275cmp=qe({type:n,selectors:[["add-sub-layer"]],inputs:{Sub_Layer:"Sub_Layer"},decls:13,vars:0,consts:[[1,"relative","overflow-x-auto","shadow-md","sm:rounded-lg"],[1,"w-full","text-sm","text-left","rtl:text-right","text-gray-500","light:text-gray-400"],[1,"text-xs","text-gray-700","bg-gray-50","light:bg-gray-700","light:text-gray-400"],["scope","col",1,"px-6","py-3"],[1,"bg-white","border-b","light:bg-gray-800","light:border-gray-700","hover:bg-gray-50","light:hover:bg-gray-600"],[1,"px-6","py-4"],["type","number","required","",1,"bg-gray-50","w-24","border","focus:outline-none","border-gray-300","text-gray-900","text-sm","rounded-lg","focus:ring-blue-500","focus:border-blue-500","block","px-2.5","py-1","light:bg-gray-700","light:border-gray-600","light:placeholder-gray-400","light:text-white","light:focus:ring-blue-500","light:focus:border-blue-500",3,"ngModelChange","ngModel"],[1,"px-6","py-4","font-semibold","text-gray-900","light:text-white"],[1,"flex"],[3,"item_Calc_Until","item_Sub_Layer"],[1,"cursor-pointer","font-medium","text-red-600","light:text-red-500","hover:underline",3,"click"]],template:function(r,i){r&1&&(b(0,"div",0)(1,"table",1)(2,"thead",2)(3,"tr")(4,"th",3),F(5," Subtract value "),E(),b(6,"th",3),F(7," Calc Until "),E(),b(8,"th",3),F(9," Action "),E()()(),b(10,"tbody"),Rt(11,Mj,11,1,"tr",4,Mt),E()()()),r&2&&(L(11),Nt(i.Sub_Layer))},dependencies:[_n,Zr,Yt,Xn,Dn,ig]})}}return n})();function Nj(n,e){if(n&1){let t=Ue();b(0,"input",32),se("keyup.enter",function(){De(t);let i=Z().$implicit,o=Z();return Se(o.Save_Edit(i))}),Xe("ngModelChange",function(i){De(t);let o=Z().$implicit;return it(o.Order_Field,i)||(o.Order_Field=i),Se(i)}),E()}if(n&2){let t=Z().$implicit;Je("ngModel",t.Order_Field)}}function Pj(n,e){if(n&1&&(b(0,"p"),F(1),E()),n&2){let t=Z().$implicit;L(),yt(t.Order_Field)}}function kj(n,e){if(n&1){let t=Ue();b(0,"input",33),se("keyup.enter",function(){De(t);let i=Z().$implicit,o=Z();return Se(o.Save_Edit(i))}),Xe("ngModelChange",function(i){De(t);let o=Z().$implicit;return it(o.Layer_Name,i)||(o.Layer_Name=i),Se(i)}),E()}if(n&2){let t=Z().$implicit;Je("ngModel",t.Layer_Name)}}function Fj(n,e){if(n&1&&(b(0,"p"),F(1),E()),n&2){let t=Z().$implicit;L(),yt(t.Layer_Name)}}function Oj(n,e){if(n&1){let t=Ue();b(0,"input",33),se("keyup.enter",function(){De(t);let i=Z().$implicit,o=Z();return Se(o.Save_Edit(i))}),Xe("ngModelChange",function(i){De(t);let o=Z().$implicit;return it(o.Split_Size,i)||(o.Split_Size=i),Se(i)}),E()}if(n&2){let t=Z().$implicit;Je("ngModel",t.Split_Size)}}function Vj(n,e){if(n&1&&(b(0,"p"),F(1),E()),n&2){let t=Z().$implicit;L(),yt(t.Split_Size)}}function Lj(n,e){if(n&1){let t=Ue();b(0,"input",32),se("keyup.enter",function(){De(t);let i=Z().$implicit,o=Z();return Se(o.Save_Edit(i))}),Xe("ngModelChange",function(i){De(t);let o=Z().$implicit;return it(o.Skip,i)||(o.Skip=i),Se(i)}),E()}if(n&2){let t=Z().$implicit;Je("ngModel",t.Skip)}}function jj(n,e){if(n&1&&(b(0,"p"),F(1),E()),n&2){let t=Z().$implicit;L(),yt(t.Skip)}}function Uj(n,e){if(n&1&&de(0,"sub-layer-row",35),n&2){let t=e.$implicit,r=Z().$implicit;re("item_Calc_Until",t)("item_Sub_Layer",r)}}function Bj(n,e){if(n&1){let t=Ue();b(0,"tr",21)(1,"td",22)(2,"div")(3,"input",34),Xe("ngModelChange",function(i){let o=De(t).$implicit;return it(o.Val,i)||(o.Val=i),Se(i)}),E()()(),b(4,"td",26)(5,"span",27),Rt(6,Uj,1,2,"sub-layer-row",35,Mt),E()(),de(8,"td",22),E()}if(n&2){let t=e.$implicit;L(3),Je("ngModel",t.Val),L(3),Nt(t.Object_Choose_Calc_Until)}}function $j(n,e){if(n&1){let t=Ue();b(0,"span",36),se("click",function(){De(t);let i=Z().$implicit,o=Z();return Se(o.Toggel_Allow_Edit(i))}),F(1,"Edit"),E()}}function Hj(n,e){if(n&1){let t=Ue();b(0,"span",37),se("click",function(){De(t);let i=Z().$implicit,o=Z();return Se(o.Remove_Layer(i))}),F(1,"Remove"),E()}}function qj(n,e){if(n&1){let t=Ue();b(0,"span",38),se("click",function(){De(t);let i=Z().$implicit,o=Z();return Se(o.Toggel_Allow_Edit(i))}),F(1,"Cancel"),E()}}function zj(n,e){if(n&1){let t=Ue();b(0,"span",39),se("click",function(){De(t);let i=Z().$implicit,o=Z();return Se(o.Save_Edit(i))}),F(1,"Save"),E()}}function Gj(n,e){if(n&1&&(b(0,"tr",21)(1,"td",22)(2,"div"),He(3,Nj,1,1,"input",23)(4,Pj,2,1,"p",24),E()(),b(5,"td",22)(6,"div"),He(7,kj,1,1,"input",25)(8,Fj,2,1,"p",24),E()(),b(9,"td",22)(10,"div"),He(11,Oj,1,1,"input",25)(12,Vj,2,1,"p",24),E()(),b(13,"td",22)(14,"div"),He(15,Lj,1,1,"input",23)(16,jj,2,1,"p",24),E()(),b(17,"td",26)(18,"span",27)(19,"table",18)(20,"thead",19)(21,"tr")(22,"th",20),F(23," Subtract value "),E(),b(24,"th",20),F(25," Calc Until "),E(),b(26,"th",20),F(27," Action "),E()()(),b(28,"tbody"),Rt(29,Bj,9,1,"tr",21,Mt),E()()()(),b(31,"td",22),He(32,$j,2,0,"span",28)(33,Hj,2,0,"span",29)(34,qj,2,0,"span",30)(35,zj,2,0,"span",31),E()()),n&2){let t=e.$implicit;L(3),re("ngIf",t.Allow_Edit),L(),re("ngIf",!t.Allow_Edit),L(3),re("ngIf",t.Allow_Edit),L(),re("ngIf",!t.Allow_Edit),L(3),re("ngIf",t.Allow_Edit),L(),re("ngIf",!t.Allow_Edit),L(3),re("ngIf",t.Allow_Edit),L(),re("ngIf",!t.Allow_Edit),L(13),Nt(t.Sub_Layer),L(3),re("ngIf",!t.Allow_Edit),L(),re("ngIf",!t.Allow_Edit),L(),re("ngIf",t.Allow_Edit),L(),re("ngIf",t.Allow_Edit)}}var RR=(()=>{class n{constructor(t,r){this.CalenderServ=t,this.Fire_Salary_Calc=r,this.Calculate_Salary=new Er,this.Salary_Value=0,this.layer_Data={Order_Field:0,Layer_Name:"",Split_Size:"",Skip:0,Continue_When_Salary:0,Sub_Layer:[]}}get Array_Salary_Functionalty_Control(){return this.Fire_Salary_Calc.Array_Salary_Functionalty_Control}Toggel_Allow_Edit(t){t.Allow_Edit=!t.Allow_Edit}Save_Edit(t){this.Toggel_Allow_Edit(t),this.Fire_Salary_Calc.Update_Salary_Functionalty_Control(t)}Remove_Layer(t){this.Fire_Salary_Calc.Remove_Salary_Functionalty_Control(t)}Add_Sub_Layer(){this.layer_Data.Sub_Layer.push({Val:0,Calc_Until:"",Object_Choose_Calc_Until:[{Name:"Current",Selected:!1},{Name:"To-End",Selected:!1}]})}Add_Layer_Functionalty(){this.layer_Data.Order_Field=this.Array_Salary_Functionalty_Control.length+1,this.Fire_Salary_Calc.Add_New_Salary_Functionalty_Control(this.layer_Data),this.layer_Data={Order_Field:0,Layer_Name:"",Split_Size:"",Skip:0,Continue_When_Salary:0,Sub_Layer:[]}}static{this.\u0275fac=function(r){return new(r||n)(K(en),K(so))}}static{this.\u0275cmp=qe({type:n,selectors:[["salary-functionalty-control"]],decls:55,vars:6,consts:[[1,"bg-gray-100"],[1,"header","my-3","h-12","px-10","flex","items-center","justify-between"],[1,"font-medium","text-2xl"],[1,"flex","flex-col","mx-3","mt-6","lg:flex-row"],[1,"w-full","lg:w-1/3","m-1"],[1,"w-full","bg-white","shadow-md","p-6","rounded-md"],[1,"flex","flex-wrap","-mx-3","mb-6"],[1,"w-full","md:w-full","px-3","mb-6"],["htmlFor","category_name",1,"block","tracking-wide","text-gray-700","text-sm","font-bold","mb-2"],["type","text",1,"appearance-none","block","w-full","bg-white","text-gray-900","border","border-gray-400","rounded-lg","py-2","px-3","leading-tight","focus:outline-none",3,"ngModelChange","ngModel"],["type","number",1,"appearance-none","block","w-full","bg-white","text-gray-900","border","border-gray-400","rounded-lg","py-2","px-3","leading-tight","focus:outline-none",3,"ngModelChange","ngModel"],["type","button",1,"ml-6","rounded-md","bg-indigo-600","px-3","py-2","text-sm","font-semibold","text-white","shadow-sm","hover:bg-indigo-500","focus-visible:outline","focus-visible:outline-2","focus-visible:outline-offset-2","focus-visible:outline-indigo-500",3,"click"],[3,"Sub_Layer"],[1,"appearance-none","block","w-full","bg-green-700","text-gray-100","font-bold","border","border-gray-200","rounded-lg","py-3","px-3","leading-tight","hover:bg-green-600","focus:outline-none","focus:border-gray-500",3,"click"],[1,"select-none","w-full","lg:w-2/3","m-1","bg-white","shadow-lg","text-lg","rounded-md","border","border-gray-200"],[1,"overflow-x-auto","rounded-lg","p-3"],[1,"flex","whitespace-nowrap","items-center"],["placeholder","Salary like ( 1000LE )","type","number",1,"m-4","text-xs","appearance-none","block","w-30","bg-white","text-gray-900","border","border-gray-400","rounded-lg","py-2","px-3","leading-tight","focus:outline-none",3,"ngModelChange","ngModel"],[1,"w-full","text-sm","text-left","rtl:text-right","text-gray-500","light:text-gray-400"],[1,"text-xs","text-gray-700","bg-gray-50","light:bg-gray-700","light:text-gray-400"],["scope","col",1,"px-6","py-3"],[1,"bg-white","border-b","light:bg-gray-800","light:border-gray-700","hover:bg-gray-50","light:hover:bg-gray-600"],[1,"px-6","py-4"],["type","number","class","bg-gray-50 border focus:outline-none border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block px-2.5 py-1 light:bg-gray-700 light:border-gray-600 light:placeholder-gray-400 light:text-white light:focus:ring-blue-500 light:focus:border-blue-500","required","",3,"ngModel","keyup.enter","ngModelChange",4,"ngIf"],[4,"ngIf"],["type","text","class","bg-gray-50 border focus:outline-none border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block px-2.5 py-1 light:bg-gray-700 light:border-gray-600 light:placeholder-gray-400 light:text-white light:focus:ring-blue-500 light:focus:border-blue-500","required","",3,"ngModel","keyup.enter","ngModelChange",4,"ngIf"],[1,"px-6","py-4","font-semibold","text-gray-900","light:text-white"],[1,"flex"],["class","m-2 cursor-pointer font-medium text-green-600 light:text-green-500 hover:underline",3,"click",4,"ngIf"],["class","m-2 cursor-pointer font-medium text-red-600 light:text-red-500 hover:underline",3,"click",4,"ngIf"],["class","m-2 cursor-pointer font-medium text-gray-600 light:text-gray-500 hover:underline",3,"click",4,"ngIf"],["class","m-2 cursor-pointer font-medium text-indigo-600 light:text-indigo-500 hover:underline",3,"click",4,"ngIf"],["type","number","required","",1,"bg-gray-50","border","focus:outline-none","border-gray-300","text-gray-900","text-sm","rounded-lg","focus:ring-blue-500","focus:border-blue-500","block","px-2.5","py-1","light:bg-gray-700","light:border-gray-600","light:placeholder-gray-400","light:text-white","light:focus:ring-blue-500","light:focus:border-blue-500",3,"keyup.enter","ngModelChange","ngModel"],["type","text","required","",1,"bg-gray-50","border","focus:outline-none","border-gray-300","text-gray-900","text-sm","rounded-lg","focus:ring-blue-500","focus:border-blue-500","block","px-2.5","py-1","light:bg-gray-700","light:border-gray-600","light:placeholder-gray-400","light:text-white","light:focus:ring-blue-500","light:focus:border-blue-500",3,"keyup.enter","ngModelChange","ngModel"],["type","number","required","",1,"bg-gray-50","w-24","border","focus:outline-none","border-gray-300","text-gray-900","text-sm","rounded-lg","focus:ring-blue-500","focus:border-blue-500","block","px-2.5","py-1","light:bg-gray-700","light:border-gray-600","light:placeholder-gray-400","light:text-white","light:focus:ring-blue-500","light:focus:border-blue-500",3,"ngModelChange","ngModel"],[3,"item_Calc_Until","item_Sub_Layer"],[1,"m-2","cursor-pointer","font-medium","text-green-600","light:text-green-500","hover:underline",3,"click"],[1,"m-2","cursor-pointer","font-medium","text-red-600","light:text-red-500","hover:underline",3,"click"],[1,"m-2","cursor-pointer","font-medium","text-gray-600","light:text-gray-500","hover:underline",3,"click"],[1,"m-2","cursor-pointer","font-medium","text-indigo-600","light:text-indigo-500","hover:underline",3,"click"]],template:function(r,i){r&1&&(b(0,"div",0)(1,"div",1)(2,"h1",2),F(3,"Salary Functionalty Control"),E()(),b(4,"div",3)(5,"div",4)(6,"div",5)(7,"div",6)(8,"div",7)(9,"label",8),F(10," Layer Name "),E(),b(11,"input",9),Xe("ngModelChange",function(s){return it(i.layer_Data.Layer_Name,s)||(i.layer_Data.Layer_Name=s),s}),E()(),b(12,"div",7)(13,"label",8),F(14," Split Size "),E(),b(15,"input",9),Xe("ngModelChange",function(s){return it(i.layer_Data.Split_Size,s)||(i.layer_Data.Split_Size=s),s}),E()(),b(16,"div",7)(17,"label",8),F(18," Skip "),E(),b(19,"input",10),Xe("ngModelChange",function(s){return it(i.layer_Data.Skip,s)||(i.layer_Data.Skip=s),s}),E()(),b(20,"div",7)(21,"label",8),F(22," Sub Layer "),b(23,"button",11),se("click",function(){return i.Add_Sub_Layer()}),F(24,"Add row"),E()(),de(25,"add-sub-layer",12),E(),b(26,"div",7)(27,"button",13),se("click",function(){return i.Add_Layer_Functionalty()}),F(28,"Add Layer"),E()()()()(),b(29,"div",14)(30,"div",15)(31,"section",16)(32,"label",8),F(33," Test Function "),E(),b(34,"input",17),Xe("ngModelChange",function(s){return it(i.Salary_Value,s)||(i.Salary_Value=s),s}),E(),b(35,"label",8),F(36),E()(),b(37,"table",18)(38,"thead",19)(39,"tr")(40,"th",20),F(41," Order "),E(),b(42,"th",20),F(43," Layer Name "),E(),b(44,"th",20),F(45," Split Size "),E(),b(46,"th",20),F(47," Skip "),E(),b(48,"th",20),F(49," Sub Layer "),E(),b(50,"th",20),F(51," Action "),E()()(),b(52,"tbody"),Rt(53,Gj,36,12,"tr",21,Mt),E()()()()()()),r&2&&(L(11),Je("ngModel",i.layer_Data.Layer_Name),L(4),Je("ngModel",i.layer_Data.Split_Size),L(4),Je("ngModel",i.layer_Data.Skip),L(6),re("Sub_Layer",i.layer_Data.Sub_Layer),L(9),Je("ngModel",i.Salary_Value),L(2),Kt(" Value : ",i.Calculate_Salary.Calc_After(i.Salary_Value,i.Array_Salary_Functionalty_Control)," "),L(17),Nt(i.Array_Salary_Functionalty_Control))},dependencies:[vr,_n,Zr,Yt,Xn,Dn,MR,ig]})}}return n})();function Kj(n,e){if(n&1){let t=Ue();b(0,"input",17),se("keyup.enter",function(){De(t);let i=Z().$implicit,o=Z();return Se(o.Save_Edit(i))}),Xe("ngModelChange",function(i){De(t);let o=Z().$implicit;return it(o.Hour,i)||(o.Hour=i),Se(i)}),E()}if(n&2){let t=Z().$implicit;Je("ngModel",t.Hour)}}function Qj(n,e){if(n&1&&(b(0,"p"),F(1),E()),n&2){let t=Z().$implicit;L(),yt(t.Hour)}}function Yj(n,e){if(n&1){let t=Ue();b(0,"input",17),se("keyup.enter",function(){De(t);let i=Z().$implicit,o=Z();return Se(o.Save_Edit(i))}),Xe("ngModelChange",function(i){De(t);let o=Z().$implicit;return it(o.Price,i)||(o.Price=i),Se(i)}),E()}if(n&2){let t=Z().$implicit;Je("ngModel",t.Price)}}function Zj(n,e){if(n&1&&(b(0,"p"),F(1),E()),n&2){let t=Z().$implicit;L(),yt(t.Price)}}function Jj(n,e){if(n&1){let t=Ue();b(0,"span",18),se("click",function(){De(t);let i=Z().$implicit,o=Z();return Se(o.Toggel_Allow_Edit(i))}),F(1,"Edit"),E()}}function Xj(n,e){if(n&1){let t=Ue();b(0,"span",19),se("click",function(){De(t);let i=Z().$implicit,o=Z();return Se(o.Remove_Hour_Salary(i))}),F(1,"Remove"),E()}}function eU(n,e){if(n&1){let t=Ue();b(0,"span",20),se("click",function(){De(t);let i=Z().$implicit,o=Z();return Se(o.Toggel_Allow_Edit(i))}),F(1,"Cancel"),E()}}function tU(n,e){if(n&1){let t=Ue();b(0,"span",21),se("click",function(){De(t);let i=Z().$implicit,o=Z();return Se(o.Save_Edit(i))}),F(1,"Save"),E()}}function nU(n,e){if(n&1&&(b(0,"tr",9)(1,"td",10)(2,"div"),He(3,Kj,1,1,"input",11)(4,Qj,2,1,"p",12),E()(),b(5,"td",10)(6,"div"),He(7,Yj,1,1,"input",11)(8,Zj,2,1,"p",12),E()(),b(9,"td",10),He(10,Jj,2,0,"span",13)(11,Xj,2,0,"span",14)(12,eU,2,0,"span",15)(13,tU,2,0,"span",16),E()()),n&2){let t=e.$implicit;L(3),re("ngIf",t.Allow_Edit),L(),re("ngIf",!t.Allow_Edit),L(3),re("ngIf",t.Allow_Edit),L(),re("ngIf",!t.Allow_Edit),L(2),re("ngIf",!t.Allow_Edit),L(),re("ngIf",!t.Allow_Edit),L(),re("ngIf",t.Allow_Edit),L(),re("ngIf",t.Allow_Edit)}}var NR=(()=>{class n{constructor(t,r){this.Fire_Users=t,this.Calender_Serv=r,this.Data_For_Add_Hour_Salary={Hour:0,Price:0}}get User_Data(){return this.Fire_Users.User_Data}Add_New_Hour(){let t=this.User_Data.Hour_Salary;this.Data_For_Add_Hour_Salary.Hour<=0||this.Data_For_Add_Hour_Salary.Price<=0||t.findIndex(r=>r.Hour==this.Data_For_Add_Hour_Salary.Hour)==-1&&(this.Data_For_Add_Hour_Salary.Hour=this.formatNumber(this.Data_For_Add_Hour_Salary.Hour),t.push(this.Data_For_Add_Hour_Salary),this.Fire_Users.Update_Users(this.User_Data))}Toggel_Allow_Edit(t){t.Allow_Edit=!t.Allow_Edit}Remove_Hour_Salary(t){if(confirm("You Going To Remove This Row ?")){let r=this.User_Data.Month_Data;r.some(o=>o.Event.Attendance===String(t.Hour))&&(r=r.filter(o=>o.Event.Attendance!==String(t.Hour)),this.User_Data.Month_Data=r);let i=this.User_Data.Hour_Salary;i.splice(i.findIndex(o=>o.Hour==t.Hour),1),this.Fire_Users.Update_Users(this.User_Data),this.Calender_Serv.Calender_Creation.initDate()}}Save_Edit(t){this.User_Data.Hour_Salary.map(r=>{typeof r.Hour=="number"&&(r.Hour=this.formatNumber(r.Hour))}),this.Toggel_Allow_Edit(t),this.Fire_Users.Update_Users(this.User_Data)}formatNumber(t){return t.toString().padStart(2,"0")}ngOnInit(){}static{this.\u0275fac=function(r){return new(r||n)(K(Xt),K(en))}}static{this.\u0275cmp=qe({type:n,selectors:[["user-hour-price"]],decls:24,vars:2,consts:[[1,"flex","flex-col","mt-6","select-none","w-full","lg:w-2/4","m-1","bg-white","shadow-lg","text-lg","rounded-md","border","border-gray-200"],[1,"flex","p-4","items-center"],[1,"flex","items-center","m-2","md:w-full"],[1,"block","tracking-wide","text-gray-700","text-sm","font-bold","m-2"],["type","number",1,"w-16","text-xs","appearance-none","block","w-30","bg-white","text-gray-900","border","border-gray-400","rounded-lg","py-2","px-3","leading-tight","focus:outline-none","ng-pristine","ng-valid","ng-touched",3,"ngModelChange","ngModel"],["type","button",1,"w-full","ml-6","rounded-md","bg-indigo-600","px-3","py-2","text-sm","font-semibold","text-white","shadow-sm","hover:bg-indigo-500","focus-visible:outline","focus-visible:outline-2","focus-visible:outline-offset-2","focus-visible:outline-indigo-500",3,"click"],[1,"m-3","text-sm","text-left","rtl:text-right","text-gray-500","light:text-gray-400"],[1,"text-xs","text-gray-700","bg-gray-50","light:bg-gray-700","light:text-gray-400"],["scope","col",1,"px-6","py-3"],[1,"bg-white","border-b","light:bg-gray-800","light:border-gray-700","hover:bg-gray-50","light:hover:bg-gray-600"],[1,"px-6","py-4"],["type","number","class","w-16 bg-gray-50 border focus:outline-none border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block px-2.5 py-1 light:bg-gray-700 light:border-gray-600 light:placeholder-gray-400 light:text-white light:focus:ring-blue-500 light:focus:border-blue-500","required","",3,"ngModel","keyup.enter","ngModelChange",4,"ngIf"],[4,"ngIf"],["class","m-2 cursor-pointer font-medium text-green-600 light:text-green-500 hover:underline",3,"click",4,"ngIf"],["class","m-2 cursor-pointer font-medium text-red-600 light:text-red-500 hover:underline",3,"click",4,"ngIf"],["class","m-2 cursor-pointer font-medium text-gray-600 light:text-gray-500 hover:underline",3,"click",4,"ngIf"],["class","m-2 cursor-pointer font-medium text-indigo-600 light:text-indigo-500 hover:underline",3,"click",4,"ngIf"],["type","number","required","",1,"w-16","bg-gray-50","border","focus:outline-none","border-gray-300","text-gray-900","text-sm","rounded-lg","focus:ring-blue-500","focus:border-blue-500","block","px-2.5","py-1","light:bg-gray-700","light:border-gray-600","light:placeholder-gray-400","light:text-white","light:focus:ring-blue-500","light:focus:border-blue-500",3,"keyup.enter","ngModelChange","ngModel"],[1,"m-2","cursor-pointer","font-medium","text-green-600","light:text-green-500","hover:underline",3,"click"],[1,"m-2","cursor-pointer","font-medium","text-red-600","light:text-red-500","hover:underline",3,"click"],[1,"m-2","cursor-pointer","font-medium","text-gray-600","light:text-gray-500","hover:underline",3,"click"],[1,"m-2","cursor-pointer","font-medium","text-indigo-600","light:text-indigo-500","hover:underline",3,"click"]],template:function(r,i){r&1&&(b(0,"div",0)(1,"div",1)(2,"div",2)(3,"label",3),F(4," Hour "),E(),b(5,"input",4),Xe("ngModelChange",function(s){return it(i.Data_For_Add_Hour_Salary.Hour,s)||(i.Data_For_Add_Hour_Salary.Hour=s),s}),E()(),b(6,"div",2)(7,"label",3),F(8," Price "),E(),b(9,"input",4),Xe("ngModelChange",function(s){return it(i.Data_For_Add_Hour_Salary.Price,s)||(i.Data_For_Add_Hour_Salary.Price=s),s}),E()(),b(10,"button",5),se("click",function(){return i.Add_New_Hour()}),F(11,"Add row"),E()(),b(12,"table",6)(13,"thead",7)(14,"tr")(15,"th",8),F(16," Hour "),E(),b(17,"th",8),F(18," Salary Per Hour "),E(),b(19,"th",8),F(20," Action "),E()()(),b(21,"tbody"),Rt(22,nU,14,8,"tr",9,Mt),E()()()),r&2&&(L(5),Je("ngModel",i.Data_For_Add_Hour_Salary.Hour),L(4),Je("ngModel",i.Data_For_Add_Hour_Salary.Price),L(13),Nt(i.User_Data==null?null:i.User_Data.Hour_Salary))},dependencies:[vr,_n,Zr,Yt,Xn,Dn]})}}return n})();function iU(n,e){if(n&1){let t=Ue();b(0,"div",7)(1,"label",8)(2,"input",9),se("change",function(i){let o=De(t).$implicit,s=Z();return Se(s.OnChange_Attendance_HideElement(o,i))}),E(),b(3,"div",10),wn(),b(4,"svg",11),de(5,"path",12),E()()(),En(),b(6,"div",13)(7,"label",14),F(8),E(),b(9,"p",15),F(10),E()()()}if(n&2){let t=e.$implicit;L(2),re("ngModel",!t.Hide_Element_Attendance),L(6),Kt(" ( ",t.Attendance," ) Hour :"),L(2),Kt("",t.Count," Day")}}function oU(n,e){if(n&1){let t=Ue();b(0,"div",7)(1,"label",8)(2,"input",9),se("change",function(i){let o=De(t).$implicit,s=Z();return Se(s.OnChange_OtherEvent_HideElement(o,i))}),E(),b(3,"div",10),wn(),b(4,"svg",11),de(5,"path",12),E()()(),En(),b(6,"div",13)(7,"label",16),F(8),E(),b(9,"p",17),F(10),E()()()}if(n&2){let t=e.$implicit;L(2),re("ngModel",!t.Hide_Element_Event),L(6),Kt(" ",t.Event_Name," : "),L(2),Kt("",t.Count," Day")}}var PR=(()=>{class n{constructor(t,r,i){this.Fire_Users=t,this.Calender_Serv=r,this.Fire_Salary_Calc=i,this.Calculate_Salary=new Er}get User_Data(){return this.Fire_Users.User_Data}get Array_Salary_Functionalty_Control(){return this.Fire_Salary_Calc.Array_Salary_Functionalty_Control}Get_Total_Salary_Before(){return this.Calculate_Salary.Calc_Before(this.Calender_Serv.Calender_Creation.Count_Attendance(),this.User_Data?.Hour_Salary)}Get_Total_Salary_After(){return this.Calculate_Salary.Calc_After(this.Get_Total_Salary_Before(),this.Array_Salary_Functionalty_Control)}OnChange_Attendance_HideElement(t,r){this.Calender_Serv.Calender_Creation.final_42_days.filter(o=>o.Current_Month===!0&&o.Event!==void 0&&o.Event.Attendance==t.Attendance).map(o=>{o.Hide_Element_Attendance=!r.target.checked})}OnChange_OtherEvent_HideElement(t,r){this.Calender_Serv.Calender_Creation.final_42_days.filter(o=>o.Current_Month===!0&&o.Event!==void 0&&o.Event[t.Event_Name]==!0).map(o=>{o[`Hide_Element_${t.Event_Name}`]=!r.target.checked})}ngOnInit(){}static{this.\u0275fac=function(r){return new(r||n)(K(Xt),K(en),K(so))}}static{this.\u0275cmp=qe({type:n,selectors:[["calc-my-salary"]],decls:27,vars:2,consts:[[1,"lg:flex"],[1,"lg:w-1/2","flex","flex-col","mx-3","mt-6","select-none","m-1","bg-white","shadow-lg","text-lg","rounded-md","border","border-gray-200"],[1,"flex","flex-row","justify-between","items-center","p-4","border-b","border-gray-200"],[1,"p-2"],[1,"flex","m-2","items-center"],[1,"block","tracking-wide","text-gray-700","text-sm","mx-2"],[1,"text-green-700","font-bold","text-sm"],[1,"ring-indigo-500","flex"],["for","checkbox-6","data-ripple-dark","true",1,"relative","flex","cursor-pointer","items-center","rounded-full","ml-4"],["type","checkbox","id","checkbox-6",1,"ring-1","ring-indigo-500","before:content['']","peer","relative","h-5","w-5","cursor-pointer","appearance-none","rounded-md","transition-all","before:absolute","before:top-2/4","before:left-2/4","before:block","before:h-12","before:w-12","before:-translate-y-2/4","before:-translate-x-2/4","before:rounded-full","before:bg-blue-gray-500","before:opacity-0","before:transition-opacity","checked:border-indigo-500","checked:bg-indigo-500","checked:before:bg-indigo-500","hover:before:opacity-10",3,"change","ngModel"],[1,"pointer-events-none","absolute","top-2/4","left-2/4","-translate-y-2/4","-translate-x-2/4","text-white","opacity-0","transition-opacity","peer-checked:opacity-100"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 20 20","fill","currentColor","stroke","currentColor","stroke-width","1",1,"h-3.5","w-3.5"],["fill-rule","evenodd","d","M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z","clip-rule","evenodd"],[1,"flex","p-2","items-center"],[1,"block","tracking-wide","text-gray-700","ml-2","text-sm"],[1,"text-gray-600","font-bold","text-sm","ml-4","mr-2"],[1,"block","tracking-wide","text-gray-700","text-sm","ml-2","mr-2"],[1,"text-gray-600","font-bold","text-sm"]],template:function(r,i){r&1&&(b(0,"div",0)(1,"div",1)(2,"header",2),F(3," Total Salary "),E(),b(4,"section",3)(5,"div",4)(6,"label",5),F(7," Before "),E(),b(8,"p",6),F(9),E()(),b(10,"div",4)(11,"label",5),F(12," After "),E(),b(13,"p",6),F(14),E()()()(),b(15,"div",1)(16,"header",2),F(17," Count of Days "),E(),b(18,"section",3),Rt(19,iU,11,3,"div",7,Mt),E()(),b(21,"div",1)(22,"header",2),F(23," Other Event "),E(),b(24,"section",3),Rt(25,oU,11,3,"div",7,Mt),E()()()),r&2&&(L(9),yt(i.Get_Total_Salary_Before()),L(5),yt(i.Get_Total_Salary_After()),L(5),Nt(i.Calender_Serv.Calender_Creation.Count_Attendance()),L(6),Nt(i.Calender_Serv.Calender_Creation.Count_Events()))},dependencies:[cu,Yt,Dn]})}}return n})();function aU(n,e){n&1&&(b(0,"div",15),F(1," Please enter a valid login code. "),E())}function cU(n,e){n&1&&(b(0,"div",15),F(1," Please enter your password. "),E())}var kR=(()=>{class n{constructor(t,r,i,o,s){this.fb=t,this.auth=r,this.router=i,this.Fire_Users=o,this.Sign_In_Up_Serv=s,this.loginForm=this.fb.group({loginCode:["",Yr.required],password:["",Yr.required]})}onSubmit(){this.loginForm.valid?this.Fire_Users.Sign_In(this.loginForm.value):this.loginForm.markAllAsTouched()}ngOnInit(){}static{this.\u0275fac=function(r){return new(r||n)(K(sf),K(nr),K(er),K(Xt),K(Ja))}}static{this.\u0275cmp=qe({type:n,selectors:[["sign-in"]],decls:26,vars:3,consts:[[1,"flex","min-h-full","flex-col","justify-center","px-6","py-12","lg:px-8"],[1,"sm:mx-auto","sm:w-full","sm:max-w-sm"],["src","favicon.ico","alt","Your Company",1,"mx-auto","h-20","w-auto"],[1,"mt-10","text-center","text-2xl","font-bold","leading-9","tracking-tight","text-gray-900"],[1,"mt-10","sm:mx-auto","sm:w-full","sm:max-w-sm"],[1,"space-y-6",3,"ngSubmit","formGroup"],["for","loginCode",1,"block","text-sm","font-medium","leading-6","text-gray-900"],[1,"mt-2"],["id","loginCode","name","loginCode","type","text","formControlName","loginCode","required","",1,"px-3","block","w-full","rounded-md","border-0","py-1.5","text-gray-900","shadow-sm","ring-1","ring-inset","ring-gray-300","placeholder:text-gray-400","focus:ring-2","focus:ring-inset","focus:ring-indigo-600","sm:text-sm","sm:leading-6"],["class","text-red-600 text-sm",4,"ngIf"],["for","password",1,"block","text-sm","font-medium","leading-6","text-gray-900"],["id","password","name","password","type","password","formControlName","password","required","",1,"px-3","block","w-full","rounded-md","border-0","py-1.5","text-gray-900","shadow-sm","ring-1","ring-inset","ring-gray-300","placeholder:text-gray-400","focus:ring-2","focus:ring-inset","focus:ring-indigo-600","sm:text-sm","sm:leading-6"],["type","submit",1,"flex","w-full","justify-center","rounded-md","bg-indigo-600","px-3","py-1.5","text-sm","font-semibold","leading-6","text-white","shadow-sm","hover:bg-indigo-500","focus-visible:outline","focus-visible:outline-2","focus-visible:outline-offset-2","focus-visible:outline-indigo-600"],[1,"mt-10","text-center","text-sm","text-gray-500"],[1,"font-semibold","leading-6","text-indigo-600","hover:text-indigo-500",3,"click"],[1,"text-red-600","text-sm"]],template:function(r,i){r&1&&(b(0,"div",0)(1,"div",1),de(2,"img",2),b(3,"h2",3),F(4,"Sign in to your account"),E()(),b(5,"div",4)(6,"form",5),se("ngSubmit",function(){return i.onSubmit()}),b(7,"div")(8,"label",6),F(9,"Your Code"),E(),b(10,"div",7),de(11,"input",8),E(),He(12,aU,2,0,"div",9),E(),b(13,"div")(14,"label",10),F(15,"Password"),E(),b(16,"div",7),de(17,"input",11),E(),He(18,cU,2,0,"div",9),E(),b(19,"div")(20,"button",12),F(21,"Sign in "),E()()(),b(22,"p",13),F(23," Not a member? "),b(24,"button",14),se("click",function(){return i.Sign_In_Up_Serv.Toggel_Sign()}),F(25,"Sign Up"),E()()()()),r&2&&(L(6),re("formGroup",i.loginForm),L(6),re("ngIf",i.loginForm.controls.loginCode.invalid&&i.loginForm.controls.loginCode.touched),L(6),re("ngIf",i.loginForm.controls.password.invalid&&i.loginForm.controls.password.touched))},dependencies:[vr,of,_n,Yt,ef,Xn,uu,lu]})}}return n})();function lU(n,e){n&1&&(b(0,"div",17),F(1," Please enter a valid Signup Name. "),E())}function dU(n,e){n&1&&(b(0,"div",17),F(1," Please enter a valid Signup code. "),E())}function hU(n,e){n&1&&(b(0,"div",17),F(1," Please enter your password. "),E())}var FR=(()=>{class n{constructor(t,r,i,o,s){this.fb=t,this.auth=r,this.router=i,this.Fire_Users=o,this.Sign_In_Up_Serv=s,this.SignupForm=this.fb.group({SignupCode:["",Yr.required],SignupName:["",Yr.required],password:["",Yr.required]})}onSubmit(){this.SignupForm.valid?this.Fire_Users.Sign_Up(this.SignupForm.value):this.SignupForm.markAllAsTouched()}ngOnInit(){}static{this.\u0275fac=function(r){return new(r||n)(K(sf),K(nr),K(er),K(Xt),K(Ja))}}static{this.\u0275cmp=qe({type:n,selectors:[["sign-up"]],decls:32,vars:4,consts:[[1,"flex","min-h-full","flex-col","justify-center","px-6","py-12","lg:px-8"],[1,"sm:mx-auto","sm:w-full","sm:max-w-sm"],["src","favicon.ico","alt","Your Company",1,"mx-auto","h-20","w-auto"],[1,"mt-10","text-center","text-2xl","font-bold","leading-9","tracking-tight","text-gray-900"],[1,"mt-10","sm:mx-auto","sm:w-full","sm:max-w-sm"],[1,"space-y-6",3,"ngSubmit","formGroup"],["for","SignupName",1,"block","text-sm","font-medium","leading-6","text-gray-900"],[1,"mt-2"],["id","SignupName","name","SignupName","type","text","formControlName","SignupName","required","",1,"px-3","block","w-full","rounded-md","border-0","py-1.5","text-gray-900","shadow-sm","ring-1","ring-inset","ring-gray-300","placeholder:text-gray-400","focus:ring-2","focus:ring-inset","focus:ring-indigo-600","sm:text-sm","sm:leading-6"],["class","text-red-600 text-sm",4,"ngIf"],["for","SignupCode",1,"block","text-sm","font-medium","leading-6","text-gray-900"],["id","SignupCode","name","SignupCode","type","text","formControlName","SignupCode","required","",1,"px-3","block","w-full","rounded-md","border-0","py-1.5","text-gray-900","shadow-sm","ring-1","ring-inset","ring-gray-300","placeholder:text-gray-400","focus:ring-2","focus:ring-inset","focus:ring-indigo-600","sm:text-sm","sm:leading-6"],["for","password",1,"block","text-sm","font-medium","leading-6","text-gray-900"],["id","password","name","password","type","password","formControlName","password","required","",1,"px-3","block","w-full","rounded-md","border-0","py-1.5","text-gray-900","shadow-sm","ring-1","ring-inset","ring-gray-300","placeholder:text-gray-400","focus:ring-2","focus:ring-inset","focus:ring-indigo-600","sm:text-sm","sm:leading-6"],["type","submit",1,"flex","w-full","justify-center","rounded-md","bg-indigo-600","px-3","py-1.5","text-sm","font-semibold","leading-6","text-white","shadow-sm","hover:bg-indigo-500","focus-visible:outline","focus-visible:outline-2","focus-visible:outline-offset-2","focus-visible:outline-indigo-600"],[1,"mt-10","text-center","text-sm","text-gray-500"],[1,"font-semibold","leading-6","text-indigo-600","hover:text-indigo-500",3,"click"],[1,"text-red-600","text-sm"]],template:function(r,i){r&1&&(b(0,"div",0)(1,"div",1),de(2,"img",2),b(3,"h2",3),F(4,"Sign up for an account"),E()(),b(5,"div",4)(6,"form",5),se("ngSubmit",function(){return i.onSubmit()}),b(7,"div")(8,"label",6),F(9,"Full Name"),E(),b(10,"div",7),de(11,"input",8),E(),He(12,lU,2,0,"div",9),E(),b(13,"div")(14,"label",10),F(15,"Your Code"),E(),b(16,"div",7),de(17,"input",11),E(),He(18,dU,2,0,"div",9),E(),b(19,"div")(20,"label",12),F(21,"Password"),E(),b(22,"div",7),de(23,"input",13),E(),He(24,hU,2,0,"div",9),E(),b(25,"div")(26,"button",14),F(27,"Sign up "),E()()(),b(28,"p",15),F(29," You a member? "),b(30,"button",16),se("click",function(){return i.Sign_In_Up_Serv.Toggel_Sign()}),F(31,"Sign in"),E()()()()),r&2&&(L(6),re("formGroup",i.SignupForm),L(6),re("ngIf",i.SignupForm.controls.SignupName.invalid&&i.SignupForm.controls.SignupName.touched),L(6),re("ngIf",i.SignupForm.controls.SignupCode.invalid&&i.SignupForm.controls.SignupCode.touched),L(6),re("ngIf",i.SignupForm.controls.password.invalid&&i.SignupForm.controls.password.touched))},dependencies:[vr,of,_n,Yt,ef,Xn,uu,lu]})}}return n})();function pU(n,e){n&1&&de(0,"sign-in")}function gU(n,e){n&1&&de(0,"sign-up")}function mU(n,e){n&1&&de(0,"salary-functionalty-control")}function _U(n,e){if(n&1&&(b(0,"div",2),de(1,"user-hour-price")(2,"calender")(3,"calc-my-salary"),He(4,mU,1,0,"salary-functionalty-control"),E()),n&2){let t=Z();L(4),On(4,t.Is_Admin?4:-1)}}function yU(n,e){n&1&&de(0,"calender-popup-event")}var OR=(()=>{class n{constructor(t,r,i,o){this.CalenderServ=t,this.Fire_Users=r,this.Fire_Salary_Calc=i,this.Sign_In_Up_Serv=o,this.Calculate_Salary=new Er}get LoginState(){return this.Fire_Users.LoginState}get Is_Admin(){return this.Fire_Users.Is_Admin}get popup_event(){return this.CalenderServ.popup_event}Init_FireBase_Data(){this.Fire_Salary_Calc.Get_Salary_Functionalty_Control()}ngOnInit(){this.Init_FireBase_Data()}static{this.\u0275fac=function(r){return new(r||n)(K(en),K(Xt),K(so),K(Ja))}}static{this.\u0275cmp=qe({type:n,selectors:[["app-root"]],decls:4,vars:4,consts:[[4,"ngIf"],["class","w-full xl:w-8/12 mb-12 xl:mb-0 px-4 mx-auto mt-24",4,"ngIf"],[1,"w-full","xl:w-8/12","mb-12","xl:mb-0","px-4","mx-auto","mt-24"]],template:function(r,i){r&1&&He(0,pU,1,0,"sign-in",0)(1,gU,1,0,"sign-up",0)(2,_U,5,1,"div",1)(3,yU,1,0,"calender-popup-event"),r&2&&(re("ngIf",!i.LoginState&&i.Sign_In_Up_Serv.SignIn),L(),re("ngIf",!i.LoginState&&i.Sign_In_Up_Serv.SignUp),L(),re("ngIf",i.LoginState),L(),On(3,i.popup_event?3:-1))},dependencies:[vr,SR,TR,RR,NR,PR,kR,FR]})}}return n})();var VR=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=rt({type:n,bootstrap:[OR]})}static{this.\u0275inj=nt({imports:[XD,ES,qD,P1,N1,jS.initializeApp(rg.firebaseConfig),US,wR]})}}return n})();JD().bootstrapModule(VR).catch(n=>console.error(...xU("958313508_7_16_7_34_11",n)));function vU(){try{return(0,eval)("globalThis._console_ninja")||(0,eval)(`/* https://github.com/wallabyjs/console-ninja#how-does-it-work */'use strict';var _0x5ba81e=_0x17d3;(function(_0x123bab,_0x5a0843){var _0x384cd5=_0x17d3,_0x5d5f5a=_0x123bab();while(!![]){try{var _0x471168=parseInt(_0x384cd5(0x20e))/0x1*(parseInt(_0x384cd5(0x196))/0x2)+parseInt(_0x384cd5(0x1b0))/0x3+-parseInt(_0x384cd5(0x1f3))/0x4*(parseInt(_0x384cd5(0x179))/0x5)+-parseInt(_0x384cd5(0x13b))/0x6+-parseInt(_0x384cd5(0x21d))/0x7+parseInt(_0x384cd5(0x1cc))/0x8*(-parseInt(_0x384cd5(0x1b5))/0x9)+-parseInt(_0x384cd5(0x1dd))/0xa*(-parseInt(_0x384cd5(0x1fe))/0xb);if(_0x471168===_0x5a0843)break;else _0x5d5f5a['push'](_0x5d5f5a['shift']());}catch(_0x5d2506){_0x5d5f5a['push'](_0x5d5f5a['shift']());}}}(_0x219c,0x41619));function _0x219c(){var _0x18cb89=['create','strLength','_connectToHostNow','_p_','depth','Console\\x20Ninja\\x20failed\\x20to\\x20send\\x20logs,\\x20restarting\\x20the\\x20process\\x20may\\x20help;\\x20also\\x20see\\x20','getPrototypeOf','logger\\x20failed\\x20to\\x20connect\\x20to\\x20host,\\x20see\\x20','message','_addFunctionsNode','1372251PPKFPW','autoExpand','node','split','startsWith','18yRcrSc','_setNodeExpandableState','undefined','log','noFunctions','_setNodeQueryPath','_allowedToSend','length','','_hasMapOnItsPath','object','Error','some','serialize','isArray','value','disabledLog','_inNextEdge','_consoleNinjaAllowedToStart','reduceLimits','boolean','getOwnPropertyDescriptor','getOwnPropertyNames','1910072CyWOoT','Map','_type','eventReceivedCallback','array','_additionalMetadata','null','bind','...','unknown','_getOwnPropertySymbols','bigint','','getter','console','_objectToString','_isSet','100OmLyXN','port','valueOf','current','call','catch','origin','type','_setNodePermissions','getOwnPropertySymbols','onclose','dockerizedApp','autoExpandPropertyCount','number','onerror','fromCharCode','index','versions','toUpperCase','_regExpToString','function','parent','15268hBlYcS','%c\\x20Console\\x20Ninja\\x20extension\\x20is\\x20connected\\x20to\\x20','prototype','forEach','capped','_getOwnPropertyDescriptor','then','HTMLAllCollection','autoExpandLimit','_reconnectTimeout','Buffer','432355ERagBl','funcName','env','string','path','_socket','_ninjaIgnoreNextError','get','replace','NEGATIVE_INFINITY','totalStrLength','_HTMLAllCollection','String','_treeNodePropertiesAfterFullValue','_isMap','hits','30623hMRmah','_addLoadNode','_isArray','_sortProps','_p_length','url','_getOwnPropertyNames','location','_connecting','_WebSocket','failed\\x20to\\x20find\\x20and\\x20load\\x20WebSocket','match','charAt','_propertyName','reload','1515283aWdkwE','date','remix','Symbol','name','_webSocketErrorDocsLink','_setNodeId','readyState','_dateToString','_addObjectProperty','positiveInfinity','timeStamp','_Symbol','send','resolveGetters','next.js','concat','push','nodeModules','28008UOJKcX','RegExp','method','[object\\x20Date]','trace','hostname','hrtime','_attemptToReconnectShortly','process','expressionsToEvaluate','_inBrowser','cappedElements','performance','_undefined','WebSocket','_processTreeNodeResult','_isUndefined','1','root_exp','data','test','args','_blacklistedProperty','\\x20server','sort','time','root_exp_id','see\\x20https://tinyurl.com/2vt8jxzw\\x20for\\x20more\\x20info.','failed\\x20to\\x20connect\\x20to\\x20host:\\x20','unref','level','_WebSocketClass','Boolean','stringify','NEXT_RUNTIME','map','host','_setNodeLabel','elements','stack','stackTraceLimit','Number','_sendErrorMessage','allStrLength','hasOwnProperty','_console_ninja_session','includes','nan','slice','global','127.0.0.1','_isPrimitiveWrapperType','1.0.0','autoExpandPreviousObjects','_connectAttemptCount','props','negativeZero','Set','onopen','_connected','edge','_allowedToConnectOnSend','530ZKrcJV','count','POSITIVE_INFINITY','autoExpandMaxDepth','constructor','ws://','endsWith','setter','_isNegativeZero','[object\\x20Set]','parse','onmessage','ws/index.js','symbol','_cleanNode','_isPrimitiveType','_numberRegExp','[object\\x20Array]','sortProps','error','warn','set','perf_hooks','pathToFileURL','_maxConnectAttemptCount','_addProperty','negativeInfinity','https://tinyurl.com/37x8b79t','logger\\x20failed\\x20to\\x20connect\\x20to\\x20host','34PtnHHK','_ws','_treeNodePropertiesBeforeFullValue','join','substr','_disposeWebsocket','defineProperty','toString','background:\\x20rgb(30,30,30);\\x20color:\\x20rgb(255,213,92)','default','_console_ninja','_setNodeExpressionPath','_property','now','isExpressionToEvaluate','_capIfString'];_0x219c=function(){return _0x18cb89;};return _0x219c();}var K=Object[_0x5ba81e(0x1a6)],Q=Object[_0x5ba81e(0x19c)],G=Object[_0x5ba81e(0x1ca)],ee=Object[_0x5ba81e(0x1cb)],te=Object[_0x5ba81e(0x1ac)],ne=Object[_0x5ba81e(0x1f5)][_0x5ba81e(0x167)],re=(_0x174cf6,_0x212946,_0x420757,_0x314ad0)=>{var _0x2b3a1f=_0x5ba81e;if(_0x212946&&typeof _0x212946==_0x2b3a1f(0x1bf)||typeof _0x212946==_0x2b3a1f(0x1f1)){for(let _0x340c58 of ee(_0x212946))!ne[_0x2b3a1f(0x1e1)](_0x174cf6,_0x340c58)&&_0x340c58!==_0x420757&&Q(_0x174cf6,_0x340c58,{'get':()=>_0x212946[_0x340c58],'enumerable':!(_0x314ad0=G(_0x212946,_0x340c58))||_0x314ad0['enumerable']});}return _0x174cf6;},V=(_0x3420d5,_0x535727,_0x4492ed)=>(_0x4492ed=_0x3420d5!=null?K(te(_0x3420d5)):{},re(_0x535727||!_0x3420d5||!_0x3420d5['__es'+'Module']?Q(_0x4492ed,'default',{'value':_0x3420d5,'enumerable':!0x0}):_0x4492ed,_0x3420d5)),Z=class{constructor(_0x1ba4de,_0x4eea7e,_0x3a9ded,_0x4a61e7,_0x303e79,_0x1004f6){var _0x403fac=_0x5ba81e,_0x266d33,_0x5c48c7,_0x301a24,_0x11ff29;this['global']=_0x1ba4de,this[_0x403fac(0x15f)]=_0x4eea7e,this[_0x403fac(0x1de)]=_0x3a9ded,this[_0x403fac(0x13a)]=_0x4a61e7,this[_0x403fac(0x1e8)]=_0x303e79,this[_0x403fac(0x1cf)]=_0x1004f6,this[_0x403fac(0x1bb)]=!0x0,this[_0x403fac(0x178)]=!0x0,this[_0x403fac(0x176)]=!0x1,this[_0x403fac(0x216)]=!0x1,this[_0x403fac(0x1c6)]=((_0x5c48c7=(_0x266d33=_0x1ba4de[_0x403fac(0x143)])==null?void 0x0:_0x266d33['env'])==null?void 0x0:_0x5c48c7['NEXT_RUNTIME'])===_0x403fac(0x177),this[_0x403fac(0x145)]=!((_0x11ff29=(_0x301a24=this[_0x403fac(0x16c)][_0x403fac(0x143)])==null?void 0x0:_0x301a24[_0x403fac(0x1ee)])!=null&&_0x11ff29[_0x403fac(0x1b2)])&&!this[_0x403fac(0x1c6)],this['_WebSocketClass']=null,this[_0x403fac(0x171)]=0x0,this[_0x403fac(0x191)]=0x14,this[_0x403fac(0x222)]=_0x403fac(0x194),this['_sendErrorMessage']=(this[_0x403fac(0x145)]?'Console\\x20Ninja\\x20failed\\x20to\\x20send\\x20logs,\\x20refreshing\\x20the\\x20page\\x20may\\x20help;\\x20also\\x20see\\x20':_0x403fac(0x1ab))+this['_webSocketErrorDocsLink'];}async['getWebSocketClass'](){var _0x4c492f=_0x5ba81e,_0x2108b8,_0x1f73f0;if(this[_0x4c492f(0x15a)])return this[_0x4c492f(0x15a)];let _0x3418e5;if(this[_0x4c492f(0x145)]||this[_0x4c492f(0x1c6)])_0x3418e5=this[_0x4c492f(0x16c)][_0x4c492f(0x149)];else{if((_0x2108b8=this[_0x4c492f(0x16c)][_0x4c492f(0x143)])!=null&&_0x2108b8[_0x4c492f(0x217)])_0x3418e5=(_0x1f73f0=this['global'][_0x4c492f(0x143)])==null?void 0x0:_0x1f73f0[_0x4c492f(0x217)];else try{let _0xb5fdf2=await import(_0x4c492f(0x202));_0x3418e5=(await import((await import(_0x4c492f(0x213)))[_0x4c492f(0x190)](_0xb5fdf2[_0x4c492f(0x199)](this[_0x4c492f(0x13a)],_0x4c492f(0x185)))[_0x4c492f(0x19d)]()))[_0x4c492f(0x19f)];}catch{try{_0x3418e5=require(require(_0x4c492f(0x202))['join'](this[_0x4c492f(0x13a)],'ws'));}catch{throw new Error(_0x4c492f(0x218));}}}return this['_WebSocketClass']=_0x3418e5,_0x3418e5;}[_0x5ba81e(0x1a8)](){var _0x5388bb=_0x5ba81e;this[_0x5388bb(0x216)]||this['_connected']||this[_0x5388bb(0x171)]>=this[_0x5388bb(0x191)]||(this[_0x5388bb(0x178)]=!0x1,this[_0x5388bb(0x216)]=!0x0,this[_0x5388bb(0x171)]++,this[_0x5388bb(0x197)]=new Promise((_0x54c6a9,_0x1231b0)=>{var _0x3abf00=_0x5388bb;this['getWebSocketClass']()[_0x3abf00(0x1f9)](_0x341cdb=>{var _0x541878=_0x3abf00;let _0xbf6b54=new _0x341cdb(_0x541878(0x17e)+(!this[_0x541878(0x145)]&&this['dockerizedApp']?'gateway.docker.internal':this[_0x541878(0x15f)])+':'+this[_0x541878(0x1de)]);_0xbf6b54['onerror']=()=>{var _0x195005=_0x541878;this[_0x195005(0x1bb)]=!0x1,this['_disposeWebsocket'](_0xbf6b54),this[_0x195005(0x142)](),_0x1231b0(new Error('logger\\x20websocket\\x20error'));},_0xbf6b54[_0x541878(0x175)]=()=>{var _0x2f66b3=_0x541878;this['_inBrowser']||_0xbf6b54[_0x2f66b3(0x203)]&&_0xbf6b54[_0x2f66b3(0x203)][_0x2f66b3(0x158)]&&_0xbf6b54[_0x2f66b3(0x203)]['unref'](),_0x54c6a9(_0xbf6b54);},_0xbf6b54[_0x541878(0x1e7)]=()=>{var _0x3d76ee=_0x541878;this[_0x3d76ee(0x178)]=!0x0,this[_0x3d76ee(0x19b)](_0xbf6b54),this['_attemptToReconnectShortly']();},_0xbf6b54[_0x541878(0x184)]=_0x23598d=>{var _0x550d6f=_0x541878;try{if(!(_0x23598d!=null&&_0x23598d[_0x550d6f(0x14e)])||!this[_0x550d6f(0x1cf)])return;let _0x3cc446=JSON[_0x550d6f(0x183)](_0x23598d[_0x550d6f(0x14e)]);this['eventReceivedCallback'](_0x3cc446[_0x550d6f(0x13d)],_0x3cc446['args'],this[_0x550d6f(0x16c)],this['_inBrowser']);}catch{}};})[_0x3abf00(0x1f9)](_0x19632a=>(this[_0x3abf00(0x176)]=!0x0,this[_0x3abf00(0x216)]=!0x1,this[_0x3abf00(0x178)]=!0x1,this[_0x3abf00(0x1bb)]=!0x0,this[_0x3abf00(0x171)]=0x0,_0x19632a))[_0x3abf00(0x1e2)](_0x197b1d=>(this[_0x3abf00(0x176)]=!0x1,this[_0x3abf00(0x216)]=!0x1,console[_0x3abf00(0x18d)](_0x3abf00(0x1ad)+this[_0x3abf00(0x222)]),_0x1231b0(new Error(_0x3abf00(0x157)+(_0x197b1d&&_0x197b1d[_0x3abf00(0x1ae)])))));}));}[_0x5ba81e(0x19b)](_0x2e755c){var _0x1cf13f=_0x5ba81e;this['_connected']=!0x1,this[_0x1cf13f(0x216)]=!0x1;try{_0x2e755c[_0x1cf13f(0x1e7)]=null,_0x2e755c[_0x1cf13f(0x1eb)]=null,_0x2e755c[_0x1cf13f(0x175)]=null;}catch{}try{_0x2e755c[_0x1cf13f(0x224)]<0x2&&_0x2e755c['close']();}catch{}}[_0x5ba81e(0x142)](){var _0x33d2f9=_0x5ba81e;clearTimeout(this[_0x33d2f9(0x1fc)]),!(this[_0x33d2f9(0x171)]>=this[_0x33d2f9(0x191)])&&(this['_reconnectTimeout']=setTimeout(()=>{var _0x1e2063=_0x33d2f9,_0x2bcd81;this['_connected']||this['_connecting']||(this[_0x1e2063(0x1a8)](),(_0x2bcd81=this['_ws'])==null||_0x2bcd81['catch'](()=>this[_0x1e2063(0x142)]()));},0x1f4),this[_0x33d2f9(0x1fc)][_0x33d2f9(0x158)]&&this[_0x33d2f9(0x1fc)][_0x33d2f9(0x158)]());}async[_0x5ba81e(0x22a)](_0x5848c2){var _0x1969ed=_0x5ba81e;try{if(!this['_allowedToSend'])return;this[_0x1969ed(0x178)]&&this[_0x1969ed(0x1a8)](),(await this[_0x1969ed(0x197)])[_0x1969ed(0x22a)](JSON[_0x1969ed(0x15c)](_0x5848c2));}catch(_0x11a444){console['warn'](this[_0x1969ed(0x165)]+':\\x20'+(_0x11a444&&_0x11a444[_0x1969ed(0x1ae)])),this[_0x1969ed(0x1bb)]=!0x1,this[_0x1969ed(0x142)]();}}};function q(_0x11f969,_0x3d2616,_0x288443,_0x55e05b,_0x3bb8c4,_0x5d5860,_0x4a0ef5,_0x376d24=ie){var _0x2e5d14=_0x5ba81e;let _0x1e7cbd=_0x288443[_0x2e5d14(0x1b3)](',')[_0x2e5d14(0x15e)](_0x325f87=>{var _0x2c90c3=_0x2e5d14,_0x18ca1b,_0x4e5f88,_0x10fd37,_0x459e57;try{if(!_0x11f969[_0x2c90c3(0x168)]){let _0x7a2f1d=((_0x4e5f88=(_0x18ca1b=_0x11f969[_0x2c90c3(0x143)])==null?void 0x0:_0x18ca1b['versions'])==null?void 0x0:_0x4e5f88[_0x2c90c3(0x1b2)])||((_0x459e57=(_0x10fd37=_0x11f969[_0x2c90c3(0x143)])==null?void 0x0:_0x10fd37[_0x2c90c3(0x200)])==null?void 0x0:_0x459e57[_0x2c90c3(0x15d)])==='edge';(_0x3bb8c4===_0x2c90c3(0x22c)||_0x3bb8c4===_0x2c90c3(0x21f)||_0x3bb8c4==='astro'||_0x3bb8c4==='angular')&&(_0x3bb8c4+=_0x7a2f1d?_0x2c90c3(0x152):'\\x20browser'),_0x11f969['_console_ninja_session']={'id':+new Date(),'tool':_0x3bb8c4},_0x4a0ef5&&_0x3bb8c4&&!_0x7a2f1d&&console[_0x2c90c3(0x1b8)](_0x2c90c3(0x1f4)+(_0x3bb8c4[_0x2c90c3(0x21a)](0x0)[_0x2c90c3(0x1ef)]()+_0x3bb8c4[_0x2c90c3(0x19a)](0x1))+',',_0x2c90c3(0x19e),_0x2c90c3(0x156));}let _0x1e3ffb=new Z(_0x11f969,_0x3d2616,_0x325f87,_0x55e05b,_0x5d5860,_0x376d24);return _0x1e3ffb[_0x2c90c3(0x22a)][_0x2c90c3(0x1d3)](_0x1e3ffb);}catch(_0x27cb3f){return console['warn'](_0x2c90c3(0x195),_0x27cb3f&&_0x27cb3f[_0x2c90c3(0x1ae)]),()=>{};}});return _0x4e02c1=>_0x1e7cbd[_0x2e5d14(0x1f6)](_0x398d48=>_0x398d48(_0x4e02c1));}function ie(_0xb25579,_0x4bbfe7,_0x169017,_0xef7d7e){var _0x5d29a3=_0x5ba81e;_0xef7d7e&&_0xb25579===_0x5d29a3(0x21c)&&_0x169017[_0x5d29a3(0x215)]['reload']();}function _0x17d3(_0x2a84aa,_0x59474c){var _0x219cdd=_0x219c();return _0x17d3=function(_0x17d306,_0x453b79){_0x17d306=_0x17d306-0x139;var _0x828873=_0x219cdd[_0x17d306];return _0x828873;},_0x17d3(_0x2a84aa,_0x59474c);}function B(_0x3684c6){var _0xf94f78=_0x5ba81e,_0x27695e,_0x504b8c;let _0x1d92f9=function(_0x194093,_0x561399){return _0x561399-_0x194093;},_0x10abfe;if(_0x3684c6[_0xf94f78(0x147)])_0x10abfe=function(){var _0x962e37=_0xf94f78;return _0x3684c6[_0x962e37(0x147)][_0x962e37(0x1a3)]();};else{if(_0x3684c6['process']&&_0x3684c6[_0xf94f78(0x143)][_0xf94f78(0x141)]&&((_0x504b8c=(_0x27695e=_0x3684c6[_0xf94f78(0x143)])==null?void 0x0:_0x27695e[_0xf94f78(0x200)])==null?void 0x0:_0x504b8c[_0xf94f78(0x15d)])!=='edge')_0x10abfe=function(){var _0x65e372=_0xf94f78;return _0x3684c6[_0x65e372(0x143)]['hrtime']();},_0x1d92f9=function(_0x45fc3c,_0x5cebf){return 0x3e8*(_0x5cebf[0x0]-_0x45fc3c[0x0])+(_0x5cebf[0x1]-_0x45fc3c[0x1])/0xf4240;};else try{let {performance:_0x12c018}=require(_0xf94f78(0x18f));_0x10abfe=function(){var _0x6cac1d=_0xf94f78;return _0x12c018[_0x6cac1d(0x1a3)]();};}catch{_0x10abfe=function(){return+new Date();};}}return{'elapsed':_0x1d92f9,'timeStamp':_0x10abfe,'now':()=>Date['now']()};}function H(_0x21d1f2,_0x2996c4,_0x283bef){var _0x21eb4c=_0x5ba81e,_0x470a0f,_0x2feddc,_0x55b34b,_0x3846f4,_0x5e4b4a;if(_0x21d1f2[_0x21eb4c(0x1c7)]!==void 0x0)return _0x21d1f2[_0x21eb4c(0x1c7)];let _0x5c7900=((_0x2feddc=(_0x470a0f=_0x21d1f2[_0x21eb4c(0x143)])==null?void 0x0:_0x470a0f['versions'])==null?void 0x0:_0x2feddc['node'])||((_0x3846f4=(_0x55b34b=_0x21d1f2[_0x21eb4c(0x143)])==null?void 0x0:_0x55b34b[_0x21eb4c(0x200)])==null?void 0x0:_0x3846f4['NEXT_RUNTIME'])===_0x21eb4c(0x177);function _0x5cbfcc(_0x3755bb){var _0x52d77a=_0x21eb4c;if(_0x3755bb[_0x52d77a(0x1b4)]('/')&&_0x3755bb[_0x52d77a(0x17f)]('/')){let _0x2e49ba=new RegExp(_0x3755bb['slice'](0x1,-0x1));return _0x132f75=>_0x2e49ba[_0x52d77a(0x14f)](_0x132f75);}else{if(_0x3755bb[_0x52d77a(0x169)]('*')||_0x3755bb[_0x52d77a(0x169)]('?')){let _0x5e91cb=new RegExp('^'+_0x3755bb['replace'](/\\./g,String[_0x52d77a(0x1ec)](0x5c)+'.')[_0x52d77a(0x206)](/\\*/g,'.*')['replace'](/\\?/g,'.')+String[_0x52d77a(0x1ec)](0x24));return _0x178cb7=>_0x5e91cb['test'](_0x178cb7);}else return _0x2509ec=>_0x2509ec===_0x3755bb;}}let _0x215861=_0x2996c4[_0x21eb4c(0x15e)](_0x5cbfcc);return _0x21d1f2['_consoleNinjaAllowedToStart']=_0x5c7900||!_0x2996c4,!_0x21d1f2[_0x21eb4c(0x1c7)]&&((_0x5e4b4a=_0x21d1f2[_0x21eb4c(0x215)])==null?void 0x0:_0x5e4b4a[_0x21eb4c(0x140)])&&(_0x21d1f2[_0x21eb4c(0x1c7)]=_0x215861[_0x21eb4c(0x1c1)](_0x350503=>_0x350503(_0x21d1f2[_0x21eb4c(0x215)][_0x21eb4c(0x140)]))),_0x21d1f2[_0x21eb4c(0x1c7)];}function X(_0x20975a,_0xd21da6,_0x228441,_0x30ca49){var _0x364808=_0x5ba81e;_0x20975a=_0x20975a,_0xd21da6=_0xd21da6,_0x228441=_0x228441,_0x30ca49=_0x30ca49;let _0x5bedc2=B(_0x20975a),_0x5f2efb=_0x5bedc2['elapsed'],_0x54c32e=_0x5bedc2[_0x364808(0x228)];class _0x161e15{constructor(){var _0x3dffe0=_0x364808;this['_keyStrRegExp']=/^(?!(?:do|if|in|for|let|new|try|var|case|else|enum|eval|false|null|this|true|void|with|break|catch|class|const|super|throw|while|yield|delete|export|import|public|return|static|switch|typeof|default|extends|finally|package|private|continue|debugger|function|arguments|interface|protected|implements|instanceof)$)[_$a-zA-Z\\xA0-\\uFFFF][_$a-zA-Z0-9\\xA0-\\uFFFF]*$/,this[_0x3dffe0(0x189)]=/^(0|[1-9][0-9]*)$/,this['_quotedRegExp']=/'([^\\\\']|\\\\')*'/,this[_0x3dffe0(0x148)]=_0x20975a[_0x3dffe0(0x1b7)],this[_0x3dffe0(0x209)]=_0x20975a[_0x3dffe0(0x1fa)],this['_getOwnPropertyDescriptor']=Object['getOwnPropertyDescriptor'],this[_0x3dffe0(0x214)]=Object['getOwnPropertyNames'],this[_0x3dffe0(0x229)]=_0x20975a[_0x3dffe0(0x220)],this[_0x3dffe0(0x1f0)]=RegExp[_0x3dffe0(0x1f5)]['toString'],this[_0x3dffe0(0x225)]=Date[_0x3dffe0(0x1f5)][_0x3dffe0(0x19d)];}[_0x364808(0x1c2)](_0x3e2419,_0x31b613,_0x40fa63,_0x493af4){var _0x5dbc95=_0x364808,_0x4586a1=this,_0x5ee490=_0x40fa63[_0x5dbc95(0x1b1)];function _0x3cf0c2(_0x32c863,_0x34c2e3,_0x483e69){var _0x4f91ac=_0x5dbc95;_0x34c2e3['type']='unknown',_0x34c2e3['error']=_0x32c863[_0x4f91ac(0x1ae)],_0xd093f3=_0x483e69['node'][_0x4f91ac(0x1e0)],_0x483e69[_0x4f91ac(0x1b2)][_0x4f91ac(0x1e0)]=_0x34c2e3,_0x4586a1['_treeNodePropertiesBeforeFullValue'](_0x34c2e3,_0x483e69);}try{_0x40fa63[_0x5dbc95(0x159)]++,_0x40fa63['autoExpand']&&_0x40fa63[_0x5dbc95(0x170)][_0x5dbc95(0x139)](_0x31b613);var _0x127637,_0x148ffd,_0x4fef6a,_0x2c3ae3,_0x491a68=[],_0xd6dd61=[],_0x5eeb1e,_0x423454=this['_type'](_0x31b613),_0x5533a5=_0x423454==='array',_0x1331a1=!0x1,_0x2b97ee=_0x423454==='function',_0x5d6aed=this[_0x5dbc95(0x188)](_0x423454),_0x474148=this[_0x5dbc95(0x16e)](_0x423454),_0x1d3bf9=_0x5d6aed||_0x474148,_0x258d3c={},_0x1c9f7b=0x0,_0x5ba8e4=!0x1,_0xd093f3,_0x26ea7d=/^(([1-9]{1}[0-9]*)|0)$/;if(_0x40fa63[_0x5dbc95(0x1aa)]){if(_0x5533a5){if(_0x148ffd=_0x31b613[_0x5dbc95(0x1bc)],_0x148ffd>_0x40fa63[_0x5dbc95(0x161)]){for(_0x4fef6a=0x0,_0x2c3ae3=_0x40fa63[_0x5dbc95(0x161)],_0x127637=_0x4fef6a;_0x127637<_0x2c3ae3;_0x127637++)_0xd6dd61[_0x5dbc95(0x139)](_0x4586a1[_0x5dbc95(0x192)](_0x491a68,_0x31b613,_0x423454,_0x127637,_0x40fa63));_0x3e2419[_0x5dbc95(0x146)]=!0x0;}else{for(_0x4fef6a=0x0,_0x2c3ae3=_0x148ffd,_0x127637=_0x4fef6a;_0x127637<_0x2c3ae3;_0x127637++)_0xd6dd61['push'](_0x4586a1['_addProperty'](_0x491a68,_0x31b613,_0x423454,_0x127637,_0x40fa63));}_0x40fa63[_0x5dbc95(0x1e9)]+=_0xd6dd61[_0x5dbc95(0x1bc)];}if(!(_0x423454===_0x5dbc95(0x1d2)||_0x423454===_0x5dbc95(0x1b7))&&!_0x5d6aed&&_0x423454!=='String'&&_0x423454!==_0x5dbc95(0x1fd)&&_0x423454!=='bigint'){var _0x47014e=_0x493af4[_0x5dbc95(0x172)]||_0x40fa63[_0x5dbc95(0x172)];if(this[_0x5dbc95(0x1dc)](_0x31b613)?(_0x127637=0x0,_0x31b613['forEach'](function(_0x2a86c1){var _0x3575a3=_0x5dbc95;if(_0x1c9f7b++,_0x40fa63[_0x3575a3(0x1e9)]++,_0x1c9f7b>_0x47014e){_0x5ba8e4=!0x0;return;}if(!_0x40fa63[_0x3575a3(0x1a4)]&&_0x40fa63[_0x3575a3(0x1b1)]&&_0x40fa63[_0x3575a3(0x1e9)]>_0x40fa63[_0x3575a3(0x1fb)]){_0x5ba8e4=!0x0;return;}_0xd6dd61[_0x3575a3(0x139)](_0x4586a1[_0x3575a3(0x192)](_0x491a68,_0x31b613,_0x3575a3(0x174),_0x127637++,_0x40fa63,function(_0x4a2030){return function(){return _0x4a2030;};}(_0x2a86c1)));})):this[_0x5dbc95(0x20c)](_0x31b613)&&_0x31b613[_0x5dbc95(0x1f6)](function(_0x21abb5,_0x3a3604){var _0x46502e=_0x5dbc95;if(_0x1c9f7b++,_0x40fa63[_0x46502e(0x1e9)]++,_0x1c9f7b>_0x47014e){_0x5ba8e4=!0x0;return;}if(!_0x40fa63['isExpressionToEvaluate']&&_0x40fa63['autoExpand']&&_0x40fa63[_0x46502e(0x1e9)]>_0x40fa63[_0x46502e(0x1fb)]){_0x5ba8e4=!0x0;return;}var _0x3d44ff=_0x3a3604[_0x46502e(0x19d)]();_0x3d44ff[_0x46502e(0x1bc)]>0x64&&(_0x3d44ff=_0x3d44ff[_0x46502e(0x16b)](0x0,0x64)+_0x46502e(0x1d4)),_0xd6dd61[_0x46502e(0x139)](_0x4586a1[_0x46502e(0x192)](_0x491a68,_0x31b613,_0x46502e(0x1cd),_0x3d44ff,_0x40fa63,function(_0x4fbad9){return function(){return _0x4fbad9;};}(_0x21abb5)));}),!_0x1331a1){try{for(_0x5eeb1e in _0x31b613)if(!(_0x5533a5&&_0x26ea7d['test'](_0x5eeb1e))&&!this[_0x5dbc95(0x151)](_0x31b613,_0x5eeb1e,_0x40fa63)){if(_0x1c9f7b++,_0x40fa63[_0x5dbc95(0x1e9)]++,_0x1c9f7b>_0x47014e){_0x5ba8e4=!0x0;break;}if(!_0x40fa63['isExpressionToEvaluate']&&_0x40fa63[_0x5dbc95(0x1b1)]&&_0x40fa63['autoExpandPropertyCount']>_0x40fa63[_0x5dbc95(0x1fb)]){_0x5ba8e4=!0x0;break;}_0xd6dd61[_0x5dbc95(0x139)](_0x4586a1[_0x5dbc95(0x226)](_0x491a68,_0x258d3c,_0x31b613,_0x423454,_0x5eeb1e,_0x40fa63));}}catch{}if(_0x258d3c[_0x5dbc95(0x212)]=!0x0,_0x2b97ee&&(_0x258d3c['_p_name']=!0x0),!_0x5ba8e4){var _0x4640bb=[][_0x5dbc95(0x22d)](this[_0x5dbc95(0x214)](_0x31b613))[_0x5dbc95(0x22d)](this[_0x5dbc95(0x1d6)](_0x31b613));for(_0x127637=0x0,_0x148ffd=_0x4640bb[_0x5dbc95(0x1bc)];_0x127637<_0x148ffd;_0x127637++)if(_0x5eeb1e=_0x4640bb[_0x127637],!(_0x5533a5&&_0x26ea7d[_0x5dbc95(0x14f)](_0x5eeb1e[_0x5dbc95(0x19d)]()))&&!this[_0x5dbc95(0x151)](_0x31b613,_0x5eeb1e,_0x40fa63)&&!_0x258d3c['_p_'+_0x5eeb1e[_0x5dbc95(0x19d)]()]){if(_0x1c9f7b++,_0x40fa63[_0x5dbc95(0x1e9)]++,_0x1c9f7b>_0x47014e){_0x5ba8e4=!0x0;break;}if(!_0x40fa63[_0x5dbc95(0x1a4)]&&_0x40fa63[_0x5dbc95(0x1b1)]&&_0x40fa63[_0x5dbc95(0x1e9)]>_0x40fa63['autoExpandLimit']){_0x5ba8e4=!0x0;break;}_0xd6dd61[_0x5dbc95(0x139)](_0x4586a1[_0x5dbc95(0x226)](_0x491a68,_0x258d3c,_0x31b613,_0x423454,_0x5eeb1e,_0x40fa63));}}}}}if(_0x3e2419[_0x5dbc95(0x1e4)]=_0x423454,_0x1d3bf9?(_0x3e2419['value']=_0x31b613[_0x5dbc95(0x1df)](),this[_0x5dbc95(0x1a5)](_0x423454,_0x3e2419,_0x40fa63,_0x493af4)):_0x423454===_0x5dbc95(0x21e)?_0x3e2419[_0x5dbc95(0x1c4)]=this[_0x5dbc95(0x225)][_0x5dbc95(0x1e1)](_0x31b613):_0x423454===_0x5dbc95(0x1d7)?_0x3e2419[_0x5dbc95(0x1c4)]=_0x31b613['toString']():_0x423454===_0x5dbc95(0x13c)?_0x3e2419[_0x5dbc95(0x1c4)]=this[_0x5dbc95(0x1f0)][_0x5dbc95(0x1e1)](_0x31b613):_0x423454===_0x5dbc95(0x186)&&this[_0x5dbc95(0x229)]?_0x3e2419[_0x5dbc95(0x1c4)]=this['_Symbol'][_0x5dbc95(0x1f5)][_0x5dbc95(0x19d)][_0x5dbc95(0x1e1)](_0x31b613):!_0x40fa63['depth']&&!(_0x423454==='null'||_0x423454===_0x5dbc95(0x1b7))&&(delete _0x3e2419['value'],_0x3e2419[_0x5dbc95(0x1f7)]=!0x0),_0x5ba8e4&&(_0x3e2419['cappedProps']=!0x0),_0xd093f3=_0x40fa63['node'][_0x5dbc95(0x1e0)],_0x40fa63[_0x5dbc95(0x1b2)]['current']=_0x3e2419,this[_0x5dbc95(0x198)](_0x3e2419,_0x40fa63),_0xd6dd61[_0x5dbc95(0x1bc)]){for(_0x127637=0x0,_0x148ffd=_0xd6dd61['length'];_0x127637<_0x148ffd;_0x127637++)_0xd6dd61[_0x127637](_0x127637);}_0x491a68[_0x5dbc95(0x1bc)]&&(_0x3e2419[_0x5dbc95(0x172)]=_0x491a68);}catch(_0x5c8602){_0x3cf0c2(_0x5c8602,_0x3e2419,_0x40fa63);}return this[_0x5dbc95(0x1d1)](_0x31b613,_0x3e2419),this[_0x5dbc95(0x20b)](_0x3e2419,_0x40fa63),_0x40fa63[_0x5dbc95(0x1b2)][_0x5dbc95(0x1e0)]=_0xd093f3,_0x40fa63[_0x5dbc95(0x159)]--,_0x40fa63['autoExpand']=_0x5ee490,_0x40fa63[_0x5dbc95(0x1b1)]&&_0x40fa63['autoExpandPreviousObjects']['pop'](),_0x3e2419;}[_0x364808(0x1d6)](_0x4bc4f4){var _0x58697f=_0x364808;return Object[_0x58697f(0x1e6)]?Object[_0x58697f(0x1e6)](_0x4bc4f4):[];}[_0x364808(0x1dc)](_0x73080f){var _0xc32025=_0x364808;return!!(_0x73080f&&_0x20975a[_0xc32025(0x174)]&&this[_0xc32025(0x1db)](_0x73080f)===_0xc32025(0x182)&&_0x73080f[_0xc32025(0x1f6)]);}['_blacklistedProperty'](_0x44dcec,_0x11929b,_0x580a4b){var _0x11f134=_0x364808;return _0x580a4b['noFunctions']?typeof _0x44dcec[_0x11929b]==_0x11f134(0x1f1):!0x1;}[_0x364808(0x1ce)](_0x9f6c0d){var _0x41ad69=_0x364808,_0x10faeb='';return _0x10faeb=typeof _0x9f6c0d,_0x10faeb==='object'?this[_0x41ad69(0x1db)](_0x9f6c0d)===_0x41ad69(0x18a)?_0x10faeb=_0x41ad69(0x1d0):this[_0x41ad69(0x1db)](_0x9f6c0d)===_0x41ad69(0x13e)?_0x10faeb=_0x41ad69(0x21e):this[_0x41ad69(0x1db)](_0x9f6c0d)==='[object\\x20BigInt]'?_0x10faeb=_0x41ad69(0x1d7):_0x9f6c0d===null?_0x10faeb=_0x41ad69(0x1d2):_0x9f6c0d['constructor']&&(_0x10faeb=_0x9f6c0d[_0x41ad69(0x17d)][_0x41ad69(0x221)]||_0x10faeb):_0x10faeb===_0x41ad69(0x1b7)&&this[_0x41ad69(0x209)]&&_0x9f6c0d instanceof this['_HTMLAllCollection']&&(_0x10faeb=_0x41ad69(0x1fa)),_0x10faeb;}[_0x364808(0x1db)](_0x5bdee9){var _0x33b49c=_0x364808;return Object[_0x33b49c(0x1f5)][_0x33b49c(0x19d)][_0x33b49c(0x1e1)](_0x5bdee9);}[_0x364808(0x188)](_0x20ad7e){var _0x15296e=_0x364808;return _0x20ad7e===_0x15296e(0x1c9)||_0x20ad7e==='string'||_0x20ad7e===_0x15296e(0x1ea);}[_0x364808(0x16e)](_0x2efbca){var _0x5dc790=_0x364808;return _0x2efbca===_0x5dc790(0x15b)||_0x2efbca===_0x5dc790(0x20a)||_0x2efbca===_0x5dc790(0x164);}[_0x364808(0x192)](_0x18dc43,_0x42212c,_0x15830d,_0x14044c,_0x4b50e0,_0x5e9c8c){var _0x3b40b5=this;return function(_0x247cce){var _0xc39664=_0x17d3,_0x2a81d7=_0x4b50e0[_0xc39664(0x1b2)]['current'],_0xf7624e=_0x4b50e0[_0xc39664(0x1b2)]['index'],_0x16ac4a=_0x4b50e0[_0xc39664(0x1b2)]['parent'];_0x4b50e0[_0xc39664(0x1b2)][_0xc39664(0x1f2)]=_0x2a81d7,_0x4b50e0[_0xc39664(0x1b2)][_0xc39664(0x1ed)]=typeof _0x14044c==_0xc39664(0x1ea)?_0x14044c:_0x247cce,_0x18dc43[_0xc39664(0x139)](_0x3b40b5[_0xc39664(0x1a2)](_0x42212c,_0x15830d,_0x14044c,_0x4b50e0,_0x5e9c8c)),_0x4b50e0[_0xc39664(0x1b2)][_0xc39664(0x1f2)]=_0x16ac4a,_0x4b50e0[_0xc39664(0x1b2)][_0xc39664(0x1ed)]=_0xf7624e;};}[_0x364808(0x226)](_0x5c433f,_0x15cf37,_0x6c8bd5,_0x304624,_0x218b43,_0xdeae93,_0x2f523c){var _0x15d0cf=_0x364808,_0x367457=this;return _0x15cf37[_0x15d0cf(0x1a9)+_0x218b43[_0x15d0cf(0x19d)]()]=!0x0,function(_0x33e09a){var _0x22ddc8=_0x15d0cf,_0x5a3ad2=_0xdeae93[_0x22ddc8(0x1b2)][_0x22ddc8(0x1e0)],_0x141869=_0xdeae93['node'][_0x22ddc8(0x1ed)],_0x216987=_0xdeae93[_0x22ddc8(0x1b2)]['parent'];_0xdeae93['node'][_0x22ddc8(0x1f2)]=_0x5a3ad2,_0xdeae93[_0x22ddc8(0x1b2)]['index']=_0x33e09a,_0x5c433f[_0x22ddc8(0x139)](_0x367457[_0x22ddc8(0x1a2)](_0x6c8bd5,_0x304624,_0x218b43,_0xdeae93,_0x2f523c)),_0xdeae93[_0x22ddc8(0x1b2)][_0x22ddc8(0x1f2)]=_0x216987,_0xdeae93[_0x22ddc8(0x1b2)][_0x22ddc8(0x1ed)]=_0x141869;};}[_0x364808(0x1a2)](_0x40b6f8,_0x1e3a38,_0x1f8096,_0x4bd490,_0x2ab3e5){var _0x5d109d=_0x364808,_0x268f77=this;_0x2ab3e5||(_0x2ab3e5=function(_0x207402,_0x400471){return _0x207402[_0x400471];});var _0x2146bd=_0x1f8096[_0x5d109d(0x19d)](),_0x3e231d=_0x4bd490[_0x5d109d(0x144)]||{},_0x3883ca=_0x4bd490['depth'],_0x31c073=_0x4bd490[_0x5d109d(0x1a4)];try{var _0x2d07b3=this[_0x5d109d(0x20c)](_0x40b6f8),_0x5dc4ba=_0x2146bd;_0x2d07b3&&_0x5dc4ba[0x0]==='\\x27'&&(_0x5dc4ba=_0x5dc4ba[_0x5d109d(0x19a)](0x1,_0x5dc4ba[_0x5d109d(0x1bc)]-0x2));var _0x75274f=_0x4bd490[_0x5d109d(0x144)]=_0x3e231d[_0x5d109d(0x1a9)+_0x5dc4ba];_0x75274f&&(_0x4bd490[_0x5d109d(0x1aa)]=_0x4bd490[_0x5d109d(0x1aa)]+0x1),_0x4bd490[_0x5d109d(0x1a4)]=!!_0x75274f;var _0x93336c=typeof _0x1f8096==_0x5d109d(0x186),_0x1dda8b={'name':_0x93336c||_0x2d07b3?_0x2146bd:this['_propertyName'](_0x2146bd)};if(_0x93336c&&(_0x1dda8b['symbol']=!0x0),!(_0x1e3a38===_0x5d109d(0x1d0)||_0x1e3a38===_0x5d109d(0x1c0))){var _0x5c9972=this[_0x5d109d(0x1f8)](_0x40b6f8,_0x1f8096);if(_0x5c9972&&(_0x5c9972[_0x5d109d(0x18e)]&&(_0x1dda8b[_0x5d109d(0x180)]=!0x0),_0x5c9972[_0x5d109d(0x205)]&&!_0x75274f&&!_0x4bd490[_0x5d109d(0x22b)]))return _0x1dda8b[_0x5d109d(0x1d9)]=!0x0,this[_0x5d109d(0x14a)](_0x1dda8b,_0x4bd490),_0x1dda8b;}var _0x15f454;try{_0x15f454=_0x2ab3e5(_0x40b6f8,_0x1f8096);}catch(_0x4fa35f){return _0x1dda8b={'name':_0x2146bd,'type':_0x5d109d(0x1d5),'error':_0x4fa35f[_0x5d109d(0x1ae)]},this[_0x5d109d(0x14a)](_0x1dda8b,_0x4bd490),_0x1dda8b;}var _0x2178f6=this[_0x5d109d(0x1ce)](_0x15f454),_0xe6c6=this['_isPrimitiveType'](_0x2178f6);if(_0x1dda8b[_0x5d109d(0x1e4)]=_0x2178f6,_0xe6c6)this[_0x5d109d(0x14a)](_0x1dda8b,_0x4bd490,_0x15f454,function(){var _0x5393a3=_0x5d109d;_0x1dda8b['value']=_0x15f454[_0x5393a3(0x1df)](),!_0x75274f&&_0x268f77[_0x5393a3(0x1a5)](_0x2178f6,_0x1dda8b,_0x4bd490,{});});else{var _0x41a6eb=_0x4bd490[_0x5d109d(0x1b1)]&&_0x4bd490[_0x5d109d(0x159)]<_0x4bd490['autoExpandMaxDepth']&&_0x4bd490['autoExpandPreviousObjects']['indexOf'](_0x15f454)<0x0&&_0x2178f6!==_0x5d109d(0x1f1)&&_0x4bd490[_0x5d109d(0x1e9)]<_0x4bd490[_0x5d109d(0x1fb)];_0x41a6eb||_0x4bd490['level']<_0x3883ca||_0x75274f?(this[_0x5d109d(0x1c2)](_0x1dda8b,_0x15f454,_0x4bd490,_0x75274f||{}),this[_0x5d109d(0x1d1)](_0x15f454,_0x1dda8b)):this['_processTreeNodeResult'](_0x1dda8b,_0x4bd490,_0x15f454,function(){var _0x2ea7b4=_0x5d109d;_0x2178f6===_0x2ea7b4(0x1d2)||_0x2178f6===_0x2ea7b4(0x1b7)||(delete _0x1dda8b[_0x2ea7b4(0x1c4)],_0x1dda8b[_0x2ea7b4(0x1f7)]=!0x0);});}return _0x1dda8b;}finally{_0x4bd490['expressionsToEvaluate']=_0x3e231d,_0x4bd490[_0x5d109d(0x1aa)]=_0x3883ca,_0x4bd490[_0x5d109d(0x1a4)]=_0x31c073;}}['_capIfString'](_0x3cc61c,_0x2b3269,_0x8137c4,_0xfcb24f){var _0x1fb889=_0x364808,_0xbe7128=_0xfcb24f[_0x1fb889(0x1a7)]||_0x8137c4['strLength'];if((_0x3cc61c===_0x1fb889(0x201)||_0x3cc61c===_0x1fb889(0x20a))&&_0x2b3269[_0x1fb889(0x1c4)]){let _0x343494=_0x2b3269[_0x1fb889(0x1c4)]['length'];_0x8137c4[_0x1fb889(0x166)]+=_0x343494,_0x8137c4[_0x1fb889(0x166)]>_0x8137c4[_0x1fb889(0x208)]?(_0x2b3269[_0x1fb889(0x1f7)]='',delete _0x2b3269[_0x1fb889(0x1c4)]):_0x343494>_0xbe7128&&(_0x2b3269[_0x1fb889(0x1f7)]=_0x2b3269[_0x1fb889(0x1c4)]['substr'](0x0,_0xbe7128),delete _0x2b3269['value']);}}[_0x364808(0x20c)](_0x1b29bb){var _0x977578=_0x364808;return!!(_0x1b29bb&&_0x20975a[_0x977578(0x1cd)]&&this[_0x977578(0x1db)](_0x1b29bb)==='[object\\x20Map]'&&_0x1b29bb[_0x977578(0x1f6)]);}[_0x364808(0x21b)](_0x2c2b81){var _0x4e12d9=_0x364808;if(_0x2c2b81['match'](/^\\d+$/))return _0x2c2b81;var _0x2534b0;try{_0x2534b0=JSON['stringify'](''+_0x2c2b81);}catch{_0x2534b0='\\x22'+this[_0x4e12d9(0x1db)](_0x2c2b81)+'\\x22';}return _0x2534b0[_0x4e12d9(0x219)](/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?_0x2534b0=_0x2534b0[_0x4e12d9(0x19a)](0x1,_0x2534b0[_0x4e12d9(0x1bc)]-0x2):_0x2534b0=_0x2534b0[_0x4e12d9(0x206)](/'/g,'\\x5c\\x27')['replace'](/\\\\"/g,'\\x22')[_0x4e12d9(0x206)](/(^"|"$)/g,'\\x27'),_0x2534b0;}[_0x364808(0x14a)](_0x86999c,_0x194e9a,_0x29a625,_0x463124){var _0x31996b=_0x364808;this[_0x31996b(0x198)](_0x86999c,_0x194e9a),_0x463124&&_0x463124(),this['_additionalMetadata'](_0x29a625,_0x86999c),this[_0x31996b(0x20b)](_0x86999c,_0x194e9a);}[_0x364808(0x198)](_0x30b157,_0x22267e){var _0x3e72f1=_0x364808;this['_setNodeId'](_0x30b157,_0x22267e),this[_0x3e72f1(0x1ba)](_0x30b157,_0x22267e),this[_0x3e72f1(0x1a1)](_0x30b157,_0x22267e),this[_0x3e72f1(0x1e5)](_0x30b157,_0x22267e);}['_setNodeId'](_0x4294eb,_0x3e593b){}[_0x364808(0x1ba)](_0x47cc2b,_0x1ff5d3){}[_0x364808(0x160)](_0x971fe9,_0x57e09b){}[_0x364808(0x14b)](_0x2808a3){var _0x4e9b70=_0x364808;return _0x2808a3===this[_0x4e9b70(0x148)];}[_0x364808(0x20b)](_0x574ed0,_0x4794d8){var _0x3cfe48=_0x364808;this['_setNodeLabel'](_0x574ed0,_0x4794d8),this[_0x3cfe48(0x1b6)](_0x574ed0),_0x4794d8[_0x3cfe48(0x18b)]&&this['_sortProps'](_0x574ed0),this['_addFunctionsNode'](_0x574ed0,_0x4794d8),this[_0x3cfe48(0x20f)](_0x574ed0,_0x4794d8),this[_0x3cfe48(0x187)](_0x574ed0);}[_0x364808(0x1d1)](_0x305e48,_0x251137){var _0x547ce4=_0x364808;let _0x24f63c;try{_0x20975a[_0x547ce4(0x1da)]&&(_0x24f63c=_0x20975a[_0x547ce4(0x1da)]['error'],_0x20975a[_0x547ce4(0x1da)][_0x547ce4(0x18c)]=function(){}),_0x305e48&&typeof _0x305e48['length']==_0x547ce4(0x1ea)&&(_0x251137[_0x547ce4(0x1bc)]=_0x305e48['length']);}catch{}finally{_0x24f63c&&(_0x20975a[_0x547ce4(0x1da)]['error']=_0x24f63c);}if(_0x251137['type']===_0x547ce4(0x1ea)||_0x251137[_0x547ce4(0x1e4)]===_0x547ce4(0x164)){if(isNaN(_0x251137[_0x547ce4(0x1c4)]))_0x251137[_0x547ce4(0x16a)]=!0x0,delete _0x251137['value'];else switch(_0x251137['value']){case Number[_0x547ce4(0x17b)]:_0x251137[_0x547ce4(0x227)]=!0x0,delete _0x251137[_0x547ce4(0x1c4)];break;case Number[_0x547ce4(0x207)]:_0x251137[_0x547ce4(0x193)]=!0x0,delete _0x251137[_0x547ce4(0x1c4)];break;case 0x0:this[_0x547ce4(0x181)](_0x251137[_0x547ce4(0x1c4)])&&(_0x251137[_0x547ce4(0x173)]=!0x0);break;}}else _0x251137[_0x547ce4(0x1e4)]===_0x547ce4(0x1f1)&&typeof _0x305e48[_0x547ce4(0x221)]=='string'&&_0x305e48[_0x547ce4(0x221)]&&_0x251137[_0x547ce4(0x221)]&&_0x305e48['name']!==_0x251137[_0x547ce4(0x221)]&&(_0x251137[_0x547ce4(0x1ff)]=_0x305e48[_0x547ce4(0x221)]);}[_0x364808(0x181)](_0x43087d){var _0xe5bd7a=_0x364808;return 0x1/_0x43087d===Number[_0xe5bd7a(0x207)];}[_0x364808(0x211)](_0x3bd249){var _0x50f34f=_0x364808;!_0x3bd249[_0x50f34f(0x172)]||!_0x3bd249[_0x50f34f(0x172)][_0x50f34f(0x1bc)]||_0x3bd249[_0x50f34f(0x1e4)]==='array'||_0x3bd249['type']==='Map'||_0x3bd249[_0x50f34f(0x1e4)]===_0x50f34f(0x174)||_0x3bd249['props'][_0x50f34f(0x153)](function(_0xd6efcd,_0x3125cc){var _0x364e0f=_0x50f34f,_0x23d1d2=_0xd6efcd[_0x364e0f(0x221)]['toLowerCase'](),_0x5f2b33=_0x3125cc[_0x364e0f(0x221)]['toLowerCase']();return _0x23d1d2<_0x5f2b33?-0x1:_0x23d1d2>_0x5f2b33?0x1:0x0;});}[_0x364808(0x1af)](_0x2b3eb0,_0x42ddec){var _0x17895c=_0x364808;if(!(_0x42ddec[_0x17895c(0x1b9)]||!_0x2b3eb0[_0x17895c(0x172)]||!_0x2b3eb0[_0x17895c(0x172)][_0x17895c(0x1bc)])){for(var _0x48b78b=[],_0x3c14b5=[],_0x1ebf32=0x0,_0x457f6b=_0x2b3eb0['props'][_0x17895c(0x1bc)];_0x1ebf32<_0x457f6b;_0x1ebf32++){var _0x49f96f=_0x2b3eb0[_0x17895c(0x172)][_0x1ebf32];_0x49f96f[_0x17895c(0x1e4)]===_0x17895c(0x1f1)?_0x48b78b[_0x17895c(0x139)](_0x49f96f):_0x3c14b5['push'](_0x49f96f);}if(!(!_0x3c14b5[_0x17895c(0x1bc)]||_0x48b78b[_0x17895c(0x1bc)]<=0x1)){_0x2b3eb0['props']=_0x3c14b5;var _0x732613={'functionsNode':!0x0,'props':_0x48b78b};this[_0x17895c(0x223)](_0x732613,_0x42ddec),this['_setNodeLabel'](_0x732613,_0x42ddec),this['_setNodeExpandableState'](_0x732613),this['_setNodePermissions'](_0x732613,_0x42ddec),_0x732613['id']+='\\x20f',_0x2b3eb0[_0x17895c(0x172)]['unshift'](_0x732613);}}}[_0x364808(0x20f)](_0x4cb218,_0x18c069){}['_setNodeExpandableState'](_0x139f87){}[_0x364808(0x210)](_0x438293){var _0x48c539=_0x364808;return Array[_0x48c539(0x1c3)](_0x438293)||typeof _0x438293==_0x48c539(0x1bf)&&this[_0x48c539(0x1db)](_0x438293)===_0x48c539(0x18a);}[_0x364808(0x1e5)](_0x38254d,_0x22f2f9){}[_0x364808(0x187)](_0x1284a1){var _0x3e870f=_0x364808;delete _0x1284a1['_hasSymbolPropertyOnItsPath'],delete _0x1284a1['_hasSetOnItsPath'],delete _0x1284a1[_0x3e870f(0x1be)];}[_0x364808(0x1a1)](_0x202264,_0x18c7b4){}}let _0x1a5ae2=new _0x161e15(),_0x2d2127={'props':0x64,'elements':0x64,'strLength':0x400*0x32,'totalStrLength':0x400*0x32,'autoExpandLimit':0x1388,'autoExpandMaxDepth':0xa},_0x466dc4={'props':0x5,'elements':0x5,'strLength':0x100,'totalStrLength':0x100*0x3,'autoExpandLimit':0x1e,'autoExpandMaxDepth':0x2};function _0x12f8c6(_0x744fd5,_0x575bab,_0x404b69,_0x5c2066,_0x22b4a2,_0x338849){var _0x286d43=_0x364808;let _0x286fa6,_0x3b4ce7;try{_0x3b4ce7=_0x54c32e(),_0x286fa6=_0x228441[_0x575bab],!_0x286fa6||_0x3b4ce7-_0x286fa6['ts']>0x1f4&&_0x286fa6['count']&&_0x286fa6[_0x286d43(0x154)]/_0x286fa6[_0x286d43(0x17a)]<0x64?(_0x228441[_0x575bab]=_0x286fa6={'count':0x0,'time':0x0,'ts':_0x3b4ce7},_0x228441['hits']={}):_0x3b4ce7-_0x228441[_0x286d43(0x20d)]['ts']>0x32&&_0x228441[_0x286d43(0x20d)][_0x286d43(0x17a)]&&_0x228441[_0x286d43(0x20d)]['time']/_0x228441[_0x286d43(0x20d)][_0x286d43(0x17a)]<0x64&&(_0x228441[_0x286d43(0x20d)]={});let _0x12a9a=[],_0x341b19=_0x286fa6[_0x286d43(0x1c8)]||_0x228441[_0x286d43(0x20d)][_0x286d43(0x1c8)]?_0x466dc4:_0x2d2127,_0x12c683=_0x20694f=>{var _0x4edb5f=_0x286d43;let _0xe8ead4={};return _0xe8ead4[_0x4edb5f(0x172)]=_0x20694f[_0x4edb5f(0x172)],_0xe8ead4[_0x4edb5f(0x161)]=_0x20694f[_0x4edb5f(0x161)],_0xe8ead4[_0x4edb5f(0x1a7)]=_0x20694f['strLength'],_0xe8ead4['totalStrLength']=_0x20694f[_0x4edb5f(0x208)],_0xe8ead4[_0x4edb5f(0x1fb)]=_0x20694f['autoExpandLimit'],_0xe8ead4[_0x4edb5f(0x17c)]=_0x20694f['autoExpandMaxDepth'],_0xe8ead4['sortProps']=!0x1,_0xe8ead4['noFunctions']=!_0xd21da6,_0xe8ead4['depth']=0x1,_0xe8ead4['level']=0x0,_0xe8ead4['expId']=_0x4edb5f(0x155),_0xe8ead4['rootExpression']=_0x4edb5f(0x14d),_0xe8ead4['autoExpand']=!0x0,_0xe8ead4['autoExpandPreviousObjects']=[],_0xe8ead4[_0x4edb5f(0x1e9)]=0x0,_0xe8ead4['resolveGetters']=!0x0,_0xe8ead4['allStrLength']=0x0,_0xe8ead4[_0x4edb5f(0x1b2)]={'current':void 0x0,'parent':void 0x0,'index':0x0},_0xe8ead4;};for(var _0x399617=0x0;_0x399617<_0x22b4a2[_0x286d43(0x1bc)];_0x399617++)_0x12a9a[_0x286d43(0x139)](_0x1a5ae2['serialize']({'timeNode':_0x744fd5==='time'||void 0x0},_0x22b4a2[_0x399617],_0x12c683(_0x341b19),{}));if(_0x744fd5===_0x286d43(0x13f)||_0x744fd5===_0x286d43(0x18c)){let _0x4d3f5d=Error[_0x286d43(0x163)];try{Error[_0x286d43(0x163)]=0x1/0x0,_0x12a9a['push'](_0x1a5ae2['serialize']({'stackNode':!0x0},new Error()[_0x286d43(0x162)],_0x12c683(_0x341b19),{'strLength':0x1/0x0}));}finally{Error['stackTraceLimit']=_0x4d3f5d;}}return{'method':_0x286d43(0x1b8),'version':_0x30ca49,'args':[{'ts':_0x404b69,'session':_0x5c2066,'args':_0x12a9a,'id':_0x575bab,'context':_0x338849}]};}catch(_0x2d10a6){return{'method':_0x286d43(0x1b8),'version':_0x30ca49,'args':[{'ts':_0x404b69,'session':_0x5c2066,'args':[{'type':_0x286d43(0x1d5),'error':_0x2d10a6&&_0x2d10a6[_0x286d43(0x1ae)]}],'id':_0x575bab,'context':_0x338849}]};}finally{try{if(_0x286fa6&&_0x3b4ce7){let _0xfda9da=_0x54c32e();_0x286fa6[_0x286d43(0x17a)]++,_0x286fa6[_0x286d43(0x154)]+=_0x5f2efb(_0x3b4ce7,_0xfda9da),_0x286fa6['ts']=_0xfda9da,_0x228441['hits'][_0x286d43(0x17a)]++,_0x228441[_0x286d43(0x20d)][_0x286d43(0x154)]+=_0x5f2efb(_0x3b4ce7,_0xfda9da),_0x228441[_0x286d43(0x20d)]['ts']=_0xfda9da,(_0x286fa6['count']>0x32||_0x286fa6[_0x286d43(0x154)]>0x64)&&(_0x286fa6[_0x286d43(0x1c8)]=!0x0),(_0x228441[_0x286d43(0x20d)][_0x286d43(0x17a)]>0x3e8||_0x228441[_0x286d43(0x20d)][_0x286d43(0x154)]>0x12c)&&(_0x228441[_0x286d43(0x20d)]['reduceLimits']=!0x0);}}catch{}}}return _0x12f8c6;}((_0x3f4161,_0x1dd262,_0x54de6e,_0x2e8897,_0x26c002,_0x342680,_0x210fc4,_0x44bfe1,_0x59aa98,_0x35bc34,_0x188bb8)=>{var _0x559ee0=_0x5ba81e;if(_0x3f4161[_0x559ee0(0x1a0)])return _0x3f4161[_0x559ee0(0x1a0)];if(!H(_0x3f4161,_0x44bfe1,_0x26c002))return _0x3f4161[_0x559ee0(0x1a0)]={'consoleLog':()=>{},'consoleTrace':()=>{},'consoleTime':()=>{},'consoleTimeEnd':()=>{},'autoLog':()=>{},'autoLogMany':()=>{},'autoTraceMany':()=>{},'coverage':()=>{},'autoTrace':()=>{},'autoTime':()=>{},'autoTimeEnd':()=>{}},_0x3f4161[_0x559ee0(0x1a0)];let _0x59f937=B(_0x3f4161),_0xf87053=_0x59f937['elapsed'],_0x37bda6=_0x59f937[_0x559ee0(0x228)],_0x4f6980=_0x59f937[_0x559ee0(0x1a3)],_0x143bd1={'hits':{},'ts':{}},_0x22add3=X(_0x3f4161,_0x59aa98,_0x143bd1,_0x342680),_0x4dd125=_0xd6de3a=>{_0x143bd1['ts'][_0xd6de3a]=_0x37bda6();},_0x3c377c=(_0x41b5db,_0x54ca10)=>{var _0x562cd3=_0x559ee0;let _0x432b1b=_0x143bd1['ts'][_0x54ca10];if(delete _0x143bd1['ts'][_0x54ca10],_0x432b1b){let _0x413112=_0xf87053(_0x432b1b,_0x37bda6());_0x530bde(_0x22add3(_0x562cd3(0x154),_0x41b5db,_0x4f6980(),_0x273513,[_0x413112],_0x54ca10));}},_0x213297=_0x3c4606=>{var _0x4701e5=_0x559ee0,_0x33bf67;return _0x26c002===_0x4701e5(0x22c)&&_0x3f4161[_0x4701e5(0x1e3)]&&((_0x33bf67=_0x3c4606==null?void 0x0:_0x3c4606['args'])==null?void 0x0:_0x33bf67[_0x4701e5(0x1bc)])&&(_0x3c4606[_0x4701e5(0x150)][0x0][_0x4701e5(0x1e3)]=_0x3f4161[_0x4701e5(0x1e3)]),_0x3c4606;};_0x3f4161[_0x559ee0(0x1a0)]={'consoleLog':(_0x4be4fb,_0x3a4e27)=>{var _0x3f96e8=_0x559ee0;_0x3f4161['console'][_0x3f96e8(0x1b8)][_0x3f96e8(0x221)]!==_0x3f96e8(0x1c5)&&_0x530bde(_0x22add3(_0x3f96e8(0x1b8),_0x4be4fb,_0x4f6980(),_0x273513,_0x3a4e27));},'consoleTrace':(_0x237e31,_0xe7e85b)=>{var _0x35d605=_0x559ee0,_0x559c2c,_0x487a67;_0x3f4161[_0x35d605(0x1da)]['log'][_0x35d605(0x221)]!=='disabledTrace'&&((_0x487a67=(_0x559c2c=_0x3f4161[_0x35d605(0x143)])==null?void 0x0:_0x559c2c[_0x35d605(0x1ee)])!=null&&_0x487a67[_0x35d605(0x1b2)]&&(_0x3f4161[_0x35d605(0x204)]=!0x0),_0x530bde(_0x213297(_0x22add3(_0x35d605(0x13f),_0x237e31,_0x4f6980(),_0x273513,_0xe7e85b))));},'consoleError':(_0x3b3d6d,_0x2c95ac)=>{var _0x1055bf=_0x559ee0;_0x3f4161['_ninjaIgnoreNextError']=!0x0,_0x530bde(_0x213297(_0x22add3(_0x1055bf(0x18c),_0x3b3d6d,_0x4f6980(),_0x273513,_0x2c95ac)));},'consoleTime':_0x5a5043=>{_0x4dd125(_0x5a5043);},'consoleTimeEnd':(_0x44a67c,_0x5b3614)=>{_0x3c377c(_0x5b3614,_0x44a67c);},'autoLog':(_0x19de90,_0x564259)=>{var _0x42e6f9=_0x559ee0;_0x530bde(_0x22add3(_0x42e6f9(0x1b8),_0x564259,_0x4f6980(),_0x273513,[_0x19de90]));},'autoLogMany':(_0x11ff9f,_0x978647)=>{var _0x3b8c6b=_0x559ee0;_0x530bde(_0x22add3(_0x3b8c6b(0x1b8),_0x11ff9f,_0x4f6980(),_0x273513,_0x978647));},'autoTrace':(_0x4d053c,_0x5efa42)=>{var _0x172889=_0x559ee0;_0x530bde(_0x213297(_0x22add3(_0x172889(0x13f),_0x5efa42,_0x4f6980(),_0x273513,[_0x4d053c])));},'autoTraceMany':(_0x29f748,_0x21d02a)=>{var _0x44135c=_0x559ee0;_0x530bde(_0x213297(_0x22add3(_0x44135c(0x13f),_0x29f748,_0x4f6980(),_0x273513,_0x21d02a)));},'autoTime':(_0x333e38,_0x776a9f,_0x206574)=>{_0x4dd125(_0x206574);},'autoTimeEnd':(_0x165b4c,_0x3ab224,_0xed4914)=>{_0x3c377c(_0x3ab224,_0xed4914);},'coverage':_0x23522f=>{_0x530bde({'method':'coverage','version':_0x342680,'args':[{'id':_0x23522f}]});}};let _0x530bde=q(_0x3f4161,_0x1dd262,_0x54de6e,_0x2e8897,_0x26c002,_0x35bc34,_0x188bb8),_0x273513=_0x3f4161[_0x559ee0(0x168)];return _0x3f4161[_0x559ee0(0x1a0)];})(globalThis,_0x5ba81e(0x16d),'65418',"c:\\\\Users\\\\Mahmoud\\\\.vscode\\\\extensions\\\\wallabyjs.console-ninja-1.0.381\\\\node_modules",'angular',_0x5ba81e(0x16f),'1737280146851',["localhost","127.0.0.1","example.cypress.io","teec-f6-01","10.200.7.2"],_0x5ba81e(0x1d8),_0x5ba81e(0x1bd),_0x5ba81e(0x14c));`)}catch{}}function xU(n,...e){try{vU().consoleError(n,e)}catch{}return e}
